(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Qf(n){const e=Object.create(null);for(const t of n.split(","))e[t]=1;return t=>t in e}const dt={},Uo=[],Os=()=>{},VI=()=>!1,ch=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),Xf=n=>n.startsWith("onUpdate:"),hn=Object.assign,Jf=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},MI=Object.prototype.hasOwnProperty,it=(n,e)=>MI.call(n,e),Se=Array.isArray,jo=n=>Yl(n)==="[object Map]",uh=n=>Yl(n)==="[object Set]",mg=n=>Yl(n)==="[object Date]",Le=n=>typeof n=="function",Mt=n=>typeof n=="string",Ms=n=>typeof n=="symbol",_t=n=>n!==null&&typeof n=="object",wy=n=>(_t(n)||Le(n))&&Le(n.then)&&Le(n.catch),Ay=Object.prototype.toString,Yl=n=>Ay.call(n),$I=n=>Yl(n).slice(8,-1),Iy=n=>Yl(n)==="[object Object]",Zf=n=>Mt(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,fl=Qf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),hh=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},FI=/-(\w)/g,es=hh(n=>n.replace(FI,(e,t)=>t?t.toUpperCase():"")),UI=/\B([A-Z])/g,Zr=hh(n=>n.replace(UI,"-$1").toLowerCase()),dh=hh(n=>n.charAt(0).toUpperCase()+n.slice(1)),yd=hh(n=>n?`on${dh(n)}`:""),qi=(n,e)=>!Object.is(n,e),lu=(n,...e)=>{for(let t=0;t<n.length;t++)n[t](...e)},Cy=(n,e,t,s=!1)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,writable:s,value:t})},Ru=n=>{const e=parseFloat(n);return isNaN(e)?n:e};let gg;const fh=()=>gg||(gg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Pl(n){if(Se(n)){const e={};for(let t=0;t<n.length;t++){const s=n[t],i=Mt(s)?qI(s):Pl(s);if(i)for(const r in i)e[r]=i[r]}return e}else if(Mt(n)||_t(n))return n}const jI=/;(?![^(]*\))/g,BI=/:([^]+)/,HI=/\/\*[^]*?\*\//g;function qI(n){const e={};return n.replace(HI,"").split(jI).forEach(t=>{if(t){const s=t.split(BI);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Bo(n){let e="";if(Mt(n))e=n;else if(Se(n))for(let t=0;t<n.length;t++){const s=Bo(n[t]);s&&(e+=s+" ")}else if(_t(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}const WI="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",zI=Qf(WI);function Sy(n){return!!n||n===""}function KI(n,e){if(n.length!==e.length)return!1;let t=!0;for(let s=0;t&&s<n.length;s++)t=ph(n[s],e[s]);return t}function ph(n,e){if(n===e)return!0;let t=mg(n),s=mg(e);if(t||s)return t&&s?n.getTime()===e.getTime():!1;if(t=Ms(n),s=Ms(e),t||s)return n===e;if(t=Se(n),s=Se(e),t||s)return t&&s?KI(n,e):!1;if(t=_t(n),s=_t(e),t||s){if(!t||!s)return!1;const i=Object.keys(n).length,r=Object.keys(e).length;if(i!==r)return!1;for(const o in n){const l=n.hasOwnProperty(o),u=e.hasOwnProperty(o);if(l&&!u||!l&&u||!ph(n[o],e[o]))return!1}}return String(n)===String(e)}function GI(n,e){return n.findIndex(t=>ph(t,e))}const Ry=n=>!!(n&&n.__v_isRef===!0),cn=n=>Mt(n)?n:n==null?"":Se(n)||_t(n)&&(n.toString===Ay||!Le(n.toString))?Ry(n)?cn(n.value):JSON.stringify(n,Py,2):String(n),Py=(n,e)=>Ry(e)?Py(n,e.value):jo(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[s,i],r)=>(t[Ed(s,r)+" =>"]=i,t),{})}:uh(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>Ed(t))}:Ms(e)?Ed(e):_t(e)&&!Se(e)&&!Iy(e)?String(e):e,Ed=(n,e="")=>{var t;return Ms(n)?`Symbol(${(t=n.description)!=null?t:e})`:n};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ln;class YI{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ln,!e&&Ln&&(this.index=(Ln.scopes||(Ln.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=Ln;try{return Ln=this,e()}finally{Ln=t}}}on(){Ln=this}off(){Ln=this.parent}stop(e){if(this._active){this._active=!1;let t,s;for(t=0,s=this.effects.length;t<s;t++)this.effects[t].stop();for(this.effects.length=0,t=0,s=this.cleanups.length;t<s;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function QI(){return Ln}let gt;const bd=new WeakSet;class Oy{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ln&&Ln.active&&Ln.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,bd.has(this)&&(bd.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ny(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,_g(this),ky(this);const e=gt,t=ds;gt=this,ds=!0;try{return this.fn()}finally{xy(this),gt=e,ds=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)np(e);this.deps=this.depsTail=void 0,_g(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?bd.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){sf(this)&&this.run()}get dirty(){return sf(this)}}let Dy=0,pl,ml;function Ny(n,e=!1){if(n.flags|=8,e){n.next=ml,ml=n;return}n.next=pl,pl=n}function ep(){Dy++}function tp(){if(--Dy>0)return;if(ml){let e=ml;for(ml=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let n;for(;pl;){let e=pl;for(pl=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){n||(n=s)}e=t}}if(n)throw n}function ky(n){for(let e=n.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function xy(n){let e,t=n.depsTail,s=t;for(;s;){const i=s.prevDep;s.version===-1?(s===t&&(t=i),np(s),XI(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}n.deps=e,n.depsTail=t}function sf(n){for(let e=n.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Ly(e.dep.computed)||e.dep.version!==e.version))return!0;return!!n._dirty}function Ly(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===Ol))return;n.globalVersion=Ol;const e=n.dep;if(n.flags|=2,e.version>0&&!n.isSSR&&n.deps&&!sf(n)){n.flags&=-3;return}const t=gt,s=ds;gt=n,ds=!0;try{ky(n);const i=n.fn(n._value);(e.version===0||qi(i,n._value))&&(n._value=i,e.version++)}catch(i){throw e.version++,i}finally{gt=t,ds=s,xy(n),n.flags&=-3}}function np(n,e=!1){const{dep:t,prevSub:s,nextSub:i}=n;if(s&&(s.nextSub=i,n.prevSub=void 0),i&&(i.prevSub=s,n.nextSub=void 0),t.subs===n&&(t.subs=s,!s&&t.computed)){t.computed.flags&=-5;for(let r=t.computed.deps;r;r=r.nextDep)np(r,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function XI(n){const{prevDep:e,nextDep:t}=n;e&&(e.nextDep=t,n.prevDep=void 0),t&&(t.prevDep=e,n.nextDep=void 0)}let ds=!0;const Vy=[];function or(){Vy.push(ds),ds=!1}function ar(){const n=Vy.pop();ds=n===void 0?!0:n}function _g(n){const{cleanup:e}=n;if(n.cleanup=void 0,e){const t=gt;gt=void 0;try{e()}finally{gt=t}}}let Ol=0;class JI{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class sp{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!gt||!ds||gt===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==gt)t=this.activeLink=new JI(gt,this),gt.deps?(t.prevDep=gt.depsTail,gt.depsTail.nextDep=t,gt.depsTail=t):gt.deps=gt.depsTail=t,My(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const s=t.nextDep;s.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=s),t.prevDep=gt.depsTail,t.nextDep=void 0,gt.depsTail.nextDep=t,gt.depsTail=t,gt.deps===t&&(gt.deps=s)}return t}trigger(e){this.version++,Ol++,this.notify(e)}notify(e){ep();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{tp()}}}function My(n){if(n.dep.sc++,n.sub.flags&4){const e=n.dep.computed;if(e&&!n.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)My(s)}const t=n.dep.subs;t!==n&&(n.prevSub=t,t&&(t.nextSub=n)),n.dep.subs=n}}const rf=new WeakMap,Ur=Symbol(""),of=Symbol(""),Dl=Symbol("");function rn(n,e,t){if(ds&&gt){let s=rf.get(n);s||rf.set(n,s=new Map);let i=s.get(t);i||(s.set(t,i=new sp),i.map=s,i.key=t),i.track()}}function ei(n,e,t,s,i,r){const o=rf.get(n);if(!o){Ol++;return}const l=u=>{u&&u.trigger()};if(ep(),e==="clear")o.forEach(l);else{const u=Se(n),h=u&&Zf(t);if(u&&t==="length"){const d=Number(s);o.forEach((g,v)=>{(v==="length"||v===Dl||!Ms(v)&&v>=d)&&l(g)})}else switch((t!==void 0||o.has(void 0))&&l(o.get(t)),h&&l(o.get(Dl)),e){case"add":u?h&&l(o.get("length")):(l(o.get(Ur)),jo(n)&&l(o.get(of)));break;case"delete":u||(l(o.get(Ur)),jo(n)&&l(o.get(of)));break;case"set":jo(n)&&l(o.get(Ur));break}}tp()}function So(n){const e=st(n);return e===n?e:(rn(e,"iterate",Dl),Jn(n)?e:e.map(on))}function mh(n){return rn(n=st(n),"iterate",Dl),n}const ZI={__proto__:null,[Symbol.iterator](){return Td(this,Symbol.iterator,on)},concat(...n){return So(this).concat(...n.map(e=>Se(e)?So(e):e))},entries(){return Td(this,"entries",n=>(n[1]=on(n[1]),n))},every(n,e){return Xs(this,"every",n,e,void 0,arguments)},filter(n,e){return Xs(this,"filter",n,e,t=>t.map(on),arguments)},find(n,e){return Xs(this,"find",n,e,on,arguments)},findIndex(n,e){return Xs(this,"findIndex",n,e,void 0,arguments)},findLast(n,e){return Xs(this,"findLast",n,e,on,arguments)},findLastIndex(n,e){return Xs(this,"findLastIndex",n,e,void 0,arguments)},forEach(n,e){return Xs(this,"forEach",n,e,void 0,arguments)},includes(...n){return wd(this,"includes",n)},indexOf(...n){return wd(this,"indexOf",n)},join(n){return So(this).join(n)},lastIndexOf(...n){return wd(this,"lastIndexOf",n)},map(n,e){return Xs(this,"map",n,e,void 0,arguments)},pop(){return nl(this,"pop")},push(...n){return nl(this,"push",n)},reduce(n,...e){return vg(this,"reduce",n,e)},reduceRight(n,...e){return vg(this,"reduceRight",n,e)},shift(){return nl(this,"shift")},some(n,e){return Xs(this,"some",n,e,void 0,arguments)},splice(...n){return nl(this,"splice",n)},toReversed(){return So(this).toReversed()},toSorted(n){return So(this).toSorted(n)},toSpliced(...n){return So(this).toSpliced(...n)},unshift(...n){return nl(this,"unshift",n)},values(){return Td(this,"values",on)}};function Td(n,e,t){const s=mh(n),i=s[e]();return s!==n&&!Jn(n)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.value&&(r.value=t(r.value)),r}),i}const e0=Array.prototype;function Xs(n,e,t,s,i,r){const o=mh(n),l=o!==n&&!Jn(n),u=o[e];if(u!==e0[e]){const g=u.apply(n,r);return l?on(g):g}let h=t;o!==n&&(l?h=function(g,v){return t.call(this,on(g),v,n)}:t.length>2&&(h=function(g,v){return t.call(this,g,v,n)}));const d=u.call(o,h,s);return l&&i?i(d):d}function vg(n,e,t,s){const i=mh(n);let r=t;return i!==n&&(Jn(n)?t.length>3&&(r=function(o,l,u){return t.call(this,o,l,u,n)}):r=function(o,l,u){return t.call(this,o,on(l),u,n)}),i[e](r,...s)}function wd(n,e,t){const s=st(n);rn(s,"iterate",Dl);const i=s[e](...t);return(i===-1||i===!1)&&op(t[0])?(t[0]=st(t[0]),s[e](...t)):i}function nl(n,e,t=[]){or(),ep();const s=st(n)[e].apply(n,t);return tp(),ar(),s}const t0=Qf("__proto__,__v_isRef,__isVue"),$y=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(Ms));function n0(n){Ms(n)||(n=String(n));const e=st(this);return rn(e,"has",n),e.hasOwnProperty(n)}class Fy{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,s){if(t==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(t==="__v_isReactive")return!i;if(t==="__v_isReadonly")return i;if(t==="__v_isShallow")return r;if(t==="__v_raw")return s===(i?r?d0:Hy:r?By:jy).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=Se(e);if(!i){let u;if(o&&(u=ZI[t]))return u;if(t==="hasOwnProperty")return n0}const l=Reflect.get(e,t,un(e)?e:s);return(Ms(t)?$y.has(t):t0(t))||(i||rn(e,"get",t),r)?l:un(l)?o&&Zf(t)?l:l.value:_t(l)?i?Wy(l):gh(l):l}}class Uy extends Fy{constructor(e=!1){super(!1,e)}set(e,t,s,i){let r=e[t];if(!this._isShallow){const u=Br(r);if(!Jn(s)&&!Br(s)&&(r=st(r),s=st(s)),!Se(e)&&un(r)&&!un(s))return u?!1:(r.value=s,!0)}const o=Se(e)&&Zf(t)?Number(t)<e.length:it(e,t),l=Reflect.set(e,t,s,un(e)?e:i);return e===st(i)&&(o?qi(s,r)&&ei(e,"set",t,s):ei(e,"add",t,s)),l}deleteProperty(e,t){const s=it(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&s&&ei(e,"delete",t,void 0),i}has(e,t){const s=Reflect.has(e,t);return(!Ms(t)||!$y.has(t))&&rn(e,"has",t),s}ownKeys(e){return rn(e,"iterate",Se(e)?"length":Ur),Reflect.ownKeys(e)}}class s0 extends Fy{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const i0=new Uy,r0=new s0,o0=new Uy(!0);const af=n=>n,Wc=n=>Reflect.getPrototypeOf(n);function a0(n,e,t){return function(...s){const i=this.__v_raw,r=st(i),o=jo(r),l=n==="entries"||n===Symbol.iterator&&o,u=n==="keys"&&o,h=i[n](...s),d=t?af:e?lf:on;return!e&&rn(r,"iterate",u?of:Ur),{next(){const{value:g,done:v}=h.next();return v?{value:g,done:v}:{value:l?[d(g[0]),d(g[1])]:d(g),done:v}},[Symbol.iterator](){return this}}}}function zc(n){return function(...e){return n==="delete"?!1:n==="clear"?void 0:this}}function l0(n,e){const t={get(i){const r=this.__v_raw,o=st(r),l=st(i);n||(qi(i,l)&&rn(o,"get",i),rn(o,"get",l));const{has:u}=Wc(o),h=e?af:n?lf:on;if(u.call(o,i))return h(r.get(i));if(u.call(o,l))return h(r.get(l));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!n&&rn(st(i),"iterate",Ur),Reflect.get(i,"size",i)},has(i){const r=this.__v_raw,o=st(r),l=st(i);return n||(qi(i,l)&&rn(o,"has",i),rn(o,"has",l)),i===l?r.has(i):r.has(i)||r.has(l)},forEach(i,r){const o=this,l=o.__v_raw,u=st(l),h=e?af:n?lf:on;return!n&&rn(u,"iterate",Ur),l.forEach((d,g)=>i.call(r,h(d),h(g),o))}};return hn(t,n?{add:zc("add"),set:zc("set"),delete:zc("delete"),clear:zc("clear")}:{add(i){!e&&!Jn(i)&&!Br(i)&&(i=st(i));const r=st(this);return Wc(r).has.call(r,i)||(r.add(i),ei(r,"add",i,i)),this},set(i,r){!e&&!Jn(r)&&!Br(r)&&(r=st(r));const o=st(this),{has:l,get:u}=Wc(o);let h=l.call(o,i);h||(i=st(i),h=l.call(o,i));const d=u.call(o,i);return o.set(i,r),h?qi(r,d)&&ei(o,"set",i,r):ei(o,"add",i,r),this},delete(i){const r=st(this),{has:o,get:l}=Wc(r);let u=o.call(r,i);u||(i=st(i),u=o.call(r,i)),l&&l.call(r,i);const h=r.delete(i);return u&&ei(r,"delete",i,void 0),h},clear(){const i=st(this),r=i.size!==0,o=i.clear();return r&&ei(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=a0(i,n,e)}),t}function ip(n,e){const t=l0(n,e);return(s,i,r)=>i==="__v_isReactive"?!n:i==="__v_isReadonly"?n:i==="__v_raw"?s:Reflect.get(it(t,i)&&i in s?t:s,i,r)}const c0={get:ip(!1,!1)},u0={get:ip(!1,!0)},h0={get:ip(!0,!1)};const jy=new WeakMap,By=new WeakMap,Hy=new WeakMap,d0=new WeakMap;function f0(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function p0(n){return n.__v_skip||!Object.isExtensible(n)?0:f0($I(n))}function gh(n){return Br(n)?n:rp(n,!1,i0,c0,jy)}function qy(n){return rp(n,!1,o0,u0,By)}function Wy(n){return rp(n,!0,r0,h0,Hy)}function rp(n,e,t,s,i){if(!_t(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const r=i.get(n);if(r)return r;const o=p0(n);if(o===0)return n;const l=new Proxy(n,o===2?s:t);return i.set(n,l),l}function Ho(n){return Br(n)?Ho(n.__v_raw):!!(n&&n.__v_isReactive)}function Br(n){return!!(n&&n.__v_isReadonly)}function Jn(n){return!!(n&&n.__v_isShallow)}function op(n){return n?!!n.__v_raw:!1}function st(n){const e=n&&n.__v_raw;return e?st(e):n}function m0(n){return!it(n,"__v_skip")&&Object.isExtensible(n)&&Cy(n,"__v_skip",!0),n}const on=n=>_t(n)?gh(n):n,lf=n=>_t(n)?Wy(n):n;function un(n){return n?n.__v_isRef===!0:!1}function Nt(n){return zy(n,!1)}function g0(n){return zy(n,!0)}function zy(n,e){return un(n)?n:new _0(n,e)}class _0{constructor(e,t){this.dep=new sp,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:st(e),this._value=t?e:on(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,s=this.__v_isShallow||Jn(e)||Br(e);e=s?e:st(e),qi(e,t)&&(this._rawValue=e,this._value=s?e:on(e),this.dep.trigger())}}function qo(n){return un(n)?n.value:n}const v0={get:(n,e,t)=>e==="__v_raw"?n:qo(Reflect.get(n,e,t)),set:(n,e,t,s)=>{const i=n[e];return un(i)&&!un(t)?(i.value=t,!0):Reflect.set(n,e,t,s)}};function Ky(n){return Ho(n)?n:new Proxy(n,v0)}class y0{constructor(e,t,s){this.fn=e,this.setter=t,this._value=void 0,this.dep=new sp(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ol-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&gt!==this)return Ny(this,!0),!0}get value(){const e=this.dep.track();return Ly(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function E0(n,e,t=!1){let s,i;return Le(n)?s=n:(s=n.get,i=n.set),new y0(s,i,t)}const Kc={},Pu=new WeakMap;let kr;function b0(n,e=!1,t=kr){if(t){let s=Pu.get(t);s||Pu.set(t,s=[]),s.push(n)}}function T0(n,e,t=dt){const{immediate:s,deep:i,once:r,scheduler:o,augmentJob:l,call:u}=t,h=H=>i?H:Jn(H)||i===!1||i===0?ti(H,1):ti(H);let d,g,v,b,k=!1,L=!1;if(un(n)?(g=()=>n.value,k=Jn(n)):Ho(n)?(g=()=>h(n),k=!0):Se(n)?(L=!0,k=n.some(H=>Ho(H)||Jn(H)),g=()=>n.map(H=>{if(un(H))return H.value;if(Ho(H))return h(H);if(Le(H))return u?u(H,2):H()})):Le(n)?e?g=u?()=>u(n,2):n:g=()=>{if(v){or();try{v()}finally{ar()}}const H=kr;kr=d;try{return u?u(n,3,[b]):n(b)}finally{kr=H}}:g=Os,e&&i){const H=g,ce=i===!0?1/0:i;g=()=>ti(H(),ce)}const M=QI(),U=()=>{d.stop(),M&&M.active&&Jf(M.effects,d)};if(r&&e){const H=e;e=(...ce)=>{H(...ce),U()}}let F=L?new Array(n.length).fill(Kc):Kc;const K=H=>{if(!(!(d.flags&1)||!d.dirty&&!H))if(e){const ce=d.run();if(i||k||(L?ce.some((he,S)=>qi(he,F[S])):qi(ce,F))){v&&v();const he=kr;kr=d;try{const S=[ce,F===Kc?void 0:L&&F[0]===Kc?[]:F,b];u?u(e,3,S):e(...S),F=ce}finally{kr=he}}}else d.run()};return l&&l(K),d=new Oy(g),d.scheduler=o?()=>o(K,!1):K,b=H=>b0(H,!1,d),v=d.onStop=()=>{const H=Pu.get(d);if(H){if(u)u(H,4);else for(const ce of H)ce();Pu.delete(d)}},e?s?K(!0):F=d.run():o?o(K.bind(null,!0),!0):d.run(),U.pause=d.pause.bind(d),U.resume=d.resume.bind(d),U.stop=U,U}function ti(n,e=1/0,t){if(e<=0||!_t(n)||n.__v_skip||(t=t||new Set,t.has(n)))return n;if(t.add(n),e--,un(n))ti(n.value,e,t);else if(Se(n))for(let s=0;s<n.length;s++)ti(n[s],e,t);else if(uh(n)||jo(n))n.forEach(s=>{ti(s,e,t)});else if(Iy(n)){for(const s in n)ti(n[s],e,t);for(const s of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,s)&&ti(n[s],e,t)}return n}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ql(n,e,t,s){try{return s?n(...s):n()}catch(i){_h(i,e,t)}}function $s(n,e,t,s){if(Le(n)){const i=Ql(n,e,t,s);return i&&wy(i)&&i.catch(r=>{_h(r,e,t)}),i}if(Se(n)){const i=[];for(let r=0;r<n.length;r++)i.push($s(n[r],e,t,s));return i}}function _h(n,e,t,s=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||dt;if(e){let l=e.parent;const u=e.proxy,h=`https://vuejs.org/error-reference/#runtime-${t}`;for(;l;){const d=l.ec;if(d){for(let g=0;g<d.length;g++)if(d[g](n,u,h)===!1)return}l=l.parent}if(r){or(),Ql(r,null,10,[n,u,h]),ar();return}}w0(n,t,i,s,o)}function w0(n,e,t,s=!0,i=!1){if(i)throw n;console.error(n)}const bn=[];let Cs=-1;const Wo=[];let Vi=null,Oo=0;const Gy=Promise.resolve();let Ou=null;function ap(n){const e=Ou||Gy;return n?e.then(this?n.bind(this):n):e}function A0(n){let e=Cs+1,t=bn.length;for(;e<t;){const s=e+t>>>1,i=bn[s],r=Nl(i);r<n||r===n&&i.flags&2?e=s+1:t=s}return e}function lp(n){if(!(n.flags&1)){const e=Nl(n),t=bn[bn.length-1];!t||!(n.flags&2)&&e>=Nl(t)?bn.push(n):bn.splice(A0(e),0,n),n.flags|=1,Yy()}}function Yy(){Ou||(Ou=Gy.then(Xy))}function I0(n){Se(n)?Wo.push(...n):Vi&&n.id===-1?Vi.splice(Oo+1,0,n):n.flags&1||(Wo.push(n),n.flags|=1),Yy()}function yg(n,e,t=Cs+1){for(;t<bn.length;t++){const s=bn[t];if(s&&s.flags&2){if(n&&s.id!==n.uid)continue;bn.splice(t,1),t--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Qy(n){if(Wo.length){const e=[...new Set(Wo)].sort((t,s)=>Nl(t)-Nl(s));if(Wo.length=0,Vi){Vi.push(...e);return}for(Vi=e,Oo=0;Oo<Vi.length;Oo++){const t=Vi[Oo];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}Vi=null,Oo=0}}const Nl=n=>n.id==null?n.flags&2?-1:1/0:n.id;function Xy(n){try{for(Cs=0;Cs<bn.length;Cs++){const e=bn[Cs];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ql(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Cs<bn.length;Cs++){const e=bn[Cs];e&&(e.flags&=-2)}Cs=-1,bn.length=0,Qy(),Ou=null,(bn.length||Wo.length)&&Xy()}}let Mn=null,Jy=null;function Du(n){const e=Mn;return Mn=n,Jy=n&&n.type.__scopeId||null,e}function cs(n,e=Mn,t){if(!e||n._n)return n;const s=(...i)=>{s._d&&Pg(-1);const r=Du(e);let o;try{o=n(...i)}finally{Du(r),s._d&&Pg(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function Rs(n,e){if(Mn===null)return n;const t=Th(Mn),s=n.dirs||(n.dirs=[]);for(let i=0;i<e.length;i++){let[r,o,l,u=dt]=e[i];r&&(Le(r)&&(r={mounted:r,updated:r}),r.deep&&ti(o),s.push({dir:r,instance:t,value:o,oldValue:void 0,arg:l,modifiers:u}))}return n}function Dr(n,e,t,s){const i=n.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const l=i[o];r&&(l.oldValue=r[o].value);let u=l.dir[s];u&&(or(),$s(u,t,8,[n.el,l,n,e]),ar())}}const C0=Symbol("_vte"),S0=n=>n.__isTeleport;function cp(n,e){n.shapeFlag&6&&n.component?(n.transition=e,cp(n.component.subTree,e)):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Zy(n,e){return Le(n)?hn({name:n.name},e,{setup:n}):n}function eE(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function Nu(n,e,t,s,i=!1){if(Se(n)){n.forEach((k,L)=>Nu(k,e&&(Se(e)?e[L]:e),t,s,i));return}if(gl(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Nu(n,e,t,s.component.subTree);return}const r=s.shapeFlag&4?Th(s.component):s.el,o=i?null:r,{i:l,r:u}=n,h=e&&e.r,d=l.refs===dt?l.refs={}:l.refs,g=l.setupState,v=st(g),b=g===dt?()=>!1:k=>it(v,k);if(h!=null&&h!==u&&(Mt(h)?(d[h]=null,b(h)&&(g[h]=null)):un(h)&&(h.value=null)),Le(u))Ql(u,l,12,[o,d]);else{const k=Mt(u),L=un(u);if(k||L){const M=()=>{if(n.f){const U=k?b(u)?g[u]:d[u]:u.value;i?Se(U)&&Jf(U,r):Se(U)?U.includes(r)||U.push(r):k?(d[u]=[r],b(u)&&(g[u]=d[u])):(u.value=[r],n.k&&(d[n.k]=u.value))}else k?(d[u]=o,b(u)&&(g[u]=o)):L&&(u.value=o,n.k&&(d[n.k]=o))};o?(M.id=-1,xn(M,t)):M()}}}fh().requestIdleCallback;fh().cancelIdleCallback;const gl=n=>!!n.type.__asyncLoader,tE=n=>n.type.__isKeepAlive;function R0(n,e){nE(n,"a",e)}function P0(n,e){nE(n,"da",e)}function nE(n,e,t=ln){const s=n.__wdc||(n.__wdc=()=>{let i=t;for(;i;){if(i.isDeactivated)return;i=i.parent}return n()});if(vh(e,s,t),t){let i=t.parent;for(;i&&i.parent;)tE(i.parent.vnode)&&O0(s,e,t,i),i=i.parent}}function O0(n,e,t,s){const i=vh(e,n,s,!0);up(()=>{Jf(s[e],i)},t)}function vh(n,e,t=ln,s=!1){if(t){const i=t[n]||(t[n]=[]),r=e.__weh||(e.__weh=(...o)=>{or();const l=Jl(t),u=$s(e,t,n,o);return l(),ar(),u});return s?i.unshift(r):i.push(r),r}}const pi=n=>(e,t=ln)=>{(!Ll||n==="sp")&&vh(n,(...s)=>e(...s),t)},D0=pi("bm"),Xl=pi("m"),N0=pi("bu"),k0=pi("u"),x0=pi("bum"),up=pi("um"),L0=pi("sp"),V0=pi("rtg"),M0=pi("rtc");function $0(n,e=ln){vh("ec",n,e)}const F0="components";function yh(n,e){return j0(F0,n,!0,e)||n}const U0=Symbol.for("v-ndc");function j0(n,e,t=!0,s=!1){const i=Mn||ln;if(i){const r=i.type;{const l=PC(r,!1);if(l&&(l===e||l===es(e)||l===dh(es(e))))return r}const o=Eg(i[n]||r[n],e)||Eg(i.appContext[n],e);return!o&&s?r:o}}function Eg(n,e){return n&&(n[e]||n[es(e)]||n[dh(es(e))])}function Hr(n,e,t,s){let i;const r=t,o=Se(n);if(o||Mt(n)){const l=o&&Ho(n);let u=!1;l&&(u=!Jn(n),n=mh(n)),i=new Array(n.length);for(let h=0,d=n.length;h<d;h++)i[h]=e(u?on(n[h]):n[h],h,void 0,r)}else if(typeof n=="number"){i=new Array(n);for(let l=0;l<n;l++)i[l]=e(l+1,l,void 0,r)}else if(_t(n))if(n[Symbol.iterator])i=Array.from(n,(l,u)=>e(l,u,void 0,r));else{const l=Object.keys(n);i=new Array(l.length);for(let u=0,h=l.length;u<h;u++){const d=l[u];i[u]=e(n[d],d,u,r)}}else i=[];return i}const cf=n=>n?TE(n)?Th(n):cf(n.parent):null,_l=hn(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>cf(n.parent),$root:n=>cf(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>iE(n),$forceUpdate:n=>n.f||(n.f=()=>{lp(n.update)}),$nextTick:n=>n.n||(n.n=ap.bind(n.proxy)),$watch:n=>lC.bind(n)}),Ad=(n,e)=>n!==dt&&!n.__isScriptSetup&&it(n,e),B0={get({_:n},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:s,data:i,props:r,accessCache:o,type:l,appContext:u}=n;let h;if(e[0]!=="$"){const b=o[e];if(b!==void 0)switch(b){case 1:return s[e];case 2:return i[e];case 4:return t[e];case 3:return r[e]}else{if(Ad(s,e))return o[e]=1,s[e];if(i!==dt&&it(i,e))return o[e]=2,i[e];if((h=n.propsOptions[0])&&it(h,e))return o[e]=3,r[e];if(t!==dt&&it(t,e))return o[e]=4,t[e];uf&&(o[e]=0)}}const d=_l[e];let g,v;if(d)return e==="$attrs"&&rn(n.attrs,"get",""),d(n);if((g=l.__cssModules)&&(g=g[e]))return g;if(t!==dt&&it(t,e))return o[e]=4,t[e];if(v=u.config.globalProperties,it(v,e))return v[e]},set({_:n},e,t){const{data:s,setupState:i,ctx:r}=n;return Ad(i,e)?(i[e]=t,!0):s!==dt&&it(s,e)?(s[e]=t,!0):it(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(r[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:s,appContext:i,propsOptions:r}},o){let l;return!!t[o]||n!==dt&&it(n,o)||Ad(e,o)||(l=r[0])&&it(l,o)||it(s,o)||it(_l,o)||it(i.config.globalProperties,o)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:it(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}};function bg(n){return Se(n)?n.reduce((e,t)=>(e[t]=null,e),{}):n}let uf=!0;function H0(n){const e=iE(n),t=n.proxy,s=n.ctx;uf=!1,e.beforeCreate&&Tg(e.beforeCreate,n,"bc");const{data:i,computed:r,methods:o,watch:l,provide:u,inject:h,created:d,beforeMount:g,mounted:v,beforeUpdate:b,updated:k,activated:L,deactivated:M,beforeDestroy:U,beforeUnmount:F,destroyed:K,unmounted:H,render:ce,renderTracked:he,renderTriggered:S,errorCaptured:T,serverPrefetch:A,expose:R,inheritAttrs:P,components:D,directives:I,filters:ft}=e;if(h&&q0(h,s,null),o)for(const we in o){const xe=o[we];Le(xe)&&(s[we]=xe.bind(t))}if(i){const we=i.call(t,t);_t(we)&&(n.data=gh(we))}if(uf=!0,r)for(const we in r){const xe=r[we],bt=Le(xe)?xe.bind(t,t):Le(xe.get)?xe.get.bind(t,t):Os,Y=!Le(xe)&&Le(xe.set)?xe.set.bind(t):Os,kt=Tn({get:bt,set:Y});Object.defineProperty(s,we,{enumerable:!0,configurable:!0,get:()=>kt.value,set:Qe=>kt.value=Qe})}if(l)for(const we in l)sE(l[we],s,t,we);if(u){const we=Le(u)?u.call(t):u;Reflect.ownKeys(we).forEach(xe=>{cu(xe,we[xe])})}d&&Tg(d,n,"c");function Be(we,xe){Se(xe)?xe.forEach(bt=>we(bt.bind(t))):xe&&we(xe.bind(t))}if(Be(D0,g),Be(Xl,v),Be(N0,b),Be(k0,k),Be(R0,L),Be(P0,M),Be($0,T),Be(M0,he),Be(V0,S),Be(x0,F),Be(up,H),Be(L0,A),Se(R))if(R.length){const we=n.exposed||(n.exposed={});R.forEach(xe=>{Object.defineProperty(we,xe,{get:()=>t[xe],set:bt=>t[xe]=bt})})}else n.exposed||(n.exposed={});ce&&n.render===Os&&(n.render=ce),P!=null&&(n.inheritAttrs=P),D&&(n.components=D),I&&(n.directives=I),A&&eE(n)}function q0(n,e,t=Os){Se(n)&&(n=hf(n));for(const s in n){const i=n[s];let r;_t(i)?"default"in i?r=Ds(i.from||s,i.default,!0):r=Ds(i.from||s):r=Ds(i),un(r)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[s]=r}}function Tg(n,e,t){$s(Se(n)?n.map(s=>s.bind(e.proxy)):n.bind(e.proxy),e,t)}function sE(n,e,t,s){let i=s.includes(".")?vE(t,s):()=>t[s];if(Mt(n)){const r=e[n];Le(r)&&uu(i,r)}else if(Le(n))uu(i,n.bind(t));else if(_t(n))if(Se(n))n.forEach(r=>sE(r,e,t,s));else{const r=Le(n.handler)?n.handler.bind(t):e[n.handler];Le(r)&&uu(i,r,n)}}function iE(n){const e=n.type,{mixins:t,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=n.appContext,l=r.get(e);let u;return l?u=l:!i.length&&!t&&!s?u=e:(u={},i.length&&i.forEach(h=>ku(u,h,o,!0)),ku(u,e,o)),_t(e)&&r.set(e,u),u}function ku(n,e,t,s=!1){const{mixins:i,extends:r}=e;r&&ku(n,r,t,!0),i&&i.forEach(o=>ku(n,o,t,!0));for(const o in e)if(!(s&&o==="expose")){const l=W0[o]||t&&t[o];n[o]=l?l(n[o],e[o]):e[o]}return n}const W0={data:wg,props:Ag,emits:Ag,methods:al,computed:al,beforeCreate:En,created:En,beforeMount:En,mounted:En,beforeUpdate:En,updated:En,beforeDestroy:En,beforeUnmount:En,destroyed:En,unmounted:En,activated:En,deactivated:En,errorCaptured:En,serverPrefetch:En,components:al,directives:al,watch:K0,provide:wg,inject:z0};function wg(n,e){return e?n?function(){return hn(Le(n)?n.call(this,this):n,Le(e)?e.call(this,this):e)}:e:n}function z0(n,e){return al(hf(n),hf(e))}function hf(n){if(Se(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function En(n,e){return n?[...new Set([].concat(n,e))]:e}function al(n,e){return n?hn(Object.create(null),n,e):e}function Ag(n,e){return n?Se(n)&&Se(e)?[...new Set([...n,...e])]:hn(Object.create(null),bg(n),bg(e??{})):e}function K0(n,e){if(!n)return e;if(!e)return n;const t=hn(Object.create(null),n);for(const s in e)t[s]=En(n[s],e[s]);return t}function rE(){return{app:null,config:{isNativeTag:VI,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let G0=0;function Y0(n,e){return function(s,i=null){Le(s)||(s=hn({},s)),i!=null&&!_t(i)&&(i=null);const r=rE(),o=new WeakSet,l=[];let u=!1;const h=r.app={_uid:G0++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:DC,get config(){return r.config},set config(d){},use(d,...g){return o.has(d)||(d&&Le(d.install)?(o.add(d),d.install(h,...g)):Le(d)&&(o.add(d),d(h,...g))),h},mixin(d){return r.mixins.includes(d)||r.mixins.push(d),h},component(d,g){return g?(r.components[d]=g,h):r.components[d]},directive(d,g){return g?(r.directives[d]=g,h):r.directives[d]},mount(d,g,v){if(!u){const b=h._ceVNode||qe(s,i);return b.appContext=r,v===!0?v="svg":v===!1&&(v=void 0),n(b,d,v),u=!0,h._container=d,d.__vue_app__=h,Th(b.component)}},onUnmount(d){l.push(d)},unmount(){u&&($s(l,h._instance,16),n(null,h._container),delete h._container.__vue_app__)},provide(d,g){return r.provides[d]=g,h},runWithContext(d){const g=zo;zo=h;try{return d()}finally{zo=g}}};return h}}let zo=null;function cu(n,e){if(ln){let t=ln.provides;const s=ln.parent&&ln.parent.provides;s===t&&(t=ln.provides=Object.create(s)),t[n]=e}}function Ds(n,e,t=!1){const s=ln||Mn;if(s||zo){const i=zo?zo._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&n in i)return i[n];if(arguments.length>1)return t&&Le(e)?e.call(s&&s.proxy):e}}const oE={},aE=()=>Object.create(oE),lE=n=>Object.getPrototypeOf(n)===oE;function Q0(n,e,t,s=!1){const i={},r=aE();n.propsDefaults=Object.create(null),cE(n,e,i,r);for(const o in n.propsOptions[0])o in i||(i[o]=void 0);t?n.props=s?i:qy(i):n.type.props?n.props=i:n.props=r,n.attrs=r}function X0(n,e,t,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=n,l=st(i),[u]=n.propsOptions;let h=!1;if((s||o>0)&&!(o&16)){if(o&8){const d=n.vnode.dynamicProps;for(let g=0;g<d.length;g++){let v=d[g];if(Eh(n.emitsOptions,v))continue;const b=e[v];if(u)if(it(r,v))b!==r[v]&&(r[v]=b,h=!0);else{const k=es(v);i[k]=df(u,l,k,b,n,!1)}else b!==r[v]&&(r[v]=b,h=!0)}}}else{cE(n,e,i,r)&&(h=!0);let d;for(const g in l)(!e||!it(e,g)&&((d=Zr(g))===g||!it(e,d)))&&(u?t&&(t[g]!==void 0||t[d]!==void 0)&&(i[g]=df(u,l,g,void 0,n,!0)):delete i[g]);if(r!==l)for(const g in r)(!e||!it(e,g))&&(delete r[g],h=!0)}h&&ei(n.attrs,"set","")}function cE(n,e,t,s){const[i,r]=n.propsOptions;let o=!1,l;if(e)for(let u in e){if(fl(u))continue;const h=e[u];let d;i&&it(i,d=es(u))?!r||!r.includes(d)?t[d]=h:(l||(l={}))[d]=h:Eh(n.emitsOptions,u)||(!(u in s)||h!==s[u])&&(s[u]=h,o=!0)}if(r){const u=st(t),h=l||dt;for(let d=0;d<r.length;d++){const g=r[d];t[g]=df(i,u,g,h[g],n,!it(h,g))}}return o}function df(n,e,t,s,i,r){const o=n[t];if(o!=null){const l=it(o,"default");if(l&&s===void 0){const u=o.default;if(o.type!==Function&&!o.skipFactory&&Le(u)){const{propsDefaults:h}=i;if(t in h)s=h[t];else{const d=Jl(i);s=h[t]=u.call(null,e),d()}}else s=u;i.ce&&i.ce._setProp(t,s)}o[0]&&(r&&!l?s=!1:o[1]&&(s===""||s===Zr(t))&&(s=!0))}return s}const J0=new WeakMap;function uE(n,e,t=!1){const s=t?J0:e.propsCache,i=s.get(n);if(i)return i;const r=n.props,o={},l=[];let u=!1;if(!Le(n)){const d=g=>{u=!0;const[v,b]=uE(g,e,!0);hn(o,v),b&&l.push(...b)};!t&&e.mixins.length&&e.mixins.forEach(d),n.extends&&d(n.extends),n.mixins&&n.mixins.forEach(d)}if(!r&&!u)return _t(n)&&s.set(n,Uo),Uo;if(Se(r))for(let d=0;d<r.length;d++){const g=es(r[d]);Ig(g)&&(o[g]=dt)}else if(r)for(const d in r){const g=es(d);if(Ig(g)){const v=r[d],b=o[g]=Se(v)||Le(v)?{type:v}:hn({},v),k=b.type;let L=!1,M=!0;if(Se(k))for(let U=0;U<k.length;++U){const F=k[U],K=Le(F)&&F.name;if(K==="Boolean"){L=!0;break}else K==="String"&&(M=!1)}else L=Le(k)&&k.name==="Boolean";b[0]=L,b[1]=M,(L||it(b,"default"))&&l.push(g)}}const h=[o,l];return _t(n)&&s.set(n,h),h}function Ig(n){return n[0]!=="$"&&!fl(n)}const hE=n=>n[0]==="_"||n==="$stable",hp=n=>Se(n)?n.map(Ps):[Ps(n)],Z0=(n,e,t)=>{if(e._n)return e;const s=cs((...i)=>hp(e(...i)),t);return s._c=!1,s},dE=(n,e,t)=>{const s=n._ctx;for(const i in n){if(hE(i))continue;const r=n[i];if(Le(r))e[i]=Z0(i,r,s);else if(r!=null){const o=hp(r);e[i]=()=>o}}},fE=(n,e)=>{const t=hp(e);n.slots.default=()=>t},pE=(n,e,t)=>{for(const s in e)(t||s!=="_")&&(n[s]=e[s])},eC=(n,e,t)=>{const s=n.slots=aE();if(n.vnode.shapeFlag&32){const i=e._;i?(pE(s,e,t),t&&Cy(s,"_",i,!0)):dE(e,s)}else e&&fE(n,e)},tC=(n,e,t)=>{const{vnode:s,slots:i}=n;let r=!0,o=dt;if(s.shapeFlag&32){const l=e._;l?t&&l===1?r=!1:pE(i,e,t):(r=!e.$stable,dE(e,i)),o=e}else e&&(fE(n,e),o={default:1});if(r)for(const l in i)!hE(l)&&o[l]==null&&delete i[l]},xn=mC;function nC(n){return sC(n)}function sC(n,e){const t=fh();t.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:l,createComment:u,setText:h,setElementText:d,parentNode:g,nextSibling:v,setScopeId:b=Os,insertStaticContent:k}=n,L=(w,C,x,z=null,G=null,Q=null,ae=void 0,se=null,ne=!!C.dynamicChildren)=>{if(w===C)return;w&&!sl(w,C)&&(z=W(w),Qe(w,G,Q,!0),w=null),C.patchFlag===-2&&(ne=!1,C.dynamicChildren=null);const{type:ee,ref:Ee,shapeFlag:le}=C;switch(ee){case bh:M(w,C,x,z);break;case kl:U(w,C,x,z);break;case hu:w==null&&F(C,x,z,ae);break;case Lt:D(w,C,x,z,G,Q,ae,se,ne);break;default:le&1?ce(w,C,x,z,G,Q,ae,se,ne):le&6?I(w,C,x,z,G,Q,ae,se,ne):(le&64||le&128)&&ee.process(w,C,x,z,G,Q,ae,se,ne,fe)}Ee!=null&&G&&Nu(Ee,w&&w.ref,Q,C||w,!C)},M=(w,C,x,z)=>{if(w==null)s(C.el=l(C.children),x,z);else{const G=C.el=w.el;C.children!==w.children&&h(G,C.children)}},U=(w,C,x,z)=>{w==null?s(C.el=u(C.children||""),x,z):C.el=w.el},F=(w,C,x,z)=>{[w.el,w.anchor]=k(w.children,C,x,z,w.el,w.anchor)},K=({el:w,anchor:C},x,z)=>{let G;for(;w&&w!==C;)G=v(w),s(w,x,z),w=G;s(C,x,z)},H=({el:w,anchor:C})=>{let x;for(;w&&w!==C;)x=v(w),i(w),w=x;i(C)},ce=(w,C,x,z,G,Q,ae,se,ne)=>{C.type==="svg"?ae="svg":C.type==="math"&&(ae="mathml"),w==null?he(C,x,z,G,Q,ae,se,ne):A(w,C,G,Q,ae,se,ne)},he=(w,C,x,z,G,Q,ae,se)=>{let ne,ee;const{props:Ee,shapeFlag:le,transition:me,dirs:ve}=w;if(ne=w.el=o(w.type,Q,Ee&&Ee.is,Ee),le&8?d(ne,w.children):le&16&&T(w.children,ne,null,z,G,Id(w,Q),ae,se),ve&&Dr(w,null,z,"created"),S(ne,w,w.scopeId,ae,z),Ee){for(const Re in Ee)Re!=="value"&&!fl(Re)&&r(ne,Re,null,Ee[Re],Q,z);"value"in Ee&&r(ne,"value",null,Ee.value,Q),(ee=Ee.onVnodeBeforeMount)&&Is(ee,z,w)}ve&&Dr(w,null,z,"beforeMount");const ye=iC(G,me);ye&&me.beforeEnter(ne),s(ne,C,x),((ee=Ee&&Ee.onVnodeMounted)||ye||ve)&&xn(()=>{ee&&Is(ee,z,w),ye&&me.enter(ne),ve&&Dr(w,null,z,"mounted")},G)},S=(w,C,x,z,G)=>{if(x&&b(w,x),z)for(let Q=0;Q<z.length;Q++)b(w,z[Q]);if(G){let Q=G.subTree;if(C===Q||EE(Q.type)&&(Q.ssContent===C||Q.ssFallback===C)){const ae=G.vnode;S(w,ae,ae.scopeId,ae.slotScopeIds,G.parent)}}},T=(w,C,x,z,G,Q,ae,se,ne=0)=>{for(let ee=ne;ee<w.length;ee++){const Ee=w[ee]=se?Mi(w[ee]):Ps(w[ee]);L(null,Ee,C,x,z,G,Q,ae,se)}},A=(w,C,x,z,G,Q,ae)=>{const se=C.el=w.el;let{patchFlag:ne,dynamicChildren:ee,dirs:Ee}=C;ne|=w.patchFlag&16;const le=w.props||dt,me=C.props||dt;let ve;if(x&&Nr(x,!1),(ve=me.onVnodeBeforeUpdate)&&Is(ve,x,C,w),Ee&&Dr(C,w,x,"beforeUpdate"),x&&Nr(x,!0),(le.innerHTML&&me.innerHTML==null||le.textContent&&me.textContent==null)&&d(se,""),ee?R(w.dynamicChildren,ee,se,x,z,Id(C,G),Q):ae||xe(w,C,se,null,x,z,Id(C,G),Q,!1),ne>0){if(ne&16)P(se,le,me,x,G);else if(ne&2&&le.class!==me.class&&r(se,"class",null,me.class,G),ne&4&&r(se,"style",le.style,me.style,G),ne&8){const ye=C.dynamicProps;for(let Re=0;Re<ye.length;Re++){const $e=ye[Re],It=le[$e],Tt=me[$e];(Tt!==It||$e==="value")&&r(se,$e,It,Tt,G,x)}}ne&1&&w.children!==C.children&&d(se,C.children)}else!ae&&ee==null&&P(se,le,me,x,G);((ve=me.onVnodeUpdated)||Ee)&&xn(()=>{ve&&Is(ve,x,C,w),Ee&&Dr(C,w,x,"updated")},z)},R=(w,C,x,z,G,Q,ae)=>{for(let se=0;se<C.length;se++){const ne=w[se],ee=C[se],Ee=ne.el&&(ne.type===Lt||!sl(ne,ee)||ne.shapeFlag&70)?g(ne.el):x;L(ne,ee,Ee,null,z,G,Q,ae,!0)}},P=(w,C,x,z,G)=>{if(C!==x){if(C!==dt)for(const Q in C)!fl(Q)&&!(Q in x)&&r(w,Q,C[Q],null,G,z);for(const Q in x){if(fl(Q))continue;const ae=x[Q],se=C[Q];ae!==se&&Q!=="value"&&r(w,Q,se,ae,G,z)}"value"in x&&r(w,"value",C.value,x.value,G)}},D=(w,C,x,z,G,Q,ae,se,ne)=>{const ee=C.el=w?w.el:l(""),Ee=C.anchor=w?w.anchor:l("");let{patchFlag:le,dynamicChildren:me,slotScopeIds:ve}=C;ve&&(se=se?se.concat(ve):ve),w==null?(s(ee,x,z),s(Ee,x,z),T(C.children||[],x,Ee,G,Q,ae,se,ne)):le>0&&le&64&&me&&w.dynamicChildren?(R(w.dynamicChildren,me,x,G,Q,ae,se),(C.key!=null||G&&C===G.subTree)&&mE(w,C,!0)):xe(w,C,x,Ee,G,Q,ae,se,ne)},I=(w,C,x,z,G,Q,ae,se,ne)=>{C.slotScopeIds=se,w==null?C.shapeFlag&512?G.ctx.activate(C,x,z,ae,ne):ft(C,x,z,G,Q,ae,ne):wt(w,C,ne)},ft=(w,C,x,z,G,Q,ae)=>{const se=w.component=AC(w,z,G);if(tE(w)&&(se.ctx.renderer=fe),IC(se,!1,ae),se.asyncDep){if(G&&G.registerDep(se,Be,ae),!w.el){const ne=se.subTree=qe(kl);U(null,ne,C,x)}}else Be(se,w,C,x,G,Q,ae)},wt=(w,C,x)=>{const z=C.component=w.component;if(fC(w,C,x))if(z.asyncDep&&!z.asyncResolved){we(z,C,x);return}else z.next=C,z.update();else C.el=w.el,z.vnode=C},Be=(w,C,x,z,G,Q,ae)=>{const se=()=>{if(w.isMounted){let{next:le,bu:me,u:ve,parent:ye,vnode:Re}=w;{const Rt=gE(w);if(Rt){le&&(le.el=Re.el,we(w,le,ae)),Rt.asyncDep.then(()=>{w.isUnmounted||se()});return}}let $e=le,It;Nr(w,!1),le?(le.el=Re.el,we(w,le,ae)):le=Re,me&&lu(me),(It=le.props&&le.props.onVnodeBeforeUpdate)&&Is(It,ye,le,Re),Nr(w,!0);const Tt=Sg(w),$t=w.subTree;w.subTree=Tt,L($t,Tt,g($t.el),W($t),w,G,Q),le.el=Tt.el,$e===null&&pC(w,Tt.el),ve&&xn(ve,G),(It=le.props&&le.props.onVnodeUpdated)&&xn(()=>Is(It,ye,le,Re),G)}else{let le;const{el:me,props:ve}=C,{bm:ye,m:Re,parent:$e,root:It,type:Tt}=w,$t=gl(C);Nr(w,!1),ye&&lu(ye),!$t&&(le=ve&&ve.onVnodeBeforeMount)&&Is(le,$e,C),Nr(w,!0);{It.ce&&It.ce._injectChildStyle(Tt);const Rt=w.subTree=Sg(w);L(null,Rt,x,z,w,G,Q),C.el=Rt.el}if(Re&&xn(Re,G),!$t&&(le=ve&&ve.onVnodeMounted)){const Rt=C;xn(()=>Is(le,$e,Rt),G)}(C.shapeFlag&256||$e&&gl($e.vnode)&&$e.vnode.shapeFlag&256)&&w.a&&xn(w.a,G),w.isMounted=!0,C=x=z=null}};w.scope.on();const ne=w.effect=new Oy(se);w.scope.off();const ee=w.update=ne.run.bind(ne),Ee=w.job=ne.runIfDirty.bind(ne);Ee.i=w,Ee.id=w.uid,ne.scheduler=()=>lp(Ee),Nr(w,!0),ee()},we=(w,C,x)=>{C.component=w;const z=w.vnode.props;w.vnode=C,w.next=null,X0(w,C.props,z,x),tC(w,C.children,x),or(),yg(w),ar()},xe=(w,C,x,z,G,Q,ae,se,ne=!1)=>{const ee=w&&w.children,Ee=w?w.shapeFlag:0,le=C.children,{patchFlag:me,shapeFlag:ve}=C;if(me>0){if(me&128){Y(ee,le,x,z,G,Q,ae,se,ne);return}else if(me&256){bt(ee,le,x,z,G,Q,ae,se,ne);return}}ve&8?(Ee&16&&Je(ee,G,Q),le!==ee&&d(x,le)):Ee&16?ve&16?Y(ee,le,x,z,G,Q,ae,se,ne):Je(ee,G,Q,!0):(Ee&8&&d(x,""),ve&16&&T(le,x,z,G,Q,ae,se,ne))},bt=(w,C,x,z,G,Q,ae,se,ne)=>{w=w||Uo,C=C||Uo;const ee=w.length,Ee=C.length,le=Math.min(ee,Ee);let me;for(me=0;me<le;me++){const ve=C[me]=ne?Mi(C[me]):Ps(C[me]);L(w[me],ve,x,null,G,Q,ae,se,ne)}ee>Ee?Je(w,G,Q,!0,!1,le):T(C,x,z,G,Q,ae,se,ne,le)},Y=(w,C,x,z,G,Q,ae,se,ne)=>{let ee=0;const Ee=C.length;let le=w.length-1,me=Ee-1;for(;ee<=le&&ee<=me;){const ve=w[ee],ye=C[ee]=ne?Mi(C[ee]):Ps(C[ee]);if(sl(ve,ye))L(ve,ye,x,null,G,Q,ae,se,ne);else break;ee++}for(;ee<=le&&ee<=me;){const ve=w[le],ye=C[me]=ne?Mi(C[me]):Ps(C[me]);if(sl(ve,ye))L(ve,ye,x,null,G,Q,ae,se,ne);else break;le--,me--}if(ee>le){if(ee<=me){const ve=me+1,ye=ve<Ee?C[ve].el:z;for(;ee<=me;)L(null,C[ee]=ne?Mi(C[ee]):Ps(C[ee]),x,ye,G,Q,ae,se,ne),ee++}}else if(ee>me)for(;ee<=le;)Qe(w[ee],G,Q,!0),ee++;else{const ve=ee,ye=ee,Re=new Map;for(ee=ye;ee<=me;ee++){const Ft=C[ee]=ne?Mi(C[ee]):Ps(C[ee]);Ft.key!=null&&Re.set(Ft.key,ee)}let $e,It=0;const Tt=me-ye+1;let $t=!1,Rt=0;const _s=new Array(Tt);for(ee=0;ee<Tt;ee++)_s[ee]=0;for(ee=ve;ee<=le;ee++){const Ft=w[ee];if(It>=Tt){Qe(Ft,G,Q,!0);continue}let In;if(Ft.key!=null)In=Re.get(Ft.key);else for($e=ye;$e<=me;$e++)if(_s[$e-ye]===0&&sl(Ft,C[$e])){In=$e;break}In===void 0?Qe(Ft,G,Q,!0):(_s[In-ye]=ee+1,In>=Rt?Rt=In:$t=!0,L(Ft,C[In],x,null,G,Q,ae,se,ne),It++)}const js=$t?rC(_s):Uo;for($e=js.length-1,ee=Tt-1;ee>=0;ee--){const Ft=ye+ee,In=C[Ft],oo=Ft+1<Ee?C[Ft+1].el:z;_s[ee]===0?L(null,In,x,oo,G,Q,ae,se,ne):$t&&($e<0||ee!==js[$e]?kt(In,x,oo,2):$e--)}}},kt=(w,C,x,z,G=null)=>{const{el:Q,type:ae,transition:se,children:ne,shapeFlag:ee}=w;if(ee&6){kt(w.component.subTree,C,x,z);return}if(ee&128){w.suspense.move(C,x,z);return}if(ee&64){ae.move(w,C,x,fe);return}if(ae===Lt){s(Q,C,x);for(let le=0;le<ne.length;le++)kt(ne[le],C,x,z);s(w.anchor,C,x);return}if(ae===hu){K(w,C,x);return}if(z!==2&&ee&1&&se)if(z===0)se.beforeEnter(Q),s(Q,C,x),xn(()=>se.enter(Q),G);else{const{leave:le,delayLeave:me,afterLeave:ve}=se,ye=()=>s(Q,C,x),Re=()=>{le(Q,()=>{ye(),ve&&ve()})};me?me(Q,ye,Re):Re()}else s(Q,C,x)},Qe=(w,C,x,z=!1,G=!1)=>{const{type:Q,props:ae,ref:se,children:ne,dynamicChildren:ee,shapeFlag:Ee,patchFlag:le,dirs:me,cacheIndex:ve}=w;if(le===-2&&(G=!1),se!=null&&Nu(se,null,x,w,!0),ve!=null&&(C.renderCache[ve]=void 0),Ee&256){C.ctx.deactivate(w);return}const ye=Ee&1&&me,Re=!gl(w);let $e;if(Re&&($e=ae&&ae.onVnodeBeforeUnmount)&&Is($e,C,w),Ee&6)yt(w.component,x,z);else{if(Ee&128){w.suspense.unmount(x,z);return}ye&&Dr(w,null,C,"beforeUnmount"),Ee&64?w.type.remove(w,C,x,fe,z):ee&&!ee.hasOnce&&(Q!==Lt||le>0&&le&64)?Je(ee,C,x,!1,!0):(Q===Lt&&le&384||!G&&Ee&16)&&Je(ne,C,x),z&&Xe(w)}(Re&&($e=ae&&ae.onVnodeUnmounted)||ye)&&xn(()=>{$e&&Is($e,C,w),ye&&Dr(w,null,C,"unmounted")},x)},Xe=w=>{const{type:C,el:x,anchor:z,transition:G}=w;if(C===Lt){vt(x,z);return}if(C===hu){H(w);return}const Q=()=>{i(x),G&&!G.persisted&&G.afterLeave&&G.afterLeave()};if(w.shapeFlag&1&&G&&!G.persisted){const{leave:ae,delayLeave:se}=G,ne=()=>ae(x,Q);se?se(w.el,Q,ne):ne()}else Q()},vt=(w,C)=>{let x;for(;w!==C;)x=v(w),i(w),w=x;i(C)},yt=(w,C,x)=>{const{bum:z,scope:G,job:Q,subTree:ae,um:se,m:ne,a:ee}=w;Cg(ne),Cg(ee),z&&lu(z),G.stop(),Q&&(Q.flags|=8,Qe(ae,w,C,x)),se&&xn(se,C),xn(()=>{w.isUnmounted=!0},C),C&&C.pendingBranch&&!C.isUnmounted&&w.asyncDep&&!w.asyncResolved&&w.suspenseId===C.pendingId&&(C.deps--,C.deps===0&&C.resolve())},Je=(w,C,x,z=!1,G=!1,Q=0)=>{for(let ae=Q;ae<w.length;ae++)Qe(w[ae],C,x,z,G)},W=w=>{if(w.shapeFlag&6)return W(w.component.subTree);if(w.shapeFlag&128)return w.suspense.next();const C=v(w.anchor||w.el),x=C&&C[C0];return x?v(x):C};let q=!1;const ie=(w,C,x)=>{w==null?C._vnode&&Qe(C._vnode,null,null,!0):L(C._vnode||null,w,C,null,null,null,x),C._vnode=w,q||(q=!0,yg(),Qy(),q=!1)},fe={p:L,um:Qe,m:kt,r:Xe,mt:ft,mc:T,pc:xe,pbc:R,n:W,o:n};return{render:ie,hydrate:void 0,createApp:Y0(ie)}}function Id({type:n,props:e},t){return t==="svg"&&n==="foreignObject"||t==="mathml"&&n==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function Nr({effect:n,job:e},t){t?(n.flags|=32,e.flags|=4):(n.flags&=-33,e.flags&=-5)}function iC(n,e){return(!n||n&&!n.pendingBranch)&&e&&!e.persisted}function mE(n,e,t=!1){const s=n.children,i=e.children;if(Se(s)&&Se(i))for(let r=0;r<s.length;r++){const o=s[r];let l=i[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[r]=Mi(i[r]),l.el=o.el),!t&&l.patchFlag!==-2&&mE(o,l)),l.type===bh&&(l.el=o.el)}}function rC(n){const e=n.slice(),t=[0];let s,i,r,o,l;const u=n.length;for(s=0;s<u;s++){const h=n[s];if(h!==0){if(i=t[t.length-1],n[i]<h){e[s]=i,t.push(s);continue}for(r=0,o=t.length-1;r<o;)l=r+o>>1,n[t[l]]<h?r=l+1:o=l;h<n[t[r]]&&(r>0&&(e[s]=t[r-1]),t[r]=s)}}for(r=t.length,o=t[r-1];r-- >0;)t[r]=o,o=e[o];return t}function gE(n){const e=n.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:gE(e)}function Cg(n){if(n)for(let e=0;e<n.length;e++)n[e].flags|=8}const oC=Symbol.for("v-scx"),aC=()=>Ds(oC);function uu(n,e,t){return _E(n,e,t)}function _E(n,e,t=dt){const{immediate:s,deep:i,flush:r,once:o}=t,l=hn({},t),u=e&&s||!e&&r!=="post";let h;if(Ll){if(r==="sync"){const b=aC();h=b.__watcherHandles||(b.__watcherHandles=[])}else if(!u){const b=()=>{};return b.stop=Os,b.resume=Os,b.pause=Os,b}}const d=ln;l.call=(b,k,L)=>$s(b,d,k,L);let g=!1;r==="post"?l.scheduler=b=>{xn(b,d&&d.suspense)}:r!=="sync"&&(g=!0,l.scheduler=(b,k)=>{k?b():lp(b)}),l.augmentJob=b=>{e&&(b.flags|=4),g&&(b.flags|=2,d&&(b.id=d.uid,b.i=d))};const v=T0(n,e,l);return Ll&&(h?h.push(v):u&&v()),v}function lC(n,e,t){const s=this.proxy,i=Mt(n)?n.includes(".")?vE(s,n):()=>s[n]:n.bind(s,s);let r;Le(e)?r=e:(r=e.handler,t=e);const o=Jl(this),l=_E(i,r.bind(s),t);return o(),l}function vE(n,e){const t=e.split(".");return()=>{let s=n;for(let i=0;i<t.length&&s;i++)s=s[t[i]];return s}}const cC=(n,e)=>e==="modelValue"||e==="model-value"?n.modelModifiers:n[`${e}Modifiers`]||n[`${es(e)}Modifiers`]||n[`${Zr(e)}Modifiers`];function uC(n,e,...t){if(n.isUnmounted)return;const s=n.vnode.props||dt;let i=t;const r=e.startsWith("update:"),o=r&&cC(s,e.slice(7));o&&(o.trim&&(i=t.map(d=>Mt(d)?d.trim():d)),o.number&&(i=t.map(Ru)));let l,u=s[l=yd(e)]||s[l=yd(es(e))];!u&&r&&(u=s[l=yd(Zr(e))]),u&&$s(u,n,6,i);const h=s[l+"Once"];if(h){if(!n.emitted)n.emitted={};else if(n.emitted[l])return;n.emitted[l]=!0,$s(h,n,6,i)}}function yE(n,e,t=!1){const s=e.emitsCache,i=s.get(n);if(i!==void 0)return i;const r=n.emits;let o={},l=!1;if(!Le(n)){const u=h=>{const d=yE(h,e,!0);d&&(l=!0,hn(o,d))};!t&&e.mixins.length&&e.mixins.forEach(u),n.extends&&u(n.extends),n.mixins&&n.mixins.forEach(u)}return!r&&!l?(_t(n)&&s.set(n,null),null):(Se(r)?r.forEach(u=>o[u]=null):hn(o,r),_t(n)&&s.set(n,o),o)}function Eh(n,e){return!n||!ch(e)?!1:(e=e.slice(2).replace(/Once$/,""),it(n,e[0].toLowerCase()+e.slice(1))||it(n,Zr(e))||it(n,e))}function Sg(n){const{type:e,vnode:t,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:l,emit:u,render:h,renderCache:d,props:g,data:v,setupState:b,ctx:k,inheritAttrs:L}=n,M=Du(n);let U,F;try{if(t.shapeFlag&4){const H=i||s,ce=H;U=Ps(h.call(ce,H,d,g,b,v,k)),F=l}else{const H=e;U=Ps(H.length>1?H(g,{attrs:l,slots:o,emit:u}):H(g,null)),F=e.props?l:hC(l)}}catch(H){vl.length=0,_h(H,n,1),U=qe(kl)}let K=U;if(F&&L!==!1){const H=Object.keys(F),{shapeFlag:ce}=K;H.length&&ce&7&&(r&&H.some(Xf)&&(F=dC(F,r)),K=Zo(K,F,!1,!0))}return t.dirs&&(K=Zo(K,null,!1,!0),K.dirs=K.dirs?K.dirs.concat(t.dirs):t.dirs),t.transition&&cp(K,t.transition),U=K,Du(M),U}const hC=n=>{let e;for(const t in n)(t==="class"||t==="style"||ch(t))&&((e||(e={}))[t]=n[t]);return e},dC=(n,e)=>{const t={};for(const s in n)(!Xf(s)||!(s.slice(9)in e))&&(t[s]=n[s]);return t};function fC(n,e,t){const{props:s,children:i,component:r}=n,{props:o,children:l,patchFlag:u}=e,h=r.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&u>=0){if(u&1024)return!0;if(u&16)return s?Rg(s,o,h):!!o;if(u&8){const d=e.dynamicProps;for(let g=0;g<d.length;g++){const v=d[g];if(o[v]!==s[v]&&!Eh(h,v))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:s===o?!1:s?o?Rg(s,o,h):!0:!!o;return!1}function Rg(n,e,t){const s=Object.keys(e);if(s.length!==Object.keys(n).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==n[r]&&!Eh(t,r))return!0}return!1}function pC({vnode:n,parent:e},t){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===n&&(s.el=n.el),s===n)(n=e.vnode).el=t,e=e.parent;else break}}const EE=n=>n.__isSuspense;function mC(n,e){e&&e.pendingBranch?Se(n)?e.effects.push(...n):e.effects.push(n):I0(n)}const Lt=Symbol.for("v-fgt"),bh=Symbol.for("v-txt"),kl=Symbol.for("v-cmt"),hu=Symbol.for("v-stc"),vl=[];let $n=null;function et(n=!1){vl.push($n=n?null:[])}function gC(){vl.pop(),$n=vl[vl.length-1]||null}let xl=1;function Pg(n,e=!1){xl+=n,n<0&&$n&&e&&($n.hasOnce=!0)}function _C(n){return n.dynamicChildren=xl>0?$n||Uo:null,gC(),xl>0&&$n&&$n.push(n),n}function tt(n,e,t,s,i,r){return _C($(n,e,t,s,i,r,!0))}function xu(n){return n?n.__v_isVNode===!0:!1}function sl(n,e){return n.type===e.type&&n.key===e.key}const bE=({key:n})=>n??null,du=({ref:n,ref_key:e,ref_for:t})=>(typeof n=="number"&&(n=""+n),n!=null?Mt(n)||un(n)||Le(n)?{i:Mn,r:n,k:e,f:!!t}:n:null);function $(n,e=null,t=null,s=0,i=null,r=n===Lt?0:1,o=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&bE(e),ref:e&&du(e),scopeId:Jy,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Mn};return l?(dp(u,t),r&128&&n.normalize(u)):t&&(u.shapeFlag|=Mt(t)?8:16),xl>0&&!o&&$n&&(u.patchFlag>0||r&6)&&u.patchFlag!==32&&$n.push(u),u}const qe=vC;function vC(n,e=null,t=null,s=0,i=null,r=!1){if((!n||n===U0)&&(n=kl),xu(n)){const l=Zo(n,e,!0);return t&&dp(l,t),xl>0&&!r&&$n&&(l.shapeFlag&6?$n[$n.indexOf(n)]=l:$n.push(l)),l.patchFlag=-2,l}if(OC(n)&&(n=n.__vccOpts),e){e=yC(e);let{class:l,style:u}=e;l&&!Mt(l)&&(e.class=Bo(l)),_t(u)&&(op(u)&&!Se(u)&&(u=hn({},u)),e.style=Pl(u))}const o=Mt(n)?1:EE(n)?128:S0(n)?64:_t(n)?4:Le(n)?2:0;return $(n,e,t,s,i,o,r,!0)}function yC(n){return n?op(n)||lE(n)?hn({},n):n:null}function Zo(n,e,t=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:l,transition:u}=n,h=e?bC(i||{},e):i,d={__v_isVNode:!0,__v_skip:!0,type:n.type,props:h,key:h&&bE(h),ref:e&&e.ref?t&&r?Se(r)?r.concat(du(e)):[r,du(e)]:du(e):r,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:l,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==Lt?o===-1?16:o|16:o,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:u,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Zo(n.ssContent),ssFallback:n.ssFallback&&Zo(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return u&&s&&cp(d,u.clone(d)),d}function Ko(n=" ",e=0){return qe(bh,null,n,e)}function EC(n,e){const t=qe(hu,null,n);return t.staticCount=e,t}function Ps(n){return n==null||typeof n=="boolean"?qe(kl):Se(n)?qe(Lt,null,n.slice()):xu(n)?Mi(n):qe(bh,null,String(n))}function Mi(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:Zo(n)}function dp(n,e){let t=0;const{shapeFlag:s}=n;if(e==null)e=null;else if(Se(e))t=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),dp(n,i()),i._c&&(i._d=!0));return}else{t=32;const i=e._;!i&&!lE(e)?e._ctx=Mn:i===3&&Mn&&(Mn.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else Le(e)?(e={default:e,_ctx:Mn},t=32):(e=String(e),s&64?(t=16,e=[Ko(e)]):t=8);n.children=e,n.shapeFlag|=t}function bC(...n){const e={};for(let t=0;t<n.length;t++){const s=n[t];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=Bo([e.class,s.class]));else if(i==="style")e.style=Pl([e.style,s.style]);else if(ch(i)){const r=e[i],o=s[i];o&&r!==o&&!(Se(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function Is(n,e,t,s=null){$s(n,e,7,[t,s])}const TC=rE();let wC=0;function AC(n,e,t){const s=n.type,i=(e?e.appContext:n.appContext)||TC,r={uid:wC++,vnode:n,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new YI(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:uE(s,i),emitsOptions:yE(s,i),emit:null,emitted:null,propsDefaults:dt,inheritAttrs:s.inheritAttrs,ctx:dt,data:dt,props:dt,attrs:dt,slots:dt,refs:dt,setupState:dt,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=uC.bind(null,r),n.ce&&n.ce(r),r}let ln=null,Lu,ff;{const n=fh(),e=(t,s)=>{let i;return(i=n[t])||(i=n[t]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};Lu=e("__VUE_INSTANCE_SETTERS__",t=>ln=t),ff=e("__VUE_SSR_SETTERS__",t=>Ll=t)}const Jl=n=>{const e=ln;return Lu(n),n.scope.on(),()=>{n.scope.off(),Lu(e)}},Og=()=>{ln&&ln.scope.off(),Lu(null)};function TE(n){return n.vnode.shapeFlag&4}let Ll=!1;function IC(n,e=!1,t=!1){e&&ff(e);const{props:s,children:i}=n.vnode,r=TE(n);Q0(n,s,r,e),eC(n,i,t);const o=r?CC(n,e):void 0;return e&&ff(!1),o}function CC(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,B0);const{setup:s}=t;if(s){or();const i=n.setupContext=s.length>1?RC(n):null,r=Jl(n),o=Ql(s,n,0,[n.props,i]),l=wy(o);if(ar(),r(),(l||n.sp)&&!gl(n)&&eE(n),l){if(o.then(Og,Og),e)return o.then(u=>{Dg(n,u)}).catch(u=>{_h(u,n,0)});n.asyncDep=o}else Dg(n,o)}else wE(n)}function Dg(n,e,t){Le(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:_t(e)&&(n.setupState=Ky(e)),wE(n)}function wE(n,e,t){const s=n.type;n.render||(n.render=s.render||Os);{const i=Jl(n);or();try{H0(n)}finally{ar(),i()}}}const SC={get(n,e){return rn(n,"get",""),n[e]}};function RC(n){const e=t=>{n.exposed=t||{}};return{attrs:new Proxy(n.attrs,SC),slots:n.slots,emit:n.emit,expose:e}}function Th(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(Ky(m0(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in _l)return _l[t](n)},has(e,t){return t in e||t in _l}})):n.proxy}function PC(n,e=!0){return Le(n)?n.displayName||n.name:n.name||e&&n.__name}function OC(n){return Le(n)&&"__vccOpts"in n}const Tn=(n,e)=>E0(n,e,Ll);function AE(n,e,t){const s=arguments.length;return s===2?_t(e)&&!Se(e)?xu(e)?qe(n,null,[e]):qe(n,e):qe(n,null,e):(s>3?t=Array.prototype.slice.call(arguments,2):s===3&&xu(t)&&(t=[t]),qe(n,e,t))}const DC="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let pf;const Ng=typeof window<"u"&&window.trustedTypes;if(Ng)try{pf=Ng.createPolicy("vue",{createHTML:n=>n})}catch{}const IE=pf?n=>pf.createHTML(n):n=>n,NC="http://www.w3.org/2000/svg",kC="http://www.w3.org/1998/Math/MathML",Zs=typeof document<"u"?document:null,kg=Zs&&Zs.createElement("template"),xC={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,s)=>{const i=e==="svg"?Zs.createElementNS(NC,n):e==="mathml"?Zs.createElementNS(kC,n):t?Zs.createElement(n,{is:t}):Zs.createElement(n);return n==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:n=>Zs.createTextNode(n),createComment:n=>Zs.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>Zs.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,t,s,i,r){const o=t?t.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),t),!(i===r||!(i=i.nextSibling)););else{kg.innerHTML=IE(s==="svg"?`<svg>${n}</svg>`:s==="mathml"?`<math>${n}</math>`:n);const l=kg.content;if(s==="svg"||s==="mathml"){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}e.insertBefore(l,t)}return[o?o.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},LC=Symbol("_vtc");function VC(n,e,t){const s=n[LC];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}const xg=Symbol("_vod"),MC=Symbol("_vsh"),$C=Symbol(""),FC=/(^|;)\s*display\s*:/;function UC(n,e,t){const s=n.style,i=Mt(t);let r=!1;if(t&&!i){if(e)if(Mt(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();t[l]==null&&fu(s,l,"")}else for(const o in e)t[o]==null&&fu(s,o,"");for(const o in t)o==="display"&&(r=!0),fu(s,o,t[o])}else if(i){if(e!==t){const o=s[$C];o&&(t+=";"+o),s.cssText=t,r=FC.test(t)}}else e&&n.removeAttribute("style");xg in n&&(n[xg]=r?s.display:"",n[MC]&&(s.display="none"))}const Lg=/\s*!important$/;function fu(n,e,t){if(Se(t))t.forEach(s=>fu(n,e,s));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const s=jC(n,e);Lg.test(t)?n.setProperty(Zr(s),t.replace(Lg,""),"important"):n[s]=t}}const Vg=["Webkit","Moz","ms"],Cd={};function jC(n,e){const t=Cd[e];if(t)return t;let s=es(e);if(s!=="filter"&&s in n)return Cd[e]=s;s=dh(s);for(let i=0;i<Vg.length;i++){const r=Vg[i]+s;if(r in n)return Cd[e]=r}return e}const Mg="http://www.w3.org/1999/xlink";function $g(n,e,t,s,i,r=zI(e)){s&&e.startsWith("xlink:")?t==null?n.removeAttributeNS(Mg,e.slice(6,e.length)):n.setAttributeNS(Mg,e,t):t==null||r&&!Sy(t)?n.removeAttribute(e):n.setAttribute(e,r?"":Ms(t)?String(t):t)}function Fg(n,e,t,s,i){if(e==="innerHTML"||e==="textContent"){t!=null&&(n[e]=e==="innerHTML"?IE(t):t);return}const r=n.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?n.getAttribute("value")||"":n.value,u=t==null?n.type==="checkbox"?"on":"":String(t);(l!==u||!("_value"in n))&&(n.value=u),t==null&&n.removeAttribute(e),n._value=t;return}let o=!1;if(t===""||t==null){const l=typeof n[e];l==="boolean"?t=Sy(t):t==null&&l==="string"?(t="",o=!0):l==="number"&&(t=0,o=!0)}try{n[e]=t}catch{}o&&n.removeAttribute(i||e)}function Lr(n,e,t,s){n.addEventListener(e,t,s)}function BC(n,e,t,s){n.removeEventListener(e,t,s)}const Ug=Symbol("_vei");function HC(n,e,t,s,i=null){const r=n[Ug]||(n[Ug]={}),o=r[e];if(s&&o)o.value=s;else{const[l,u]=qC(e);if(s){const h=r[e]=KC(s,i);Lr(n,l,h,u)}else o&&(BC(n,l,o,u),r[e]=void 0)}}const jg=/(?:Once|Passive|Capture)$/;function qC(n){let e;if(jg.test(n)){e={};let s;for(;s=n.match(jg);)n=n.slice(0,n.length-s[0].length),e[s[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):Zr(n.slice(2)),e]}let Sd=0;const WC=Promise.resolve(),zC=()=>Sd||(WC.then(()=>Sd=0),Sd=Date.now());function KC(n,e){const t=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=t.attached)return;$s(GC(s,t.value),e,5,[s])};return t.value=n,t.attached=zC(),t}function GC(n,e){if(Se(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const Bg=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,YC=(n,e,t,s,i,r)=>{const o=i==="svg";e==="class"?VC(n,s,o):e==="style"?UC(n,t,s):ch(e)?Xf(e)||HC(n,e,t,s,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):QC(n,e,s,o))?(Fg(n,e,s),!n.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&$g(n,e,s,o,r,e!=="value")):n._isVueCE&&(/[A-Z]/.test(e)||!Mt(s))?Fg(n,es(e),s,r,e):(e==="true-value"?n._trueValue=s:e==="false-value"&&(n._falseValue=s),$g(n,e,s,o))};function QC(n,e,t,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in n&&Bg(e)&&Le(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=n.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Bg(e)&&Mt(t)?!1:e in n}const Vu=n=>{const e=n.props["onUpdate:modelValue"]||!1;return Se(e)?t=>lu(e,t):e};function XC(n){n.target.composing=!0}function Hg(n){const e=n.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Go=Symbol("_assign"),$i={created(n,{modifiers:{lazy:e,trim:t,number:s}},i){n[Go]=Vu(i);const r=s||i.props&&i.props.type==="number";Lr(n,e?"change":"input",o=>{if(o.target.composing)return;let l=n.value;t&&(l=l.trim()),r&&(l=Ru(l)),n[Go](l)}),t&&Lr(n,"change",()=>{n.value=n.value.trim()}),e||(Lr(n,"compositionstart",XC),Lr(n,"compositionend",Hg),Lr(n,"change",Hg))},mounted(n,{value:e}){n.value=e??""},beforeUpdate(n,{value:e,oldValue:t,modifiers:{lazy:s,trim:i,number:r}},o){if(n[Go]=Vu(o),n.composing)return;const l=(r||n.type==="number")&&!/^0\d/.test(n.value)?Ru(n.value):n.value,u=e??"";l!==u&&(document.activeElement===n&&n.type!=="range"&&(s&&e===t||i&&n.value.trim()===u)||(n.value=u))}},qg={deep:!0,created(n,{value:e,modifiers:{number:t}},s){const i=uh(e);Lr(n,"change",()=>{const r=Array.prototype.filter.call(n.options,o=>o.selected).map(o=>t?Ru(Mu(o)):Mu(o));n[Go](n.multiple?i?new Set(r):r:r[0]),n._assigning=!0,ap(()=>{n._assigning=!1})}),n[Go]=Vu(s)},mounted(n,{value:e}){Wg(n,e)},beforeUpdate(n,e,t){n[Go]=Vu(t)},updated(n,{value:e}){n._assigning||Wg(n,e)}};function Wg(n,e){const t=n.multiple,s=Se(e);if(!(t&&!s&&!uh(e))){for(let i=0,r=n.options.length;i<r;i++){const o=n.options[i],l=Mu(o);if(t)if(s){const u=typeof l;u==="string"||u==="number"?o.selected=e.some(h=>String(h)===String(l)):o.selected=GI(e,l)>-1}else o.selected=e.has(l);else if(ph(Mu(o),e)){n.selectedIndex!==i&&(n.selectedIndex=i);return}}!t&&n.selectedIndex!==-1&&(n.selectedIndex=-1)}}function Mu(n){return"_value"in n?n._value:n.value}const JC=["ctrl","shift","alt","meta"],ZC={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,e)=>JC.some(t=>n[`${t}Key`]&&!e.includes(t))},mf=(n,e)=>{const t=n._withMods||(n._withMods={}),s=e.join(".");return t[s]||(t[s]=(i,...r)=>{for(let o=0;o<e.length;o++){const l=ZC[e[o]];if(l&&l(i,e))return}return n(i,...r)})},eS=hn({patchProp:YC},xC);let zg;function tS(){return zg||(zg=nC(eS))}const nS=(...n)=>{const e=tS().createApp(...n),{mount:t}=e;return e.mount=s=>{const i=iS(s);if(!i)return;const r=e._component;!Le(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=t(i,!1,sS(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function sS(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function iS(n){return Mt(n)?document.querySelector(n):n}const rS={id:"app-wrapper"},oS={class:"container-fluid p-0 flex-fill"},aS={__name:"App",setup(n){return(e,t)=>{const s=yh("router-view");return et(),tt("div",rS,[$("main",oS,[qe(s)])])}}};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Do=typeof document<"u";function CE(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function lS(n){return n.__esModule||n[Symbol.toStringTag]==="Module"||n.default&&CE(n.default)}const nt=Object.assign;function Rd(n,e){const t={};for(const s in e){const i=e[s];t[s]=ps(i)?i.map(n):n(i)}return t}const yl=()=>{},ps=Array.isArray,SE=/#/g,cS=/&/g,uS=/\//g,hS=/=/g,dS=/\?/g,RE=/\+/g,fS=/%5B/g,pS=/%5D/g,PE=/%5E/g,mS=/%60/g,OE=/%7B/g,gS=/%7C/g,DE=/%7D/g,_S=/%20/g;function fp(n){return encodeURI(""+n).replace(gS,"|").replace(fS,"[").replace(pS,"]")}function vS(n){return fp(n).replace(OE,"{").replace(DE,"}").replace(PE,"^")}function gf(n){return fp(n).replace(RE,"%2B").replace(_S,"+").replace(SE,"%23").replace(cS,"%26").replace(mS,"`").replace(OE,"{").replace(DE,"}").replace(PE,"^")}function yS(n){return gf(n).replace(hS,"%3D")}function ES(n){return fp(n).replace(SE,"%23").replace(dS,"%3F")}function bS(n){return n==null?"":ES(n).replace(uS,"%2F")}function Vl(n){try{return decodeURIComponent(""+n)}catch{}return""+n}const TS=/\/$/,wS=n=>n.replace(TS,"");function Pd(n,e,t="/"){let s,i={},r="",o="";const l=e.indexOf("#");let u=e.indexOf("?");return l<u&&l>=0&&(u=-1),u>-1&&(s=e.slice(0,u),r=e.slice(u+1,l>-1?l:e.length),i=n(r)),l>-1&&(s=s||e.slice(0,l),o=e.slice(l,e.length)),s=SS(s??e,t),{fullPath:s+(r&&"?")+r+o,path:s,query:i,hash:Vl(o)}}function AS(n,e){const t=e.query?n(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function Kg(n,e){return!e||!n.toLowerCase().startsWith(e.toLowerCase())?n:n.slice(e.length)||"/"}function IS(n,e,t){const s=e.matched.length-1,i=t.matched.length-1;return s>-1&&s===i&&ea(e.matched[s],t.matched[i])&&NE(e.params,t.params)&&n(e.query)===n(t.query)&&e.hash===t.hash}function ea(n,e){return(n.aliasOf||n)===(e.aliasOf||e)}function NE(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(!CS(n[t],e[t]))return!1;return!0}function CS(n,e){return ps(n)?Gg(n,e):ps(e)?Gg(e,n):n===e}function Gg(n,e){return ps(e)?n.length===e.length&&n.every((t,s)=>t===e[s]):n.length===1&&n[0]===e}function SS(n,e){if(n.startsWith("/"))return n;if(!n)return e;const t=e.split("/"),s=n.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let r=t.length-1,o,l;for(o=0;o<s.length;o++)if(l=s[o],l!==".")if(l==="..")r>1&&r--;else break;return t.slice(0,r).join("/")+"/"+s.slice(o).join("/")}const ki={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Ml;(function(n){n.pop="pop",n.push="push"})(Ml||(Ml={}));var El;(function(n){n.back="back",n.forward="forward",n.unknown=""})(El||(El={}));function RS(n){if(!n)if(Do){const e=document.querySelector("base");n=e&&e.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),wS(n)}const PS=/^[^#]+#/;function OS(n,e){return n.replace(PS,"#")+e}function DS(n,e){const t=document.documentElement.getBoundingClientRect(),s=n.getBoundingClientRect();return{behavior:e.behavior,left:s.left-t.left-(e.left||0),top:s.top-t.top-(e.top||0)}}const wh=()=>({left:window.scrollX,top:window.scrollY});function NS(n){let e;if("el"in n){const t=n.el,s=typeof t=="string"&&t.startsWith("#"),i=typeof t=="string"?s?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!i)return;e=DS(i,n)}else e=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Yg(n,e){return(history.state?history.state.position-e:-1)+n}const _f=new Map;function kS(n,e){_f.set(n,e)}function xS(n){const e=_f.get(n);return _f.delete(n),e}let LS=()=>location.protocol+"//"+location.host;function kE(n,e){const{pathname:t,search:s,hash:i}=e,r=n.indexOf("#");if(r>-1){let l=i.includes(n.slice(r))?n.slice(r).length:1,u=i.slice(l);return u[0]!=="/"&&(u="/"+u),Kg(u,"")}return Kg(t,n)+s+i}function VS(n,e,t,s){let i=[],r=[],o=null;const l=({state:v})=>{const b=kE(n,location),k=t.value,L=e.value;let M=0;if(v){if(t.value=b,e.value=v,o&&o===k){o=null;return}M=L?v.position-L.position:0}else s(b);i.forEach(U=>{U(t.value,k,{delta:M,type:Ml.pop,direction:M?M>0?El.forward:El.back:El.unknown})})};function u(){o=t.value}function h(v){i.push(v);const b=()=>{const k=i.indexOf(v);k>-1&&i.splice(k,1)};return r.push(b),b}function d(){const{history:v}=window;v.state&&v.replaceState(nt({},v.state,{scroll:wh()}),"")}function g(){for(const v of r)v();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:u,listen:h,destroy:g}}function Qg(n,e,t,s=!1,i=!1){return{back:n,current:e,forward:t,replaced:s,position:window.history.length,scroll:i?wh():null}}function MS(n){const{history:e,location:t}=window,s={value:kE(n,t)},i={value:e.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(u,h,d){const g=n.indexOf("#"),v=g>-1?(t.host&&document.querySelector("base")?n:n.slice(g))+u:LS()+n+u;try{e[d?"replaceState":"pushState"](h,"",v),i.value=h}catch(b){console.error(b),t[d?"replace":"assign"](v)}}function o(u,h){const d=nt({},e.state,Qg(i.value.back,u,i.value.forward,!0),h,{position:i.value.position});r(u,d,!0),s.value=u}function l(u,h){const d=nt({},i.value,e.state,{forward:u,scroll:wh()});r(d.current,d,!0);const g=nt({},Qg(s.value,u,null),{position:d.position+1},h);r(u,g,!1),s.value=u}return{location:s,state:i,push:l,replace:o}}function $S(n){n=RS(n);const e=MS(n),t=VS(n,e.state,e.location,e.replace);function s(r,o=!0){o||t.pauseListeners(),history.go(r)}const i=nt({location:"",base:n,go:s,createHref:OS.bind(null,n)},e,t);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function FS(n){return typeof n=="string"||n&&typeof n=="object"}function xE(n){return typeof n=="string"||typeof n=="symbol"}const LE=Symbol("");var Xg;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(Xg||(Xg={}));function ta(n,e){return nt(new Error,{type:n,[LE]:!0},e)}function Js(n,e){return n instanceof Error&&LE in n&&(e==null||!!(n.type&e))}const Jg="[^/]+?",US={sensitive:!1,strict:!1,start:!0,end:!0},jS=/[.+*?^${}()[\]/\\]/g;function BS(n,e){const t=nt({},US,e),s=[];let i=t.start?"^":"";const r=[];for(const h of n){const d=h.length?[]:[90];t.strict&&!h.length&&(i+="/");for(let g=0;g<h.length;g++){const v=h[g];let b=40+(t.sensitive?.25:0);if(v.type===0)g||(i+="/"),i+=v.value.replace(jS,"\\$&"),b+=40;else if(v.type===1){const{value:k,repeatable:L,optional:M,regexp:U}=v;r.push({name:k,repeatable:L,optional:M});const F=U||Jg;if(F!==Jg){b+=10;try{new RegExp(`(${F})`)}catch(H){throw new Error(`Invalid custom RegExp for param "${k}" (${F}): `+H.message)}}let K=L?`((?:${F})(?:/(?:${F}))*)`:`(${F})`;g||(K=M&&h.length<2?`(?:/${K})`:"/"+K),M&&(K+="?"),i+=K,b+=20,M&&(b+=-8),L&&(b+=-20),F===".*"&&(b+=-50)}d.push(b)}s.push(d)}if(t.strict&&t.end){const h=s.length-1;s[h][s[h].length-1]+=.7000000000000001}t.strict||(i+="/?"),t.end?i+="$":t.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,t.sensitive?"":"i");function l(h){const d=h.match(o),g={};if(!d)return null;for(let v=1;v<d.length;v++){const b=d[v]||"",k=r[v-1];g[k.name]=b&&k.repeatable?b.split("/"):b}return g}function u(h){let d="",g=!1;for(const v of n){(!g||!d.endsWith("/"))&&(d+="/"),g=!1;for(const b of v)if(b.type===0)d+=b.value;else if(b.type===1){const{value:k,repeatable:L,optional:M}=b,U=k in h?h[k]:"";if(ps(U)&&!L)throw new Error(`Provided param "${k}" is an array but it is not repeatable (* or + modifiers)`);const F=ps(U)?U.join("/"):U;if(!F)if(M)v.length<2&&(d.endsWith("/")?d=d.slice(0,-1):g=!0);else throw new Error(`Missing required param "${k}"`);d+=F}}return d||"/"}return{re:o,score:s,keys:r,parse:l,stringify:u}}function HS(n,e){let t=0;for(;t<n.length&&t<e.length;){const s=e[t]-n[t];if(s)return s;t++}return n.length<e.length?n.length===1&&n[0]===80?-1:1:n.length>e.length?e.length===1&&e[0]===80?1:-1:0}function VE(n,e){let t=0;const s=n.score,i=e.score;for(;t<s.length&&t<i.length;){const r=HS(s[t],i[t]);if(r)return r;t++}if(Math.abs(i.length-s.length)===1){if(Zg(s))return 1;if(Zg(i))return-1}return i.length-s.length}function Zg(n){const e=n[n.length-1];return n.length>0&&e[e.length-1]<0}const qS={type:0,value:""},WS=/[a-zA-Z0-9_]/;function zS(n){if(!n)return[[]];if(n==="/")return[[qS]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function e(b){throw new Error(`ERR (${t})/"${h}": ${b}`)}let t=0,s=t;const i=[];let r;function o(){r&&i.push(r),r=[]}let l=0,u,h="",d="";function g(){h&&(t===0?r.push({type:0,value:h}):t===1||t===2||t===3?(r.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:h,regexp:d,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),h="")}function v(){h+=u}for(;l<n.length;){if(u=n[l++],u==="\\"&&t!==2){s=t,t=4;continue}switch(t){case 0:u==="/"?(h&&g(),o()):u===":"?(g(),t=1):v();break;case 4:v(),t=s;break;case 1:u==="("?t=2:WS.test(u)?v():(g(),t=0,u!=="*"&&u!=="?"&&u!=="+"&&l--);break;case 2:u===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+u:t=3:d+=u;break;case 3:g(),t=0,u!=="*"&&u!=="?"&&u!=="+"&&l--,d="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${h}"`),g(),o(),i}function KS(n,e,t){const s=BS(zS(n.path),t),i=nt(s,{record:n,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function GS(n,e){const t=[],s=new Map;e=s_({strict:!1,end:!0,sensitive:!1},e);function i(g){return s.get(g)}function r(g,v,b){const k=!b,L=t_(g);L.aliasOf=b&&b.record;const M=s_(e,g),U=[L];if("alias"in g){const H=typeof g.alias=="string"?[g.alias]:g.alias;for(const ce of H)U.push(t_(nt({},L,{components:b?b.record.components:L.components,path:ce,aliasOf:b?b.record:L})))}let F,K;for(const H of U){const{path:ce}=H;if(v&&ce[0]!=="/"){const he=v.record.path,S=he[he.length-1]==="/"?"":"/";H.path=v.record.path+(ce&&S+ce)}if(F=KS(H,v,M),b?b.alias.push(F):(K=K||F,K!==F&&K.alias.push(F),k&&g.name&&!n_(F)&&o(g.name)),ME(F)&&u(F),L.children){const he=L.children;for(let S=0;S<he.length;S++)r(he[S],F,b&&b.children[S])}b=b||F}return K?()=>{o(K)}:yl}function o(g){if(xE(g)){const v=s.get(g);v&&(s.delete(g),t.splice(t.indexOf(v),1),v.children.forEach(o),v.alias.forEach(o))}else{const v=t.indexOf(g);v>-1&&(t.splice(v,1),g.record.name&&s.delete(g.record.name),g.children.forEach(o),g.alias.forEach(o))}}function l(){return t}function u(g){const v=XS(g,t);t.splice(v,0,g),g.record.name&&!n_(g)&&s.set(g.record.name,g)}function h(g,v){let b,k={},L,M;if("name"in g&&g.name){if(b=s.get(g.name),!b)throw ta(1,{location:g});M=b.record.name,k=nt(e_(v.params,b.keys.filter(K=>!K.optional).concat(b.parent?b.parent.keys.filter(K=>K.optional):[]).map(K=>K.name)),g.params&&e_(g.params,b.keys.map(K=>K.name))),L=b.stringify(k)}else if(g.path!=null)L=g.path,b=t.find(K=>K.re.test(L)),b&&(k=b.parse(L),M=b.record.name);else{if(b=v.name?s.get(v.name):t.find(K=>K.re.test(v.path)),!b)throw ta(1,{location:g,currentLocation:v});M=b.record.name,k=nt({},v.params,g.params),L=b.stringify(k)}const U=[];let F=b;for(;F;)U.unshift(F.record),F=F.parent;return{name:M,path:L,params:k,matched:U,meta:QS(U)}}n.forEach(g=>r(g));function d(){t.length=0,s.clear()}return{addRoute:r,resolve:h,removeRoute:o,clearRoutes:d,getRoutes:l,getRecordMatcher:i}}function e_(n,e){const t={};for(const s of e)s in n&&(t[s]=n[s]);return t}function t_(n){const e={path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:n.aliasOf,beforeEnter:n.beforeEnter,props:YS(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function YS(n){const e={},t=n.props||!1;if("component"in n)e.default=t;else for(const s in n.components)e[s]=typeof t=="object"?t[s]:t;return e}function n_(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function QS(n){return n.reduce((e,t)=>nt(e,t.meta),{})}function s_(n,e){const t={};for(const s in n)t[s]=s in e?e[s]:n[s];return t}function XS(n,e){let t=0,s=e.length;for(;t!==s;){const r=t+s>>1;VE(n,e[r])<0?s=r:t=r+1}const i=JS(n);return i&&(s=e.lastIndexOf(i,s-1)),s}function JS(n){let e=n;for(;e=e.parent;)if(ME(e)&&VE(n,e)===0)return e}function ME({record:n}){return!!(n.name||n.components&&Object.keys(n.components).length||n.redirect)}function ZS(n){const e={};if(n===""||n==="?")return e;const s=(n[0]==="?"?n.slice(1):n).split("&");for(let i=0;i<s.length;++i){const r=s[i].replace(RE," "),o=r.indexOf("="),l=Vl(o<0?r:r.slice(0,o)),u=o<0?null:Vl(r.slice(o+1));if(l in e){let h=e[l];ps(h)||(h=e[l]=[h]),h.push(u)}else e[l]=u}return e}function i_(n){let e="";for(let t in n){const s=n[t];if(t=yS(t),s==null){s!==void 0&&(e+=(e.length?"&":"")+t);continue}(ps(s)?s.map(r=>r&&gf(r)):[s&&gf(s)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+t,r!=null&&(e+="="+r))})}return e}function eR(n){const e={};for(const t in n){const s=n[t];s!==void 0&&(e[t]=ps(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const tR=Symbol(""),r_=Symbol(""),Ah=Symbol(""),$E=Symbol(""),vf=Symbol("");function il(){let n=[];function e(s){return n.push(s),()=>{const i=n.indexOf(s);i>-1&&n.splice(i,1)}}function t(){n=[]}return{add:e,list:()=>n.slice(),reset:t}}function Fi(n,e,t,s,i,r=o=>o()){const o=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((l,u)=>{const h=v=>{v===!1?u(ta(4,{from:t,to:e})):v instanceof Error?u(v):FS(v)?u(ta(2,{from:e,to:v})):(o&&s.enterCallbacks[i]===o&&typeof v=="function"&&o.push(v),l())},d=r(()=>n.call(s&&s.instances[i],e,t,h));let g=Promise.resolve(d);n.length<3&&(g=g.then(h)),g.catch(v=>u(v))})}function Od(n,e,t,s,i=r=>r()){const r=[];for(const o of n)for(const l in o.components){let u=o.components[l];if(!(e!=="beforeRouteEnter"&&!o.instances[l]))if(CE(u)){const d=(u.__vccOpts||u)[e];d&&r.push(Fi(d,t,s,o,l,i))}else{let h=u();r.push(()=>h.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${l}" at "${o.path}"`);const g=lS(d)?d.default:d;o.mods[l]=d,o.components[l]=g;const b=(g.__vccOpts||g)[e];return b&&Fi(b,t,s,o,l,i)()}))}}return r}function o_(n){const e=Ds(Ah),t=Ds($E),s=Tn(()=>{const u=qo(n.to);return e.resolve(u)}),i=Tn(()=>{const{matched:u}=s.value,{length:h}=u,d=u[h-1],g=t.matched;if(!d||!g.length)return-1;const v=g.findIndex(ea.bind(null,d));if(v>-1)return v;const b=a_(u[h-2]);return h>1&&a_(d)===b&&g[g.length-1].path!==b?g.findIndex(ea.bind(null,u[h-2])):v}),r=Tn(()=>i.value>-1&&oR(t.params,s.value.params)),o=Tn(()=>i.value>-1&&i.value===t.matched.length-1&&NE(t.params,s.value.params));function l(u={}){if(rR(u)){const h=e[qo(n.replace)?"replace":"push"](qo(n.to)).catch(yl);return n.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>h),h}return Promise.resolve()}return{route:s,href:Tn(()=>s.value.href),isActive:r,isExactActive:o,navigate:l}}function nR(n){return n.length===1?n[0]:n}const sR=Zy({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:o_,setup(n,{slots:e}){const t=gh(o_(n)),{options:s}=Ds(Ah),i=Tn(()=>({[l_(n.activeClass,s.linkActiveClass,"router-link-active")]:t.isActive,[l_(n.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const r=e.default&&nR(e.default(t));return n.custom?r:AE("a",{"aria-current":t.isExactActive?n.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:i.value},r)}}}),iR=sR;function rR(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}function oR(n,e){for(const t in e){const s=e[t],i=n[t];if(typeof s=="string"){if(s!==i)return!1}else if(!ps(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function a_(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const l_=(n,e,t)=>n??e??t,aR=Zy({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:e,slots:t}){const s=Ds(vf),i=Tn(()=>n.route||s.value),r=Ds(r_,0),o=Tn(()=>{let h=qo(r);const{matched:d}=i.value;let g;for(;(g=d[h])&&!g.components;)h++;return h}),l=Tn(()=>i.value.matched[o.value]);cu(r_,Tn(()=>o.value+1)),cu(tR,l),cu(vf,i);const u=Nt();return uu(()=>[u.value,l.value,n.name],([h,d,g],[v,b,k])=>{d&&(d.instances[g]=h,b&&b!==d&&h&&h===v&&(d.leaveGuards.size||(d.leaveGuards=b.leaveGuards),d.updateGuards.size||(d.updateGuards=b.updateGuards))),h&&d&&(!b||!ea(d,b)||!v)&&(d.enterCallbacks[g]||[]).forEach(L=>L(h))},{flush:"post"}),()=>{const h=i.value,d=n.name,g=l.value,v=g&&g.components[d];if(!v)return c_(t.default,{Component:v,route:h});const b=g.props[d],k=b?b===!0?h.params:typeof b=="function"?b(h):b:null,M=AE(v,nt({},k,e,{onVnodeUnmounted:U=>{U.component.isUnmounted&&(g.instances[d]=null)},ref:u}));return c_(t.default,{Component:M,route:h})||M}}});function c_(n,e){if(!n)return null;const t=n(e);return t.length===1?t[0]:t}const lR=aR;function cR(n){const e=GS(n.routes,n),t=n.parseQuery||ZS,s=n.stringifyQuery||i_,i=n.history,r=il(),o=il(),l=il(),u=g0(ki);let h=ki;Do&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Rd.bind(null,W=>""+W),g=Rd.bind(null,bS),v=Rd.bind(null,Vl);function b(W,q){let ie,fe;return xE(W)?(ie=e.getRecordMatcher(W),fe=q):fe=W,e.addRoute(fe,ie)}function k(W){const q=e.getRecordMatcher(W);q&&e.removeRoute(q)}function L(){return e.getRoutes().map(W=>W.record)}function M(W){return!!e.getRecordMatcher(W)}function U(W,q){if(q=nt({},q||u.value),typeof W=="string"){const x=Pd(t,W,q.path),z=e.resolve({path:x.path},q),G=i.createHref(x.fullPath);return nt(x,z,{params:v(z.params),hash:Vl(x.hash),redirectedFrom:void 0,href:G})}let ie;if(W.path!=null)ie=nt({},W,{path:Pd(t,W.path,q.path).path});else{const x=nt({},W.params);for(const z in x)x[z]==null&&delete x[z];ie=nt({},W,{params:g(x)}),q.params=g(q.params)}const fe=e.resolve(ie,q),Ue=W.hash||"";fe.params=d(v(fe.params));const w=AS(s,nt({},W,{hash:vS(Ue),path:fe.path})),C=i.createHref(w);return nt({fullPath:w,hash:Ue,query:s===i_?eR(W.query):W.query||{}},fe,{redirectedFrom:void 0,href:C})}function F(W){return typeof W=="string"?Pd(t,W,u.value.path):nt({},W)}function K(W,q){if(h!==W)return ta(8,{from:q,to:W})}function H(W){return S(W)}function ce(W){return H(nt(F(W),{replace:!0}))}function he(W){const q=W.matched[W.matched.length-1];if(q&&q.redirect){const{redirect:ie}=q;let fe=typeof ie=="function"?ie(W):ie;return typeof fe=="string"&&(fe=fe.includes("?")||fe.includes("#")?fe=F(fe):{path:fe},fe.params={}),nt({query:W.query,hash:W.hash,params:fe.path!=null?{}:W.params},fe)}}function S(W,q){const ie=h=U(W),fe=u.value,Ue=W.state,w=W.force,C=W.replace===!0,x=he(ie);if(x)return S(nt(F(x),{state:typeof x=="object"?nt({},Ue,x.state):Ue,force:w,replace:C}),q||ie);const z=ie;z.redirectedFrom=q;let G;return!w&&IS(s,fe,ie)&&(G=ta(16,{to:z,from:fe}),kt(fe,fe,!0,!1)),(G?Promise.resolve(G):R(z,fe)).catch(Q=>Js(Q)?Js(Q,2)?Q:Y(Q):xe(Q,z,fe)).then(Q=>{if(Q){if(Js(Q,2))return S(nt({replace:C},F(Q.to),{state:typeof Q.to=="object"?nt({},Ue,Q.to.state):Ue,force:w}),q||z)}else Q=D(z,fe,!0,C,Ue);return P(z,fe,Q),Q})}function T(W,q){const ie=K(W,q);return ie?Promise.reject(ie):Promise.resolve()}function A(W){const q=vt.values().next().value;return q&&typeof q.runWithContext=="function"?q.runWithContext(W):W()}function R(W,q){let ie;const[fe,Ue,w]=uR(W,q);ie=Od(fe.reverse(),"beforeRouteLeave",W,q);for(const x of fe)x.leaveGuards.forEach(z=>{ie.push(Fi(z,W,q))});const C=T.bind(null,W,q);return ie.push(C),Je(ie).then(()=>{ie=[];for(const x of r.list())ie.push(Fi(x,W,q));return ie.push(C),Je(ie)}).then(()=>{ie=Od(Ue,"beforeRouteUpdate",W,q);for(const x of Ue)x.updateGuards.forEach(z=>{ie.push(Fi(z,W,q))});return ie.push(C),Je(ie)}).then(()=>{ie=[];for(const x of w)if(x.beforeEnter)if(ps(x.beforeEnter))for(const z of x.beforeEnter)ie.push(Fi(z,W,q));else ie.push(Fi(x.beforeEnter,W,q));return ie.push(C),Je(ie)}).then(()=>(W.matched.forEach(x=>x.enterCallbacks={}),ie=Od(w,"beforeRouteEnter",W,q,A),ie.push(C),Je(ie))).then(()=>{ie=[];for(const x of o.list())ie.push(Fi(x,W,q));return ie.push(C),Je(ie)}).catch(x=>Js(x,8)?x:Promise.reject(x))}function P(W,q,ie){l.list().forEach(fe=>A(()=>fe(W,q,ie)))}function D(W,q,ie,fe,Ue){const w=K(W,q);if(w)return w;const C=q===ki,x=Do?history.state:{};ie&&(fe||C?i.replace(W.fullPath,nt({scroll:C&&x&&x.scroll},Ue)):i.push(W.fullPath,Ue)),u.value=W,kt(W,q,ie,C),Y()}let I;function ft(){I||(I=i.listen((W,q,ie)=>{if(!yt.listening)return;const fe=U(W),Ue=he(fe);if(Ue){S(nt(Ue,{replace:!0,force:!0}),fe).catch(yl);return}h=fe;const w=u.value;Do&&kS(Yg(w.fullPath,ie.delta),wh()),R(fe,w).catch(C=>Js(C,12)?C:Js(C,2)?(S(nt(F(C.to),{force:!0}),fe).then(x=>{Js(x,20)&&!ie.delta&&ie.type===Ml.pop&&i.go(-1,!1)}).catch(yl),Promise.reject()):(ie.delta&&i.go(-ie.delta,!1),xe(C,fe,w))).then(C=>{C=C||D(fe,w,!1),C&&(ie.delta&&!Js(C,8)?i.go(-ie.delta,!1):ie.type===Ml.pop&&Js(C,20)&&i.go(-1,!1)),P(fe,w,C)}).catch(yl)}))}let wt=il(),Be=il(),we;function xe(W,q,ie){Y(W);const fe=Be.list();return fe.length?fe.forEach(Ue=>Ue(W,q,ie)):console.error(W),Promise.reject(W)}function bt(){return we&&u.value!==ki?Promise.resolve():new Promise((W,q)=>{wt.add([W,q])})}function Y(W){return we||(we=!W,ft(),wt.list().forEach(([q,ie])=>W?ie(W):q()),wt.reset()),W}function kt(W,q,ie,fe){const{scrollBehavior:Ue}=n;if(!Do||!Ue)return Promise.resolve();const w=!ie&&xS(Yg(W.fullPath,0))||(fe||!ie)&&history.state&&history.state.scroll||null;return ap().then(()=>Ue(W,q,w)).then(C=>C&&NS(C)).catch(C=>xe(C,W,q))}const Qe=W=>i.go(W);let Xe;const vt=new Set,yt={currentRoute:u,listening:!0,addRoute:b,removeRoute:k,clearRoutes:e.clearRoutes,hasRoute:M,getRoutes:L,resolve:U,options:n,push:H,replace:ce,go:Qe,back:()=>Qe(-1),forward:()=>Qe(1),beforeEach:r.add,beforeResolve:o.add,afterEach:l.add,onError:Be.add,isReady:bt,install(W){const q=this;W.component("RouterLink",iR),W.component("RouterView",lR),W.config.globalProperties.$router=q,Object.defineProperty(W.config.globalProperties,"$route",{enumerable:!0,get:()=>qo(u)}),Do&&!Xe&&u.value===ki&&(Xe=!0,H(i.location).catch(Ue=>{}));const ie={};for(const Ue in ki)Object.defineProperty(ie,Ue,{get:()=>u.value[Ue],enumerable:!0});W.provide(Ah,q),W.provide($E,qy(ie)),W.provide(vf,u);const fe=W.unmount;vt.add(W),W.unmount=function(){vt.delete(W),vt.size<1&&(h=ki,I&&I(),I=null,u.value=ki,Xe=!1,we=!1),fe()}}};function Je(W){return W.reduce((q,ie)=>q.then(()=>A(ie)),Promise.resolve())}return yt}function uR(n,e){const t=[],s=[],i=[],r=Math.max(e.matched.length,n.matched.length);for(let o=0;o<r;o++){const l=e.matched[o];l&&(n.matched.find(h=>ea(h,l))?s.push(l):t.push(l));const u=n.matched[o];u&&(e.matched.find(h=>ea(h,u))||i.push(u))}return[t,s,i]}function FE(){return Ds(Ah)}const hR={class:"container-fluid"},dR={class:"row justify-content-center"},fR={class:"col-12 col-md-10 col-lg-8 p-0 w-100"},pR={class:"slider-wrapper"},mR=["src","alt"],gR=["onClick"],_R=["href"],vR=["src","alt"],yR=["src","alt"],ER=["src","alt"],bR={class:"game-info mt-3"},TR=["href"],wR=["src"],AR={__name:"slider",setup(n){const e=Nt([{src:"/assets/img/icon/gtavi.png",alt:"Image 1"},{src:"/assets/img/icon/metaphor.png",alt:"Image 2"},{src:"/assets/img/icon/nightrein.png",alt:"Image 3"},{src:"/assets/img/icon/TLOU2.jpg",alt:"Image 4"},{src:"/assets/img/icon/Clair_Obscur.jpg",alt:"Image 5"}]),t=Nt([{src:"https://www.instant-gaming.com/fr/2462-acheter-grand-theft-auto-vi-pc-jeu-rockstar/",alt:"Page GTA VI"},{src:"https://www.instant-gaming.com/fr/14352-acheter-metaphor-refantazio-pc-jeu-steam-europe/",alt:"Page Metaphor"},{src:"https://www.instant-gaming.com/fr/18294-acheter-elden-ring-nightreign-pc-jeu-steam-europe/",alt:"Page Elden Ring Nightrein"},{src:"https://www.instant-gaming.com/fr/6215-acheter-the-last-of-us-part-ii-remastered-pc-jeu-steam-europe/",alt:"Page The Last of Us 2"},{src:"https://www.instant-gaming.com/fr/17015-acheter-clair-obscur-expedition-33-pc-jeu-steam-europe-us-canada/",alt:"Page Clair Obscur"}]),s=[{src:"https://cdn2.steamgriddb.com/hero_thumb/b80be7960918982fceea91afaf4d5e27.jpg",alt:"Image Hero GTA VI"},{src:"https://cdn2.steamgriddb.com/hero_thumb/aaecbb83e18bf24199bc5b2d3a280054.jpg",alt:"Image Hero Metaphor"},{src:"https://cdn2.steamgriddb.com/hero_thumb/8ec28b09ec95f08279e82459f1289c34.jpg",alt:"Image Hero Nightrein"},{src:"https://cdn2.steamgriddb.com/hero_thumb/5b465c13fd8cac3b9baf4af74bc0069a.png",alt:"Image Hero TLOU2"},{src:"https://cdn2.steamgriddb.com/hero_thumb/d2d195657240f493374e95e2b75cc8cf.jpg",alt:"Image Hero Clair Obscur"}],i=Nt([{name:"Grand Thief Auto VI",description:"lorem ipsum",price:"59.99"},{name:"Metaphor: ReFantazio",description:"lorem ipsum",price:"49.99"},{name:"Elden Ring Nightrein",description:"lorem ipsum",price:"39.99"},{name:"The Last of Us Part II REMASTERED",description:"lorem ipsum",price:"29.99"},{name:"Clair Obscur : Expdition 33",description:"lorem ipsum",price:"19.99"}]),r=Nt(0),o=Nt(!1),l=Nt([!1,!1,!1,!1,!1]);Tn(()=>(r.value-1+e.value.length)%e.value.length),Tn(()=>(r.value+1)%e.value.length);const u=Tn(()=>{const U=e.value.length;return[e.value[(r.value-1+U)%U],e.value[r.value],e.value[(r.value+1)%U]]}),h=Tn(()=>{const U=e.value.length;return[e.value[(r.value-2+U)%U],e.value[(r.value+2)%U]]}),d=U=>U===1?{width:"50%"}:{width:"25%"};let g=null;function v(){g&&clearInterval(g),g=setInterval(()=>{b()},6e3)}Xl(()=>{v()}),up(()=>{clearInterval(g)});const b=()=>{o.value=!0,setTimeout(()=>{r.value=(r.value+1)%e.value.length,o.value=!1,v()},500)},k=()=>{o.value=!0,setTimeout(()=>{r.value=(r.value-1+e.value.length)%e.value.length,o.value=!1,v()},500)},L=U=>{U===0&&k(),U===2&&b()},M=U=>{l.value[U]=!l.value[U]};return(U,F)=>(et(),tt("div",hR,[$("div",dR,[$("div",fR,[$("div",{class:"carousel-container mx-auto",style:Pl({"--carousel-bg":`url('${s[r.value].src}')`})},[$("div",pR,[$("div",{class:Bo(["slide","prev"]),onClick:F[0]||(F[0]=K=>L(0))},[$("img",{src:h.value[0].src,alt:h.value[0].alt,class:"img-fluid rounded-4 w-50"},null,8,mR)]),(et(!0),tt(Lt,null,Hr(u.value,(K,H)=>(et(),tt("div",{key:H,class:Bo(["slide",H===0?"prev":H===1?"active":"next",H===1&&o.value?"fading":""]),style:Pl(d(H)),onClick:ce=>L(H)},[H===1?(et(),tt("a",{key:0,href:t.value[r.value].src,target:"_blank"},[$("img",{src:K.src,alt:K.alt,class:"img-fluid rounded-4",style:{cursor:"pointer"}},null,8,vR)],8,_R)):(et(),tt("img",{key:1,src:K.src,alt:K.alt,class:"img-fluid rounded-4"},null,8,yR))],14,gR))),128)),$("div",{class:Bo(["slide","next"]),onClick:F[1]||(F[1]=K=>L(2))},[$("img",{src:h.value[1].src,alt:h.value[1].alt,class:"img-fluid rounded-4 w-50"},null,8,ER)])]),$("div",{class:"controls d-flex justify-content-between mt-3"},[$("button",{class:"btn",onClick:k},F[3]||(F[3]=[$("span",{class:"carousel-control-prev-icon","aria-hidden":"true"},null,-1)])),$("button",{class:"btn",onClick:b},F[4]||(F[4]=[$("span",{class:"carousel-control-next-icon","aria-hidden":"true"},null,-1)]))]),$("div",bR,[$("h2",null,cn(i.value[r.value].name),1),$("p",null,cn(i.value[r.value].description),1),$("p",null,cn(i.value[r.value].price),1),F[5]||(F[5]=$("a",{class:"btn btn-page me-2"},"Acheter",-1)),$("a",{href:t.value[r.value].src,target:"_blank",class:"btn btn-page me-2"},"Page du jeu",8,TR),$("a",{class:"btn btn-danger",onClick:F[2]||(F[2]=K=>M(r.value))},[$("img",{src:l.value[r.value]?"/assets/img/favorite_black.png":"/assets/img/favorite_empty.png",alt:"Icne",style:{width:"24px",height:"24px"}},null,8,wR)])])],4)])])]))}},IR=()=>{};var u_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let i=n.charCodeAt(s);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},CR=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const i=n[t++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=n[t++];e[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=n[t++],o=n[t++],l=n[t++],u=((i&7)<<18|(r&63)<<12|(o&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(u>>10)),e[s++]=String.fromCharCode(56320+(u&1023))}else{const r=n[t++],o=n[t++];e[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63)}}return e.join("")},jE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<n.length;i+=3){const r=n[i],o=i+1<n.length,l=o?n[i+1]:0,u=i+2<n.length,h=u?n[i+2]:0,d=r>>2,g=(r&3)<<4|l>>4;let v=(l&15)<<2|h>>6,b=h&63;u||(b=64,o||(v=64)),s.push(t[d],t[g],t[v],t[b])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(UE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):CR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<n.length;){const r=t[n.charAt(i++)],l=i<n.length?t[n.charAt(i)]:0;++i;const h=i<n.length?t[n.charAt(i)]:64;++i;const g=i<n.length?t[n.charAt(i)]:64;if(++i,r==null||l==null||h==null||g==null)throw new SR;const v=r<<2|l>>4;if(s.push(v),h!==64){const b=l<<4&240|h>>2;if(s.push(b),g!==64){const k=h<<6&192|g;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class SR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RR=function(n){const e=UE(n);return jE.encodeByteArray(e,!0)},$u=function(n){return RR(n).replace(/\./g,"")},BE=function(n){try{return jE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=()=>PR().__FIREBASE_DEFAULTS__,DR=()=>{if(typeof process>"u"||typeof u_>"u")return;const n=u_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},NR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&BE(n[1]);return e&&JSON.parse(e)},Ih=()=>{try{return IR()||OR()||DR()||NR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},HE=n=>{var e,t;return(t=(e=Ih())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},kR=n=>{const e=HE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},qE=()=>{var n;return(n=Ih())===null||n===void 0?void 0:n.config},WE=n=>{var e;return(e=Ih())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(n){return n.endsWith(".cloudworkstations.dev")}async function zE(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",i=n.iat||0,r=n.sub||n.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},n);return[$u(JSON.stringify(t)),$u(JSON.stringify(o)),""].join(".")}const bl={};function VR(){const n={prod:[],emulator:[]};for(const e of Object.keys(bl))bl[e]?n.emulator.push(e):n.prod.push(e);return n}function MR(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let h_=!1;function KE(n,e){if(typeof window>"u"||typeof document>"u"||!_a(window.location.host)||bl[n]===e||bl[n]||h_)return;bl[n]=e;function t(v){return`__firebase__banner__${v}`}const s="__firebase__banner",r=VR().prod.length>0;function o(){const v=document.getElementById(s);v&&v.remove()}function l(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function u(v,b){v.setAttribute("width","24"),v.setAttribute("id",b),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function h(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{h_=!0,o()},v}function d(v,b){v.setAttribute("id",b),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){const v=MR(s),b=t("text"),k=document.getElementById(b)||document.createElement("span"),L=t("learnmore"),M=document.getElementById(L)||document.createElement("a"),U=t("preprendIcon"),F=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const K=v.element;l(K),d(M,L);const H=h();u(F,U),K.append(F,k,M,H),document.body.appendChild(K)}r?(k.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $R(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function FR(){var n;const e=(n=Ih())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function BR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HR(){const n=dn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function qR(){return!FR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WR(){try{return typeof indexedDB=="object"}catch{return!1}}function zR(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var r;e(((r=i.error)===null||r===void 0?void 0:r.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="FirebaseError";class mi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=KR,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zl.prototype.create)}}class Zl{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},i=`${this.service}/${e}`,r=this.errors[e],o=r?GR(r,s):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new mi(i,l,s)}}function GR(n,e){return n.replace(YR,(t,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const YR=/\{\$([^}]+)}/g;function QR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function qr(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const i of t){if(!s.includes(i))return!1;const r=n[i],o=e[i];if(d_(r)&&d_(o)){if(!qr(r,o))return!1}else if(r!==o)return!1}for(const i of s)if(!t.includes(i))return!1;return!0}function d_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ll(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,r]=s.split("=");e[decodeURIComponent(i)]=decodeURIComponent(r)}}),e}function cl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function XR(n,e){const t=new JR(n,e);return t.subscribe.bind(t)}class JR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let i;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");ZR(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:s},i.next===void 0&&(i.next=Dd),i.error===void 0&&(i.error=Dd),i.complete===void 0&&(i.complete=Dd);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Dd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(n){return n&&n._delegate?n._delegate:n}class Wr{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new xR;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nP(e))try{this.getOrInitializeService({instanceIdentifier:xr})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(e=xr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xr){return this.instances.has(e)}getOptions(e=xr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[r,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);s===l&&o.resolve(i)}return i}onInit(e,t){var s;const i=this.normalizeInstanceIdentifier(t),r=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const i of s)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:tP(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=xr){return this.component?this.component.multipleInstances?e:xr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tP(n){return n===xr?void 0:n}function nP(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new eP(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(He||(He={}));const iP={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},rP=He.INFO,oP={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},aP=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),i=oP[e];if(i)console[i](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pp{constructor(e){this.name=e,this._logLevel=rP,this._logHandler=aP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const lP=(n,e)=>e.some(t=>n instanceof t);let f_,p_;function cP(){return f_||(f_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uP(){return p_||(p_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GE=new WeakMap,yf=new WeakMap,YE=new WeakMap,Nd=new WeakMap,mp=new WeakMap;function hP(n){const e=new Promise((t,s)=>{const i=()=>{n.removeEventListener("success",r),n.removeEventListener("error",o)},r=()=>{t(Wi(n.result)),i()},o=()=>{s(n.error),i()};n.addEventListener("success",r),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&GE.set(t,n)}).catch(()=>{}),mp.set(e,n),e}function dP(n){if(yf.has(n))return;const e=new Promise((t,s)=>{const i=()=>{n.removeEventListener("complete",r),n.removeEventListener("error",o),n.removeEventListener("abort",o)},r=()=>{t(),i()},o=()=>{s(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",r),n.addEventListener("error",o),n.addEventListener("abort",o)});yf.set(n,e)}let Ef={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return yf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||YE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Wi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function fP(n){Ef=n(Ef)}function pP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(kd(this),e,...t);return YE.set(s,e.sort?e.sort():[e]),Wi(s)}:uP().includes(n)?function(...e){return n.apply(kd(this),e),Wi(GE.get(this))}:function(...e){return Wi(n.apply(kd(this),e))}}function mP(n){return typeof n=="function"?pP(n):(n instanceof IDBTransaction&&dP(n),lP(n,cP())?new Proxy(n,Ef):n)}function Wi(n){if(n instanceof IDBRequest)return hP(n);if(Nd.has(n))return Nd.get(n);const e=mP(n);return e!==n&&(Nd.set(n,e),mp.set(e,n)),e}const kd=n=>mp.get(n);function gP(n,e,{blocked:t,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(n,e),l=Wi(o);return s&&o.addEventListener("upgradeneeded",u=>{s(Wi(o.result),u.oldVersion,u.newVersion,Wi(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),l.then(u=>{r&&u.addEventListener("close",()=>r()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const _P=["get","getKey","getAll","getAllKeys","count"],vP=["put","add","delete","clear"],xd=new Map;function m_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(xd.get(e))return xd.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,i=vP.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(i||_P.includes(t)))return;const r=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let h=u.store;return s&&(h=h.index(l.shift())),(await Promise.all([h[t](...l),i&&u.done]))[0]};return xd.set(e,r),r}fP(n=>({...n,get:(e,t,s)=>m_(e,t)||n.get(e,t,s),has:(e,t)=>!!m_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(EP(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function EP(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bf="@firebase/app",g_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=new pp("@firebase/app"),bP="@firebase/app-compat",TP="@firebase/analytics-compat",wP="@firebase/analytics",AP="@firebase/app-check-compat",IP="@firebase/app-check",CP="@firebase/auth",SP="@firebase/auth-compat",RP="@firebase/database",PP="@firebase/data-connect",OP="@firebase/database-compat",DP="@firebase/functions",NP="@firebase/functions-compat",kP="@firebase/installations",xP="@firebase/installations-compat",LP="@firebase/messaging",VP="@firebase/messaging-compat",MP="@firebase/performance",$P="@firebase/performance-compat",FP="@firebase/remote-config",UP="@firebase/remote-config-compat",jP="@firebase/storage",BP="@firebase/storage-compat",HP="@firebase/firestore",qP="@firebase/ai",WP="@firebase/firestore-compat",zP="firebase",KP="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf="[DEFAULT]",GP={[bf]:"fire-core",[bP]:"fire-core-compat",[wP]:"fire-analytics",[TP]:"fire-analytics-compat",[IP]:"fire-app-check",[AP]:"fire-app-check-compat",[CP]:"fire-auth",[SP]:"fire-auth-compat",[RP]:"fire-rtdb",[PP]:"fire-data-connect",[OP]:"fire-rtdb-compat",[DP]:"fire-fn",[NP]:"fire-fn-compat",[kP]:"fire-iid",[xP]:"fire-iid-compat",[LP]:"fire-fcm",[VP]:"fire-fcm-compat",[MP]:"fire-perf",[$P]:"fire-perf-compat",[FP]:"fire-rc",[UP]:"fire-rc-compat",[jP]:"fire-gcs",[BP]:"fire-gcs-compat",[HP]:"fire-fst",[WP]:"fire-fst-compat",[qP]:"fire-vertex","fire-js":"fire-js",[zP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu=new Map,YP=new Map,wf=new Map;function __(n,e){try{n.container.addComponent(e)}catch(t){ci.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function na(n){const e=n.name;if(wf.has(e))return ci.debug(`There were multiple attempts to register component ${e}.`),!1;wf.set(e,n);for(const t of Fu.values())__(t,n);for(const t of YP.values())__(t,n);return!0}function gp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Vn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zi=new Zl("app","Firebase",QP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Wr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=KP;function QE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Tf,automaticDataCollectionEnabled:!0},e),i=s.name;if(typeof i!="string"||!i)throw zi.create("bad-app-name",{appName:String(i)});if(t||(t=qE()),!t)throw zi.create("no-options");const r=Fu.get(i);if(r){if(qr(t,r.options)&&qr(s,r.config))return r;throw zi.create("duplicate-app",{appName:i})}const o=new sP(i);for(const u of wf.values())o.addComponent(u);const l=new XP(t,s,o);return Fu.set(i,l),l}function XE(n=Tf){const e=Fu.get(n);if(!e&&n===Tf&&qE())return QE();if(!e)throw zi.create("no-app",{appName:n});return e}function Ki(n,e,t){var s;let i=(s=GP[n])!==null&&s!==void 0?s:n;t&&(i+=`-${t}`);const r=i.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const l=[`Unable to register library "${i}" with version "${e}":`];r&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ci.warn(l.join(" "));return}na(new Wr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP="firebase-heartbeat-database",ZP=1,$l="firebase-heartbeat-store";let Ld=null;function JE(){return Ld||(Ld=gP(JP,ZP,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore($l)}catch(t){console.warn(t)}}}}).catch(n=>{throw zi.create("idb-open",{originalErrorMessage:n.message})})),Ld}async function eO(n){try{const t=(await JE()).transaction($l),s=await t.objectStore($l).get(ZE(n));return await t.done,s}catch(e){if(e instanceof mi)ci.warn(e.message);else{const t=zi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ci.warn(t.message)}}}async function v_(n,e){try{const s=(await JE()).transaction($l,"readwrite");await s.objectStore($l).put(e,ZE(n)),await s.done}catch(t){if(t instanceof mi)ci.warn(t.message);else{const s=zi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ci.warn(s.message)}}}function ZE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=1024,nO=30;class sO{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new rO(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=y_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>nO){const o=oO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ci.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=y_(),{heartbeatsToSend:s,unsentEntries:i}=iO(this._heartbeatsCache.heartbeats),r=$u(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return ci.warn(t),""}}}function y_(){return new Date().toISOString().substring(0,10)}function iO(n,e=tO){const t=[];let s=n.slice();for(const i of n){const r=t.find(o=>o.agent===i.agent);if(r){if(r.dates.push(i.date),E_(t)>e){r.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),E_(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class rO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WR()?zR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await eO(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return v_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return v_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function E_(n){return $u(JSON.stringify({version:2,heartbeats:n})).length}function oO(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(n){na(new Wr("platform-logger",e=>new yP(e),"PRIVATE")),na(new Wr("heartbeat",e=>new sO(e),"PRIVATE")),Ki(bf,g_,n),Ki(bf,g_,"esm2017"),Ki("fire-js","")}aO("");var b_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gi,eb;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,T){function A(){}A.prototype=T.prototype,S.D=T.prototype,S.prototype=new A,S.prototype.constructor=S,S.C=function(R,P,D){for(var I=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)I[ft-2]=arguments[ft];return T.prototype[P].apply(R,I)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,T,A){A||(A=0);var R=Array(16);if(typeof T=="string")for(var P=0;16>P;++P)R[P]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(P=0;16>P;++P)R[P]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=S.g[0],A=S.g[1],P=S.g[2];var D=S.g[3],I=T+(D^A&(P^D))+R[0]+3614090360&4294967295;T=A+(I<<7&4294967295|I>>>25),I=D+(P^T&(A^P))+R[1]+3905402710&4294967295,D=T+(I<<12&4294967295|I>>>20),I=P+(A^D&(T^A))+R[2]+606105819&4294967295,P=D+(I<<17&4294967295|I>>>15),I=A+(T^P&(D^T))+R[3]+3250441966&4294967295,A=P+(I<<22&4294967295|I>>>10),I=T+(D^A&(P^D))+R[4]+4118548399&4294967295,T=A+(I<<7&4294967295|I>>>25),I=D+(P^T&(A^P))+R[5]+1200080426&4294967295,D=T+(I<<12&4294967295|I>>>20),I=P+(A^D&(T^A))+R[6]+2821735955&4294967295,P=D+(I<<17&4294967295|I>>>15),I=A+(T^P&(D^T))+R[7]+4249261313&4294967295,A=P+(I<<22&4294967295|I>>>10),I=T+(D^A&(P^D))+R[8]+1770035416&4294967295,T=A+(I<<7&4294967295|I>>>25),I=D+(P^T&(A^P))+R[9]+2336552879&4294967295,D=T+(I<<12&4294967295|I>>>20),I=P+(A^D&(T^A))+R[10]+4294925233&4294967295,P=D+(I<<17&4294967295|I>>>15),I=A+(T^P&(D^T))+R[11]+2304563134&4294967295,A=P+(I<<22&4294967295|I>>>10),I=T+(D^A&(P^D))+R[12]+1804603682&4294967295,T=A+(I<<7&4294967295|I>>>25),I=D+(P^T&(A^P))+R[13]+4254626195&4294967295,D=T+(I<<12&4294967295|I>>>20),I=P+(A^D&(T^A))+R[14]+2792965006&4294967295,P=D+(I<<17&4294967295|I>>>15),I=A+(T^P&(D^T))+R[15]+1236535329&4294967295,A=P+(I<<22&4294967295|I>>>10),I=T+(P^D&(A^P))+R[1]+4129170786&4294967295,T=A+(I<<5&4294967295|I>>>27),I=D+(A^P&(T^A))+R[6]+3225465664&4294967295,D=T+(I<<9&4294967295|I>>>23),I=P+(T^A&(D^T))+R[11]+643717713&4294967295,P=D+(I<<14&4294967295|I>>>18),I=A+(D^T&(P^D))+R[0]+3921069994&4294967295,A=P+(I<<20&4294967295|I>>>12),I=T+(P^D&(A^P))+R[5]+3593408605&4294967295,T=A+(I<<5&4294967295|I>>>27),I=D+(A^P&(T^A))+R[10]+38016083&4294967295,D=T+(I<<9&4294967295|I>>>23),I=P+(T^A&(D^T))+R[15]+3634488961&4294967295,P=D+(I<<14&4294967295|I>>>18),I=A+(D^T&(P^D))+R[4]+3889429448&4294967295,A=P+(I<<20&4294967295|I>>>12),I=T+(P^D&(A^P))+R[9]+568446438&4294967295,T=A+(I<<5&4294967295|I>>>27),I=D+(A^P&(T^A))+R[14]+3275163606&4294967295,D=T+(I<<9&4294967295|I>>>23),I=P+(T^A&(D^T))+R[3]+4107603335&4294967295,P=D+(I<<14&4294967295|I>>>18),I=A+(D^T&(P^D))+R[8]+1163531501&4294967295,A=P+(I<<20&4294967295|I>>>12),I=T+(P^D&(A^P))+R[13]+2850285829&4294967295,T=A+(I<<5&4294967295|I>>>27),I=D+(A^P&(T^A))+R[2]+4243563512&4294967295,D=T+(I<<9&4294967295|I>>>23),I=P+(T^A&(D^T))+R[7]+1735328473&4294967295,P=D+(I<<14&4294967295|I>>>18),I=A+(D^T&(P^D))+R[12]+2368359562&4294967295,A=P+(I<<20&4294967295|I>>>12),I=T+(A^P^D)+R[5]+4294588738&4294967295,T=A+(I<<4&4294967295|I>>>28),I=D+(T^A^P)+R[8]+2272392833&4294967295,D=T+(I<<11&4294967295|I>>>21),I=P+(D^T^A)+R[11]+1839030562&4294967295,P=D+(I<<16&4294967295|I>>>16),I=A+(P^D^T)+R[14]+4259657740&4294967295,A=P+(I<<23&4294967295|I>>>9),I=T+(A^P^D)+R[1]+2763975236&4294967295,T=A+(I<<4&4294967295|I>>>28),I=D+(T^A^P)+R[4]+1272893353&4294967295,D=T+(I<<11&4294967295|I>>>21),I=P+(D^T^A)+R[7]+4139469664&4294967295,P=D+(I<<16&4294967295|I>>>16),I=A+(P^D^T)+R[10]+3200236656&4294967295,A=P+(I<<23&4294967295|I>>>9),I=T+(A^P^D)+R[13]+681279174&4294967295,T=A+(I<<4&4294967295|I>>>28),I=D+(T^A^P)+R[0]+3936430074&4294967295,D=T+(I<<11&4294967295|I>>>21),I=P+(D^T^A)+R[3]+3572445317&4294967295,P=D+(I<<16&4294967295|I>>>16),I=A+(P^D^T)+R[6]+76029189&4294967295,A=P+(I<<23&4294967295|I>>>9),I=T+(A^P^D)+R[9]+3654602809&4294967295,T=A+(I<<4&4294967295|I>>>28),I=D+(T^A^P)+R[12]+3873151461&4294967295,D=T+(I<<11&4294967295|I>>>21),I=P+(D^T^A)+R[15]+530742520&4294967295,P=D+(I<<16&4294967295|I>>>16),I=A+(P^D^T)+R[2]+3299628645&4294967295,A=P+(I<<23&4294967295|I>>>9),I=T+(P^(A|~D))+R[0]+4096336452&4294967295,T=A+(I<<6&4294967295|I>>>26),I=D+(A^(T|~P))+R[7]+1126891415&4294967295,D=T+(I<<10&4294967295|I>>>22),I=P+(T^(D|~A))+R[14]+2878612391&4294967295,P=D+(I<<15&4294967295|I>>>17),I=A+(D^(P|~T))+R[5]+4237533241&4294967295,A=P+(I<<21&4294967295|I>>>11),I=T+(P^(A|~D))+R[12]+1700485571&4294967295,T=A+(I<<6&4294967295|I>>>26),I=D+(A^(T|~P))+R[3]+2399980690&4294967295,D=T+(I<<10&4294967295|I>>>22),I=P+(T^(D|~A))+R[10]+4293915773&4294967295,P=D+(I<<15&4294967295|I>>>17),I=A+(D^(P|~T))+R[1]+2240044497&4294967295,A=P+(I<<21&4294967295|I>>>11),I=T+(P^(A|~D))+R[8]+1873313359&4294967295,T=A+(I<<6&4294967295|I>>>26),I=D+(A^(T|~P))+R[15]+4264355552&4294967295,D=T+(I<<10&4294967295|I>>>22),I=P+(T^(D|~A))+R[6]+2734768916&4294967295,P=D+(I<<15&4294967295|I>>>17),I=A+(D^(P|~T))+R[13]+1309151649&4294967295,A=P+(I<<21&4294967295|I>>>11),I=T+(P^(A|~D))+R[4]+4149444226&4294967295,T=A+(I<<6&4294967295|I>>>26),I=D+(A^(T|~P))+R[11]+3174756917&4294967295,D=T+(I<<10&4294967295|I>>>22),I=P+(T^(D|~A))+R[2]+718787259&4294967295,P=D+(I<<15&4294967295|I>>>17),I=A+(D^(P|~T))+R[9]+3951481745&4294967295,S.g[0]=S.g[0]+T&4294967295,S.g[1]=S.g[1]+(P+(I<<21&4294967295|I>>>11))&4294967295,S.g[2]=S.g[2]+P&4294967295,S.g[3]=S.g[3]+D&4294967295}s.prototype.u=function(S,T){T===void 0&&(T=S.length);for(var A=T-this.blockSize,R=this.B,P=this.h,D=0;D<T;){if(P==0)for(;D<=A;)i(this,S,D),D+=this.blockSize;if(typeof S=="string"){for(;D<T;)if(R[P++]=S.charCodeAt(D++),P==this.blockSize){i(this,R),P=0;break}}else for(;D<T;)if(R[P++]=S[D++],P==this.blockSize){i(this,R),P=0;break}}this.h=P,this.o+=T},s.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var T=1;T<S.length-8;++T)S[T]=0;var A=8*this.o;for(T=S.length-8;T<S.length;++T)S[T]=A&255,A/=256;for(this.u(S),S=Array(16),T=A=0;4>T;++T)for(var R=0;32>R;R+=8)S[A++]=this.g[T]>>>R&255;return S};function r(S,T){var A=l;return Object.prototype.hasOwnProperty.call(A,S)?A[S]:A[S]=T(S)}function o(S,T){this.h=T;for(var A=[],R=!0,P=S.length-1;0<=P;P--){var D=S[P]|0;R&&D==T||(A[P]=D,R=!1)}this.g=A}var l={};function u(S){return-128<=S&&128>S?r(S,function(T){return new o([T|0],0>T?-1:0)}):new o([S|0],0>S?-1:0)}function h(S){if(isNaN(S)||!isFinite(S))return g;if(0>S)return M(h(-S));for(var T=[],A=1,R=0;S>=A;R++)T[R]=S/A|0,A*=4294967296;return new o(T,0)}function d(S,T){if(S.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(S.charAt(0)=="-")return M(d(S.substring(1),T));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=h(Math.pow(T,8)),R=g,P=0;P<S.length;P+=8){var D=Math.min(8,S.length-P),I=parseInt(S.substring(P,P+D),T);8>D?(D=h(Math.pow(T,D)),R=R.j(D).add(h(I))):(R=R.j(A),R=R.add(h(I)))}return R}var g=u(0),v=u(1),b=u(16777216);n=o.prototype,n.m=function(){if(L(this))return-M(this).m();for(var S=0,T=1,A=0;A<this.g.length;A++){var R=this.i(A);S+=(0<=R?R:4294967296+R)*T,T*=4294967296}return S},n.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(k(this))return"0";if(L(this))return"-"+M(this).toString(S);for(var T=h(Math.pow(S,6)),A=this,R="";;){var P=H(A,T).g;A=U(A,P.j(T));var D=((0<A.g.length?A.g[0]:A.h)>>>0).toString(S);if(A=P,k(A))return D+R;for(;6>D.length;)D="0"+D;R=D+R}},n.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function k(S){if(S.h!=0)return!1;for(var T=0;T<S.g.length;T++)if(S.g[T]!=0)return!1;return!0}function L(S){return S.h==-1}n.l=function(S){return S=U(this,S),L(S)?-1:k(S)?0:1};function M(S){for(var T=S.g.length,A=[],R=0;R<T;R++)A[R]=~S.g[R];return new o(A,~S.h).add(v)}n.abs=function(){return L(this)?M(this):this},n.add=function(S){for(var T=Math.max(this.g.length,S.g.length),A=[],R=0,P=0;P<=T;P++){var D=R+(this.i(P)&65535)+(S.i(P)&65535),I=(D>>>16)+(this.i(P)>>>16)+(S.i(P)>>>16);R=I>>>16,D&=65535,I&=65535,A[P]=I<<16|D}return new o(A,A[A.length-1]&-2147483648?-1:0)};function U(S,T){return S.add(M(T))}n.j=function(S){if(k(this)||k(S))return g;if(L(this))return L(S)?M(this).j(M(S)):M(M(this).j(S));if(L(S))return M(this.j(M(S)));if(0>this.l(b)&&0>S.l(b))return h(this.m()*S.m());for(var T=this.g.length+S.g.length,A=[],R=0;R<2*T;R++)A[R]=0;for(R=0;R<this.g.length;R++)for(var P=0;P<S.g.length;P++){var D=this.i(R)>>>16,I=this.i(R)&65535,ft=S.i(P)>>>16,wt=S.i(P)&65535;A[2*R+2*P]+=I*wt,F(A,2*R+2*P),A[2*R+2*P+1]+=D*wt,F(A,2*R+2*P+1),A[2*R+2*P+1]+=I*ft,F(A,2*R+2*P+1),A[2*R+2*P+2]+=D*ft,F(A,2*R+2*P+2)}for(R=0;R<T;R++)A[R]=A[2*R+1]<<16|A[2*R];for(R=T;R<2*T;R++)A[R]=0;return new o(A,0)};function F(S,T){for(;(S[T]&65535)!=S[T];)S[T+1]+=S[T]>>>16,S[T]&=65535,T++}function K(S,T){this.g=S,this.h=T}function H(S,T){if(k(T))throw Error("division by zero");if(k(S))return new K(g,g);if(L(S))return T=H(M(S),T),new K(M(T.g),M(T.h));if(L(T))return T=H(S,M(T)),new K(M(T.g),T.h);if(30<S.g.length){if(L(S)||L(T))throw Error("slowDivide_ only works with positive integers.");for(var A=v,R=T;0>=R.l(S);)A=ce(A),R=ce(R);var P=he(A,1),D=he(R,1);for(R=he(R,2),A=he(A,2);!k(R);){var I=D.add(R);0>=I.l(S)&&(P=P.add(A),D=I),R=he(R,1),A=he(A,1)}return T=U(S,P.j(T)),new K(P,T)}for(P=g;0<=S.l(T);){for(A=Math.max(1,Math.floor(S.m()/T.m())),R=Math.ceil(Math.log(A)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),D=h(A),I=D.j(T);L(I)||0<I.l(S);)A-=R,D=h(A),I=D.j(T);k(D)&&(D=v),P=P.add(D),S=U(S,I)}return new K(P,S)}n.A=function(S){return H(this,S).h},n.and=function(S){for(var T=Math.max(this.g.length,S.g.length),A=[],R=0;R<T;R++)A[R]=this.i(R)&S.i(R);return new o(A,this.h&S.h)},n.or=function(S){for(var T=Math.max(this.g.length,S.g.length),A=[],R=0;R<T;R++)A[R]=this.i(R)|S.i(R);return new o(A,this.h|S.h)},n.xor=function(S){for(var T=Math.max(this.g.length,S.g.length),A=[],R=0;R<T;R++)A[R]=this.i(R)^S.i(R);return new o(A,this.h^S.h)};function ce(S){for(var T=S.g.length+1,A=[],R=0;R<T;R++)A[R]=S.i(R)<<1|S.i(R-1)>>>31;return new o(A,S.h)}function he(S,T){var A=T>>5;T%=32;for(var R=S.g.length-A,P=[],D=0;D<R;D++)P[D]=0<T?S.i(D+A)>>>T|S.i(D+A+1)<<32-T:S.i(D+A);return new o(P,S.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,eb=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=d,Gi=o}).apply(typeof b_<"u"?b_:typeof self<"u"?self:typeof window<"u"?window:{});var Gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tb,ul,nb,pu,Af,sb,ib,rb;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,f,m){return a==Array.prototype||a==Object.prototype||(a[f]=m.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gc=="object"&&Gc];for(var f=0;f<a.length;++f){var m=a[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var s=t(this);function i(a,f){if(f)e:{var m=s;a=a.split(".");for(var E=0;E<a.length-1;E++){var V=a[E];if(!(V in m))break e;m=m[V]}a=a[a.length-1],E=m[a],f=f(E),f!=E&&f!=null&&e(m,a,{configurable:!0,writable:!0,value:f})}}function r(a,f){a instanceof String&&(a+="");var m=0,E=!1,V={next:function(){if(!E&&m<a.length){var j=m++;return{value:f(j,a[j]),done:!1}}return E=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(a){return a||function(){return r(this,function(f,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(a){var f=typeof a;return f=f!="object"?f:a?Array.isArray(a)?"array":f:"null",f=="array"||f=="object"&&typeof a.length=="number"}function h(a){var f=typeof a;return f=="object"&&a!=null||f=="function"}function d(a,f,m){return a.call.apply(a.bind,arguments)}function g(a,f,m){if(!a)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,E),a.apply(f,V)}}return function(){return a.apply(f,arguments)}}function v(a,f,m){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:g,v.apply(null,arguments)}function b(a,f){var m=Array.prototype.slice.call(arguments,1);return function(){var E=m.slice();return E.push.apply(E,arguments),a.apply(this,E)}}function k(a,f){function m(){}m.prototype=f.prototype,a.aa=f.prototype,a.prototype=new m,a.prototype.constructor=a,a.Qb=function(E,V,j){for(var re=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)re[ot-2]=arguments[ot];return f.prototype[V].apply(E,re)}}function L(a){const f=a.length;if(0<f){const m=Array(f);for(let E=0;E<f;E++)m[E]=a[E];return m}return[]}function M(a,f){for(let m=1;m<arguments.length;m++){const E=arguments[m];if(u(E)){const V=a.length||0,j=E.length||0;a.length=V+j;for(let re=0;re<j;re++)a[V+re]=E[re]}else a.push(E)}}class U{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function F(a){return/^[\s\xa0]*$/.test(a)}function K(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function H(a){return H[" "](a),a}H[" "]=function(){};var ce=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function he(a,f,m){for(const E in a)f.call(m,a[E],E,a)}function S(a,f){for(const m in a)f.call(void 0,a[m],m,a)}function T(a){const f={};for(const m in a)f[m]=a[m];return f}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(a,f){let m,E;for(let V=1;V<arguments.length;V++){E=arguments[V];for(m in E)a[m]=E[m];for(let j=0;j<A.length;j++)m=A[j],Object.prototype.hasOwnProperty.call(E,m)&&(a[m]=E[m])}}function P(a){var f=1;a=a.split(":");const m=[];for(;0<f&&a.length;)m.push(a.shift()),f--;return a.length&&m.push(a.join(":")),m}function D(a){l.setTimeout(()=>{throw a},0)}function I(){var a=bt;let f=null;return a.g&&(f=a.g,a.g=a.g.next,a.g||(a.h=null),f.next=null),f}class ft{constructor(){this.h=this.g=null}add(f,m){const E=wt.get();E.set(f,m),this.h?this.h.next=E:this.g=E,this.h=E}}var wt=new U(()=>new Be,a=>a.reset());class Be{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let we,xe=!1,bt=new ft,Y=()=>{const a=l.Promise.resolve(void 0);we=()=>{a.then(kt)}};var kt=()=>{for(var a;a=I();){try{a.h.call(a.g)}catch(m){D(m)}var f=wt;f.j(a),100>f.h&&(f.h++,a.next=f.g,f.g=a)}xe=!1};function Qe(){this.s=this.s,this.C=this.C}Qe.prototype.s=!1,Qe.prototype.ma=function(){this.s||(this.s=!0,this.N())},Qe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Xe(a,f){this.type=a,this.g=this.target=f,this.defaultPrevented=!1}Xe.prototype.h=function(){this.defaultPrevented=!0};var vt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,f=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const m=()=>{};l.addEventListener("test",m,f),l.removeEventListener("test",m,f)}catch{}return a}();function yt(a,f){if(Xe.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var m=this.type=a.type,E=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=f,f=a.relatedTarget){if(ce){e:{try{H(f.nodeName);var V=!0;break e}catch{}V=!1}V||(f=null)}}else m=="mouseover"?f=a.fromElement:m=="mouseout"&&(f=a.toElement);this.relatedTarget=f,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Je[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&yt.aa.h.call(this)}}k(yt,Xe);var Je={2:"touch",3:"pen",4:"mouse"};yt.prototype.h=function(){yt.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var W="closure_listenable_"+(1e6*Math.random()|0),q=0;function ie(a,f,m,E,V){this.listener=a,this.proxy=null,this.src=f,this.type=m,this.capture=!!E,this.ha=V,this.key=++q,this.da=this.fa=!1}function fe(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Ue(a){this.src=a,this.g={},this.h=0}Ue.prototype.add=function(a,f,m,E,V){var j=a.toString();a=this.g[j],a||(a=this.g[j]=[],this.h++);var re=C(a,f,E,V);return-1<re?(f=a[re],m||(f.fa=!1)):(f=new ie(f,this.src,j,!!E,V),f.fa=m,a.push(f)),f};function w(a,f){var m=f.type;if(m in a.g){var E=a.g[m],V=Array.prototype.indexOf.call(E,f,void 0),j;(j=0<=V)&&Array.prototype.splice.call(E,V,1),j&&(fe(f),a.g[m].length==0&&(delete a.g[m],a.h--))}}function C(a,f,m,E){for(var V=0;V<a.length;++V){var j=a[V];if(!j.da&&j.listener==f&&j.capture==!!m&&j.ha==E)return V}return-1}var x="closure_lm_"+(1e6*Math.random()|0),z={};function G(a,f,m,E,V){if(Array.isArray(f)){for(var j=0;j<f.length;j++)G(a,f[j],m,E,V);return null}return m=ve(m),a&&a[W]?a.K(f,m,h(E)?!!E.capture:!1,V):Q(a,f,m,!1,E,V)}function Q(a,f,m,E,V,j){if(!f)throw Error("Invalid event type");var re=h(V)?!!V.capture:!!V,ot=le(a);if(ot||(a[x]=ot=new Ue(a)),m=ot.add(f,m,E,re,j),m.proxy)return m;if(E=ae(),m.proxy=E,E.src=a,E.listener=m,a.addEventListener)vt||(V=re),V===void 0&&(V=!1),a.addEventListener(f.toString(),E,V);else if(a.attachEvent)a.attachEvent(ee(f.toString()),E);else if(a.addListener&&a.removeListener)a.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return m}function ae(){function a(m){return f.call(a.src,a.listener,m)}const f=Ee;return a}function se(a,f,m,E,V){if(Array.isArray(f))for(var j=0;j<f.length;j++)se(a,f[j],m,E,V);else E=h(E)?!!E.capture:!!E,m=ve(m),a&&a[W]?(a=a.i,f=String(f).toString(),f in a.g&&(j=a.g[f],m=C(j,m,E,V),-1<m&&(fe(j[m]),Array.prototype.splice.call(j,m,1),j.length==0&&(delete a.g[f],a.h--)))):a&&(a=le(a))&&(f=a.g[f.toString()],a=-1,f&&(a=C(f,m,E,V)),(m=-1<a?f[a]:null)&&ne(m))}function ne(a){if(typeof a!="number"&&a&&!a.da){var f=a.src;if(f&&f[W])w(f.i,a);else{var m=a.type,E=a.proxy;f.removeEventListener?f.removeEventListener(m,E,a.capture):f.detachEvent?f.detachEvent(ee(m),E):f.addListener&&f.removeListener&&f.removeListener(E),(m=le(f))?(w(m,a),m.h==0&&(m.src=null,f[x]=null)):fe(a)}}}function ee(a){return a in z?z[a]:z[a]="on"+a}function Ee(a,f){if(a.da)a=!0;else{f=new yt(f,this);var m=a.listener,E=a.ha||a.src;a.fa&&ne(a),a=m.call(E,f)}return a}function le(a){return a=a[x],a instanceof Ue?a:null}var me="__closure_events_fn_"+(1e9*Math.random()>>>0);function ve(a){return typeof a=="function"?a:(a[me]||(a[me]=function(f){return a.handleEvent(f)}),a[me])}function ye(){Qe.call(this),this.i=new Ue(this),this.M=this,this.F=null}k(ye,Qe),ye.prototype[W]=!0,ye.prototype.removeEventListener=function(a,f,m,E){se(this,a,f,m,E)};function Re(a,f){var m,E=a.F;if(E)for(m=[];E;E=E.F)m.push(E);if(a=a.M,E=f.type||f,typeof f=="string")f=new Xe(f,a);else if(f instanceof Xe)f.target=f.target||a;else{var V=f;f=new Xe(E,a),R(f,V)}if(V=!0,m)for(var j=m.length-1;0<=j;j--){var re=f.g=m[j];V=$e(re,E,!0,f)&&V}if(re=f.g=a,V=$e(re,E,!0,f)&&V,V=$e(re,E,!1,f)&&V,m)for(j=0;j<m.length;j++)re=f.g=m[j],V=$e(re,E,!1,f)&&V}ye.prototype.N=function(){if(ye.aa.N.call(this),this.i){var a=this.i,f;for(f in a.g){for(var m=a.g[f],E=0;E<m.length;E++)fe(m[E]);delete a.g[f],a.h--}}this.F=null},ye.prototype.K=function(a,f,m,E){return this.i.add(String(a),f,!1,m,E)},ye.prototype.L=function(a,f,m,E){return this.i.add(String(a),f,!0,m,E)};function $e(a,f,m,E){if(f=a.i.g[String(f)],!f)return!0;f=f.concat();for(var V=!0,j=0;j<f.length;++j){var re=f[j];if(re&&!re.da&&re.capture==m){var ot=re.listener,jt=re.ha||re.src;re.fa&&w(a.i,re),V=ot.call(jt,E)!==!1&&V}}return V&&!E.defaultPrevented}function It(a,f,m){if(typeof a=="function")m&&(a=v(a,m));else if(a&&typeof a.handleEvent=="function")a=v(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:l.setTimeout(a,f||0)}function Tt(a){a.g=It(()=>{a.g=null,a.i&&(a.i=!1,Tt(a))},a.l);const f=a.h;a.h=null,a.m.apply(null,f)}class $t extends Qe{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Tt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rt(a){Qe.call(this),this.h=a,this.g={}}k(Rt,Qe);var _s=[];function js(a){he(a.g,function(f,m){this.g.hasOwnProperty(m)&&ne(f)},a),a.g={}}Rt.prototype.N=function(){Rt.aa.N.call(this),js(this)},Rt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ft=l.JSON.stringify,In=l.JSON.parse,oo=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Pa(){}Pa.prototype.h=null;function gc(a){return a.h||(a.h=a.i())}function _c(){}var Ei={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bi(){Xe.call(this,"d")}k(bi,Xe);function ao(){Xe.call(this,"c")}k(ao,Xe);var vs={},vc=null;function lo(){return vc=vc||new ye}vs.La="serverreachability";function yc(a){Xe.call(this,vs.La,a)}k(yc,Xe);function dr(a){const f=lo();Re(f,new yc(f))}vs.STAT_EVENT="statevent";function Bs(a,f){Xe.call(this,vs.STAT_EVENT,a),this.stat=f}k(Bs,Xe);function Pt(a){const f=lo();Re(f,new Bs(f,a))}vs.Ma="timingevent";function Ec(a,f){Xe.call(this,vs.Ma,a),this.size=f}k(Ec,Xe);function fr(a,f){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},f)}function pr(){this.g=!0}pr.prototype.xa=function(){this.g=!1};function td(a,f,m,E,V,j){a.info(function(){if(a.g)if(j)for(var re="",ot=j.split("&"),jt=0;jt<ot.length;jt++){var Ke=ot[jt].split("=");if(1<Ke.length){var Wt=Ke[0];Ke=Ke[1];var zt=Wt.split("_");re=2<=zt.length&&zt[1]=="type"?re+(Wt+"="+Ke+"&"):re+(Wt+"=redacted&")}}else re=null;else re=j;return"XMLHTTP REQ ("+E+") [attempt "+V+"]: "+f+`
`+m+`
`+re})}function nd(a,f,m,E,V,j,re){a.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+V+"]: "+f+`
`+m+`
`+j+" "+re})}function ys(a,f,m,E){a.info(function(){return"XMLHTTP TEXT ("+f+"): "+co(a,m)+(E?" "+E:"")})}function Ti(a,f){a.info(function(){return"TIMEOUT: "+f})}pr.prototype.info=function(){};function co(a,f){if(!a.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(a=0;a<m.length;a++)if(Array.isArray(m[a])){var E=m[a];if(!(2>E.length)){var V=E[1];if(Array.isArray(V)&&!(1>V.length)){var j=V[0];if(j!="noop"&&j!="stop"&&j!="close")for(var re=1;re<V.length;re++)V[re]=""}}}}return Ft(m)}catch{return f}}var uo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ho={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Oa;function fo(){}k(fo,Pa),fo.prototype.g=function(){return new XMLHttpRequest},fo.prototype.i=function(){return{}},Oa=new fo;function fn(a,f,m,E){this.j=a,this.i=f,this.l=m,this.R=E||1,this.U=new Rt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qt}function qt(){this.i=null,this.g="",this.h=!1}var en={},Qt={};function Ut(a,f,m){a.L=1,a.v=Ws(Ct(f)),a.m=m,a.P=!0,mr(a,null)}function mr(a,f){a.F=Date.now(),rs(a),a.A=Ct(a.v);var m=a.A,E=a.R;Array.isArray(E)||(E=[String(E)]),go(m.i,"t",E),a.C=0,m=a.j.J,a.h=new qt,a.g=xc(a.j,m?f:null,!a.m),0<a.O&&(a.M=new $t(v(a.Y,a,a.g),a.O)),f=a.U,m=a.g,E=a.ca;var V="readystatechange";Array.isArray(V)||(V&&(_s[0]=V.toString()),V=_s);for(var j=0;j<V.length;j++){var re=G(m,V[j],E||f.handleEvent,!1,f.h||f);if(!re)break;f.g[re.key]=re}f=a.H?T(a.H):{},a.m?(a.u||(a.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,f)):(a.u="GET",a.g.ea(a.A,a.u,null,f)),dr(),td(a.i,a.u,a.A,a.l,a.R,a.m)}fn.prototype.ca=function(a){a=a.target;const f=this.M;f&&tn(a)==3?f.j():this.Y(a)},fn.prototype.Y=function(a){try{if(a==this.g)e:{const zt=tn(this.g);var f=this.g.Ba();const Kt=this.g.Z();if(!(3>zt)&&(zt!=3||this.g&&(this.h.h||this.g.oa()||Oc(this.g)))){this.J||zt!=4||f==7||(f==8||0>=Kt?dr(3):dr(2)),gr(this);var m=this.g.Z();this.X=m;t:if(Hs(this)){var E=Oc(this.g);a="";var V=E.length,j=tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Es(this),qn(this);var re="";break t}this.h.i=new l.TextDecoder}for(f=0;f<V;f++)this.h.h=!0,a+=this.h.i.decode(E[f],{stream:!(j&&f==V-1)});E.length=0,this.h.g+=a,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=m==200,nd(this.i,this.u,this.A,this.l,this.R,zt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var ot,jt=this.g;if((ot=jt.g?jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(ot)){var Ke=ot;break t}}Ke=null}if(m=Ke)ys(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_r(this,m);else{this.o=!1,this.s=3,Pt(12),Es(this),qn(this);break e}}if(this.P){m=!0;let Sn;for(;!this.J&&this.C<re.length;)if(Sn=qs(this,re),Sn==Qt){zt==4&&(this.s=4,Pt(14),m=!1),ys(this.i,this.l,null,"[Incomplete Response]");break}else if(Sn==en){this.s=4,Pt(15),ys(this.i,this.l,re,"[Invalid Chunk]"),m=!1;break}else ys(this.i,this.l,Sn,null),_r(this,Sn);if(Hs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||re.length!=0||this.h.h||(this.s=1,Pt(16),m=!1),this.o=this.o&&m,!m)ys(this.i,this.l,re,"[Invalid Chunked Response]"),Es(this),qn(this);else if(0<re.length&&!this.W){this.W=!0;var Wt=this.j;Wt.g==this&&Wt.ba&&!Wt.M&&(Wt.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),Ga(Wt),Wt.M=!0,Pt(11))}}else ys(this.i,this.l,re,null),_r(this,re);zt==4&&Es(this),this.o&&!this.J&&(zt==4?Ya(this.j,this):(this.o=!1,rs(this)))}else Dc(this.g),m==400&&0<re.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),Es(this),qn(this)}}}catch{}finally{}};function Hs(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function qs(a,f){var m=a.C,E=f.indexOf(`
`,m);return E==-1?Qt:(m=Number(f.substring(m,E)),isNaN(m)?en:(E+=1,E+m>f.length?Qt:(f=f.slice(E,E+m),a.C=E+m,f)))}fn.prototype.cancel=function(){this.J=!0,Es(this)};function rs(a){a.S=Date.now()+a.I,Da(a,a.I)}function Da(a,f){if(a.B!=null)throw Error("WatchDog timer not null");a.B=fr(v(a.ba,a),f)}function gr(a){a.B&&(l.clearTimeout(a.B),a.B=null)}fn.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(Ti(this.i,this.A),this.L!=2&&(dr(),Pt(17)),Es(this),this.s=2,qn(this)):Da(this,this.S-a)};function qn(a){a.j.G==0||a.J||Ya(a.j,a)}function Es(a){gr(a);var f=a.M;f&&typeof f.ma=="function"&&f.ma(),a.M=null,js(a.U),a.g&&(f=a.g,a.g=null,f.abort(),f.ma())}function _r(a,f){try{var m=a.j;if(m.G!=0&&(m.g==a||po(m.h,a))){if(!a.K&&po(m.h,a)&&m.G==3){try{var E=m.Da.g.parse(f)}catch{E=null}if(Array.isArray(E)&&E.length==3){var V=E;if(V[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<a.F)wr(m),Er(m);else break e;Ka(m),Pt(18)}}else m.za=V[1],0<m.za-m.T&&37500>V[2]&&m.F&&m.v==0&&!m.C&&(m.C=fr(v(m.Za,m),6e3));if(1>=La(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else as(m,11)}else if((a.K||m.g==a)&&wr(m),!F(f))for(V=m.Da.g.parse(f),f=0;f<V.length;f++){let Ke=V[f];if(m.T=Ke[0],Ke=Ke[1],m.G==2)if(Ke[0]=="c"){m.K=Ke[1],m.ia=Ke[2];const Wt=Ke[3];Wt!=null&&(m.la=Wt,m.j.info("VER="+m.la));const zt=Ke[4];zt!=null&&(m.Aa=zt,m.j.info("SVER="+m.Aa));const Kt=Ke[5];Kt!=null&&typeof Kt=="number"&&0<Kt&&(E=1.5*Kt,m.L=E,m.j.info("backChannelRequestTimeoutMs_="+E)),E=m;const Sn=a.g;if(Sn){const Ar=Sn.g?Sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ar){var j=E.h;j.g||Ar.indexOf("spdy")==-1&&Ar.indexOf("quic")==-1&&Ar.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(mo(j,j.h),j.h=null))}if(E.D){const Ao=Sn.g?Sn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ao&&(E.ya=Ao,Ye(E.I,E.D,Ao))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-a.F,m.j.info("Handshake RTT: "+m.R+"ms")),E=m;var re=a;if(E.qa=Qa(E,E.J?E.ia:null,E.W),re.K){Va(E.h,re);var ot=re,jt=E.L;jt&&(ot.I=jt),ot.B&&(gr(ot),rs(ot)),E.g=re}else Tr(E);0<m.i.length&&br(m)}else Ke[0]!="stop"&&Ke[0]!="close"||as(m,7);else m.G==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?as(m,7):Eo(m):Ke[0]!="noop"&&m.l&&m.l.ta(Ke),m.v=0)}}dr(4)}catch{}}var Na=class{constructor(a,f){this.g=a,this.map=f}};function ka(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xa(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function La(a){return a.h?1:a.g?a.g.size:0}function po(a,f){return a.h?a.h==f:a.g?a.g.has(f):!1}function mo(a,f){a.g?a.g.add(f):a.h=f}function Va(a,f){a.h&&a.h==f?a.h=null:a.g&&a.g.has(f)&&a.g.delete(f)}ka.prototype.cancel=function(){if(this.i=Ma(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Ma(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let f=a.i;for(const m of a.g.values())f=f.concat(m.D);return f}return L(a.i)}function bc(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var f=[],m=a.length,E=0;E<m;E++)f.push(a[E]);return f}f=[],m=0;for(E in a)f[m++]=a[E];return f}function Tc(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var f=[];a=a.length;for(var m=0;m<a;m++)f.push(m);return f}f=[],m=0;for(const E in a)f[m++]=E;return f}}}function $a(a,f){if(a.forEach&&typeof a.forEach=="function")a.forEach(f,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,f,void 0);else for(var m=Tc(a),E=bc(a),V=E.length,j=0;j<V;j++)f.call(void 0,E[j],m&&m[j],a)}var On=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pn(a,f){if(a){a=a.split("&");for(var m=0;m<a.length;m++){var E=a[m].indexOf("="),V=null;if(0<=E){var j=a[m].substring(0,E);V=a[m].substring(E+1)}else j=a[m];f(j,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function mn(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof mn){this.h=a.h,wi(this,a.j),this.o=a.o,this.g=a.g,Ai(this,a.s),this.l=a.l;var f=a.i,m=new Cn;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),Dn(this,m),this.m=a.m}else a&&(f=String(a).match(On))?(this.h=!1,wi(this,f[1]||"",!0),this.o=Wn(f[2]||""),this.g=Wn(f[3]||"",!0),Ai(this,f[4]),this.l=Wn(f[5]||"",!0),Dn(this,f[6]||"",!0),this.m=Wn(f[7]||"")):(this.h=!1,this.i=new Cn(null,this.h))}mn.prototype.toString=function(){var a=[],f=this.j;f&&a.push(zs(f,Ks,!0),":");var m=this.g;return(m||f=="file")&&(a.push("//"),(f=this.o)&&a.push(zs(f,Ks,!0),"@"),a.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&a.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&a.push("/"),a.push(zs(m,m.charAt(0)=="/"?Ac:Fa,!0))),(m=this.i.toString())&&a.push("?",m),(m=this.m)&&a.push("#",zs(m,sd)),a.join("")};function Ct(a){return new mn(a)}function wi(a,f,m){a.j=m?Wn(f,!0):f,a.j&&(a.j=a.j.replace(/:$/,""))}function Ai(a,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);a.s=f}else a.s=null}function Dn(a,f,m){f instanceof Cn?(a.i=f,Ic(a.i,a.h)):(m||(f=zs(f,os)),a.i=new Cn(f,a.h))}function Ye(a,f,m){a.i.set(f,m)}function Ws(a){return Ye(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Wn(a,f){return a?f?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function zs(a,f,m){return typeof a=="string"?(a=encodeURI(a).replace(f,wc),m&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function wc(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Ks=/[#\/\?@]/g,Fa=/[#\?:]/g,Ac=/[#\?]/g,os=/[#\?@]/g,sd=/#/g;function Cn(a,f){this.h=this.g=null,this.i=a||null,this.j=!!f}function Nn(a){a.g||(a.g=new Map,a.h=0,a.i&&pn(a.i,function(f,m){a.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}n=Cn.prototype,n.add=function(a,f){Nn(this),this.i=null,a=zn(this,a);var m=this.g.get(a);return m||this.g.set(a,m=[]),m.push(f),this.h+=1,this};function Ua(a,f){Nn(a),f=zn(a,f),a.g.has(f)&&(a.i=null,a.h-=a.g.get(f).length,a.g.delete(f))}function Ii(a,f){return Nn(a),f=zn(a,f),a.g.has(f)}n.forEach=function(a,f){Nn(this),this.g.forEach(function(m,E){m.forEach(function(V){a.call(f,V,E,this)},this)},this)},n.na=function(){Nn(this);const a=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let E=0;E<f.length;E++){const V=a[E];for(let j=0;j<V.length;j++)m.push(f[E])}return m},n.V=function(a){Nn(this);let f=[];if(typeof a=="string")Ii(this,a)&&(f=f.concat(this.g.get(zn(this,a))));else{a=Array.from(this.g.values());for(let m=0;m<a.length;m++)f=f.concat(a[m])}return f},n.set=function(a,f){return Nn(this),this.i=null,a=zn(this,a),Ii(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[f]),this.h+=1,this},n.get=function(a,f){return a?(a=this.V(a),0<a.length?String(a[0]):f):f};function go(a,f,m){Ua(a,f),0<m.length&&(a.i=null,a.g.set(zn(a,f),L(m)),a.h+=m.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var E=f[m];const j=encodeURIComponent(String(E)),re=this.V(E);for(E=0;E<re.length;E++){var V=j;re[E]!==""&&(V+="="+encodeURIComponent(String(re[E]))),a.push(V)}}return this.i=a.join("&")};function zn(a,f){return f=String(f),a.j&&(f=f.toLowerCase()),f}function Ic(a,f){f&&!a.j&&(Nn(a),a.i=null,a.g.forEach(function(m,E){var V=E.toLowerCase();E!=V&&(Ua(this,E),go(this,V,m))},a)),a.j=f}function Cc(a,f){const m=new pr;if(l.Image){const E=new Image;E.onload=b(gn,m,"TestLoadImage: loaded",!0,f,E),E.onerror=b(gn,m,"TestLoadImage: error",!1,f,E),E.onabort=b(gn,m,"TestLoadImage: abort",!1,f,E),E.ontimeout=b(gn,m,"TestLoadImage: timeout",!1,f,E),l.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=a}else f(!1)}function Sc(a,f){const m=new pr,E=new AbortController,V=setTimeout(()=>{E.abort(),gn(m,"TestPingServer: timeout",!1,f)},1e4);fetch(a,{signal:E.signal}).then(j=>{clearTimeout(V),j.ok?gn(m,"TestPingServer: ok",!0,f):gn(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(V),gn(m,"TestPingServer: error",!1,f)})}function gn(a,f,m,E,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),E(m)}catch{}}function id(){this.g=new oo}function Rc(a,f,m){const E=m||"";try{$a(a,function(V,j){let re=V;h(V)&&(re=Ft(V)),f.push(E+j+"="+encodeURIComponent(re))})}catch(V){throw f.push(E+"type="+encodeURIComponent("_badmap")),V}}function Ci(a){this.l=a.Ub||null,this.j=a.eb||!1}k(Ci,Pa),Ci.prototype.g=function(){return new Gs(this.l,this.j)},Ci.prototype.i=function(a){return function(){return a}}({});function Gs(a,f){ye.call(this),this.D=a,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Gs,ye),n=Gs.prototype,n.open=function(a,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=f,this.readyState=1,bs(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(f.body=a),(this.D||l).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vr(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,bs(this)),this.g&&(this.readyState=3,bs(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_o(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function _o(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var f=a.value?a.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!a.done}))&&(this.response=this.responseText+=f)}a.done?vr(this):bs(this),this.readyState==3&&_o(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,vr(this))},n.Qa=function(a){this.g&&(this.response=a,vr(this))},n.ga=function(){this.g&&vr(this)};function vr(a){a.readyState=4,a.l=null,a.j=null,a.v=null,bs(a)}n.setRequestHeader=function(a,f){this.u.append(a,f)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,a.push(m[0]+": "+m[1]),m=f.next();return a.join(`\r
`)};function bs(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Gs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Pc(a){let f="";return he(a,function(m,E){f+=E,f+=":",f+=m,f+=`\r
`}),f}function vo(a,f,m){e:{for(E in m){var E=!1;break e}E=!0}E||(m=Pc(m),typeof a=="string"?m!=null&&encodeURIComponent(String(m)):Ye(a,f,m))}function pt(a){ye.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(pt,ye);var ja=/^https?$/i,Ba=["POST","PUT"];n=pt.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,f,m,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);f=f?f.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Oa.g(),this.v=this.o?gc(this.o):gc(Oa),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(f,String(a),!0),this.B=!1}catch(j){Ha(this,j);return}if(a=m||"",m=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var V in E)m.set(V,E[V]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const j of E.keys())m.set(j,E.get(j));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(m.keys()).find(j=>j.toLowerCase()=="content-type"),V=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Ba,f,void 0))||E||V||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,re]of m)this.g.setRequestHeader(j,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qa(this),this.u=!0,this.g.send(a),this.u=!1}catch(j){Ha(this,j)}};function Ha(a,f){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=f,a.m=5,Si(a),yr(a)}function Si(a){a.A||(a.A=!0,Re(a,"complete"),Re(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Re(this,"complete"),Re(this,"abort"),yr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yr(this,!0)),pt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?yo(this):this.bb())},n.bb=function(){yo(this)};function yo(a){if(a.h&&typeof o<"u"&&(!a.v[1]||tn(a)!=4||a.Z()!=2)){if(a.u&&tn(a)==4)It(a.Ea,0,a);else if(Re(a,"readystatechange"),tn(a)==4){a.h=!1;try{const re=a.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var E;if(E=re===0){var V=String(a.D).match(On)[1]||null;!V&&l.self&&l.self.location&&(V=l.self.location.protocol.slice(0,-1)),E=!ja.test(V?V.toLowerCase():"")}m=E}if(m)Re(a,"complete"),Re(a,"success");else{a.m=6;try{var j=2<tn(a)?a.g.statusText:""}catch{j=""}a.l=j+" ["+a.Z()+"]",Si(a)}}finally{yr(a)}}}}function yr(a,f){if(a.g){qa(a);const m=a.g,E=a.v[0]?()=>{}:null;a.g=null,a.v=null,f||Re(a,"ready");try{m.onreadystatechange=E}catch{}}}function qa(a){a.I&&(l.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function tn(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<tn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var f=this.g.responseText;return a&&f.indexOf(a)==0&&(f=f.substring(a.length)),In(f)}};function Oc(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Dc(a){const f={};a=(a.g&&2<=tn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<a.length;E++){if(F(a[E]))continue;var m=P(a[E]);const V=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const j=f[V]||[];f[V]=j,j.push(m)}S(f,function(E){return E.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ri(a,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[a]||f}function Wa(a){this.Aa=0,this.i=[],this.j=new pr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ri("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ri("baseRetryDelayMs",5e3,a),this.cb=Ri("retryDelaySeedMs",1e4,a),this.Wa=Ri("forwardChannelMaxRetries",2,a),this.wa=Ri("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new ka(a&&a.concurrentRequestLimit),this.Da=new id,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Wa.prototype,n.la=8,n.G=1,n.connect=function(a,f,m,E){Pt(0),this.W=a,this.H=f||{},m&&E!==void 0&&(this.H.OSID=m,this.H.OAID=E),this.F=this.X,this.I=Qa(this,null,this.W),br(this)};function Eo(a){if(bo(a),a.G==3){var f=a.U++,m=Ct(a.I);if(Ye(m,"SID",a.K),Ye(m,"RID",f),Ye(m,"TYPE","terminate"),Pi(a,m),f=new fn(a,a.j,f),f.L=2,f.v=Ws(Ct(m)),m=!1,l.navigator&&l.navigator.sendBeacon)try{m=l.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&l.Image&&(new Image().src=f.v,m=!0),m||(f.g=xc(f.j,null),f.g.ea(f.v)),f.F=Date.now(),rs(f)}kc(a)}function Er(a){a.g&&(Ga(a),a.g.cancel(),a.g=null)}function bo(a){Er(a),a.u&&(l.clearTimeout(a.u),a.u=null),wr(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function br(a){if(!xa(a.h)&&!a.s){a.s=!0;var f=a.Ga;we||Y(),xe||(we(),xe=!0),bt.add(f,a),a.B=0}}function rd(a,f){return La(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=f.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=fr(v(a.Ga,a,f),Ts(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const V=new fn(this,this.j,a);let j=this.o;if(this.S&&(j?(j=T(j),R(j,this.S)):j=this.S),this.m!==null||this.O||(V.H=j,j=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var E=this.i[m];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(f+=E,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=za(this,V,f),m=Ct(this.I),Ye(m,"RID",a),Ye(m,"CVER",22),this.D&&Ye(m,"X-HTTP-Session-Id",this.D),Pi(this,m),j&&(this.O?f="headers="+encodeURIComponent(String(Pc(j)))+"&"+f:this.m&&vo(m,this.m,j)),mo(this.h,V),this.Ua&&Ye(m,"TYPE","init"),this.P?(Ye(m,"$req",f),Ye(m,"SID","null"),V.T=!0,Ut(V,m,null)):Ut(V,m,f),this.G=2}}else this.G==3&&(a?Nc(this,a):this.i.length==0||xa(this.h)||Nc(this))};function Nc(a,f){var m;f?m=f.l:m=a.U++;const E=Ct(a.I);Ye(E,"SID",a.K),Ye(E,"RID",m),Ye(E,"AID",a.T),Pi(a,E),a.m&&a.o&&vo(E,a.m,a.o),m=new fn(a,a.j,m,a.B+1),a.m===null&&(m.H=a.o),f&&(a.i=f.D.concat(a.i)),f=za(a,m,1e3),m.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),mo(a.h,m),Ut(m,E,f)}function Pi(a,f){a.H&&he(a.H,function(m,E){Ye(f,E,m)}),a.l&&$a({},function(m,E){Ye(f,E,m)})}function za(a,f,m){m=Math.min(a.i.length,m);var E=a.l?v(a.l.Na,a.l,a):null;e:{var V=a.i;let j=-1;for(;;){const re=["count="+m];j==-1?0<m?(j=V[0].g,re.push("ofs="+j)):j=0:re.push("ofs="+j);let ot=!0;for(let jt=0;jt<m;jt++){let Ke=V[jt].g;const Wt=V[jt].map;if(Ke-=j,0>Ke)j=Math.max(0,V[jt].g-100),ot=!1;else try{Rc(Wt,re,"req"+Ke+"_")}catch{E&&E(Wt)}}if(ot){E=re.join("&");break e}}}return a=a.i.splice(0,m),f.D=a,E}function Tr(a){if(!a.g&&!a.u){a.Y=1;var f=a.Fa;we||Y(),xe||(we(),xe=!0),bt.add(f,a),a.v=0}}function Ka(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=fr(v(a.Fa,a),Ts(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,To(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=fr(v(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pt(10),Er(this),To(this))};function Ga(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function To(a){a.g=new fn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var f=Ct(a.qa);Ye(f,"RID","rpc"),Ye(f,"SID",a.K),Ye(f,"AID",a.T),Ye(f,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ye(f,"TO",a.ja),Ye(f,"TYPE","xmlhttp"),Pi(a,f),a.m&&a.o&&vo(f,a.m,a.o),a.L&&(a.g.I=a.L);var m=a.g;a=a.ia,m.L=1,m.v=Ws(Ct(f)),m.m=null,m.P=!0,mr(m,a)}n.Za=function(){this.C!=null&&(this.C=null,Er(this),Ka(this),Pt(19))};function wr(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Ya(a,f){var m=null;if(a.g==f){wr(a),Ga(a),a.g=null;var E=2}else if(po(a.h,f))m=f.D,Va(a.h,f),E=1;else return;if(a.G!=0){if(f.o)if(E==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var V=a.B;E=lo(),Re(E,new Ec(E,m)),br(a)}else Tr(a);else if(V=f.s,V==3||V==0&&0<f.X||!(E==1&&rd(a,f)||E==2&&Ka(a)))switch(m&&0<m.length&&(f=a.h,f.i=f.i.concat(m)),V){case 1:as(a,5);break;case 4:as(a,10);break;case 3:as(a,6);break;default:as(a,2)}}}function Ts(a,f){let m=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(m*=2),m*f}function as(a,f){if(a.j.info("Error code "+f),f==2){var m=v(a.fb,a),E=a.Xa;const V=!E;E=new mn(E||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||wi(E,"https"),Ws(E),V?Cc(E.toString(),m):Sc(E.toString(),m)}else Pt(2);a.G=0,a.l&&a.l.sa(f),kc(a),bo(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function kc(a){if(a.G=0,a.ka=[],a.l){const f=Ma(a.h);(f.length!=0||a.i.length!=0)&&(M(a.ka,f),M(a.ka,a.i),a.h.i.length=0,L(a.i),a.i.length=0),a.l.ra()}}function Qa(a,f,m){var E=m instanceof mn?Ct(m):new mn(m);if(E.g!="")f&&(E.g=f+"."+E.g),Ai(E,E.s);else{var V=l.location;E=V.protocol,f=f?f+"."+V.hostname:V.hostname,V=+V.port;var j=new mn(null);E&&wi(j,E),f&&(j.g=f),V&&Ai(j,V),m&&(j.l=m),E=j}return m=a.D,f=a.ya,m&&f&&Ye(E,m,f),Ye(E,"VER",a.la),Pi(a,E),E}function xc(a,f,m){if(f&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=a.Ca&&!a.pa?new pt(new Ci({eb:m})):new pt(a.pa),f.Ha(a.J),f}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lc(){}n=Lc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function wo(){}wo.prototype.g=function(a,f){return new _n(a,f)};function _n(a,f){ye.call(this),this.g=new Wa(f),this.l=a,this.h=f&&f.messageUrlParams||null,a=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(a?a["X-WebChannel-Content-Type"]=f.messageContentType:a={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(a?a["X-WebChannel-Client-Profile"]=f.va:a={"X-WebChannel-Client-Profile":f.va}),this.g.S=a,(a=f&&f.Sb)&&!F(a)&&(this.g.m=a),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!F(f)&&(this.g.D=f,a=this.h,a!==null&&f in a&&(a=this.h,f in a&&delete a[f])),this.j=new Oi(this)}k(_n,ye),_n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){Eo(this.g)},_n.prototype.o=function(a){var f=this.g;if(typeof a=="string"){var m={};m.__data__=a,a=m}else this.u&&(m={},m.__data__=Ft(a),a=m);f.i.push(new Na(f.Ya++,a)),f.G==3&&br(f)},_n.prototype.N=function(){this.g.l=null,delete this.j,Eo(this.g),delete this.g,_n.aa.N.call(this)};function Xa(a){bi.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var f=a.__sm__;if(f){e:{for(const m in f){a=m;break e}a=void 0}(this.i=a)&&(a=this.i,f=f!==null&&a in f?f[a]:void 0),this.data=f}else this.data=a}k(Xa,bi);function Ja(){ao.call(this),this.status=1}k(Ja,ao);function Oi(a){this.g=a}k(Oi,Lc),Oi.prototype.ua=function(){Re(this.g,"a")},Oi.prototype.ta=function(a){Re(this.g,new Xa(a))},Oi.prototype.sa=function(a){Re(this.g,new Ja)},Oi.prototype.ra=function(){Re(this.g,"b")},wo.prototype.createWebChannel=wo.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,rb=function(){return new wo},ib=function(){return lo()},sb=vs,Af={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},uo.NO_ERROR=0,uo.TIMEOUT=8,uo.HTTP_ERROR=6,pu=uo,ho.COMPLETE="complete",nb=ho,_c.EventType=Ei,Ei.OPEN="a",Ei.CLOSE="b",Ei.ERROR="c",Ei.MESSAGE="d",ye.prototype.listen=ye.prototype.K,ul=_c,pt.prototype.listenOnce=pt.prototype.L,pt.prototype.getLastError=pt.prototype.Ka,pt.prototype.getLastErrorCode=pt.prototype.Ba,pt.prototype.getStatus=pt.prototype.Z,pt.prototype.getResponseJson=pt.prototype.Oa,pt.prototype.getResponseText=pt.prototype.oa,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Ha,tb=pt}).apply(typeof Gc<"u"?Gc:typeof self<"u"?self:typeof window<"u"?window:{});const T_="@firebase/firestore",w_="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ya="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr=new pp("@firebase/firestore");function No(){return zr.logLevel}function de(n,...e){if(zr.logLevel<=He.DEBUG){const t=e.map(_p);zr.debug(`Firestore (${ya}): ${n}`,...t)}}function ui(n,...e){if(zr.logLevel<=He.ERROR){const t=e.map(_p);zr.error(`Firestore (${ya}): ${n}`,...t)}}function sa(n,...e){if(zr.logLevel<=He.WARN){const t=e.map(_p);zr.warn(`Firestore (${ya}): ${n}`,...t)}}function _p(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,ob(n,s,t)}function ob(n,e,t){let s=`FIRESTORE (${ya}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw ui(s),new Error(s)}function rt(n,e,t,s){let i="Unexpected state";typeof t=="string"?i=t:s=t,n||ob(e,i,s)}function ke(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends mi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(sn.UNAUTHENTICATED))}shutdown(){}}class cO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class uO{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){rt(this.o===void 0,42304);let s=this.i;const i=u=>this.i!==s?(s=this.i,t(u)):Promise.resolve();let r=new Yi;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Yi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=r;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Yi)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(rt(typeof s.accessToken=="string",31837,{l:s}),new ab(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class hO{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class dO{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new hO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class A_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){rt(this.o===void 0,3512);const s=r=>{r.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.m;return this.m=r.token,de("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>s(r))};const i=r=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>i(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?i(r):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new A_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(rt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new A_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const i=pO(40);for(let r=0;r<i.length;++r)s.length<20&&i[r]<t&&(s+=e.charAt(i[r]%62))}return s}}function Fe(n,e){return n<e?-1:n>e?1:0}function If(n,e){let t=0;for(;t<n.length&&t<e.length;){const s=n.codePointAt(t),i=e.codePointAt(t);if(s!==i){if(s<128&&i<128)return Fe(s,i);{const r=lb(),o=mO(r.encode(I_(n,t)),r.encode(I_(e,t)));return o!==0?o:Fe(s,i)}}t+=s>65535?2:1}return Fe(n.length,e.length)}function I_(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function mO(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Fe(n[t],e[t]);return Fe(n.length,e.length)}function ia(n,e,t){return n.length===e.length&&n.every((s,i)=>t(s,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=-62135596800,S_=1e6;class Bt{static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*S_);return new Bt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<C_)throw new _e(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/S_}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-C_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Bt(0,0))}static max(){return new Oe(new Bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="__name__";class Ss{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ce(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ce(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Ss.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ss?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let i=0;i<s;i++){const r=Ss.compareSegments(e.get(i),t.get(i));if(r!==0)return r}return Fe(e.length,t.length)}static compareSegments(e,t){const s=Ss.isNumericId(e),i=Ss.isNumericId(t);return s&&!i?-1:!s&&i?1:s&&i?Ss.extractNumericId(e).compare(Ss.extractNumericId(t)):If(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gi.fromString(e.substring(4,e.length-2))}}class Et extends Ss{construct(e,t,s){return new Et(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new _e(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(i=>i.length>0))}return new Et(t)}static emptyPath(){return new Et([])}}const gO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Ss{construct(e,t,s){return new Jt(e,t,s)}static isValidIdentifier(e){return gO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===R_}static keyField(){return new Jt([R_])}static fromServerFormat(e){const t=[];let s="",i=0;const r=()=>{if(s.length===0)throw new _e(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new _e(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new _e(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(s+=l,i++):(r(),i++)}if(r(),o)throw new _e(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(t)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(Et.fromString(e))}static fromName(e){return new be(Et.fromString(e).popFirst(5))}static empty(){return new be(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new Et(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=-1;function _O(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,i=Oe.fromTimestamp(s===1e9?new Bt(t+1,0):new Bt(t,s));return new Xi(i,be.empty(),e)}function vO(n){return new Xi(n.readTime,n.key,Fl)}class Xi{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Xi(Oe.min(),be.empty(),Fl)}static max(){return new Xi(Oe.max(),be.empty(),Fl)}}function yO(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=be.comparator(n.documentKey,e.documentKey),t!==0?t:Fe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ea(n){if(n.code!==J.FAILED_PRECONDITION||n.message!==EO)throw n;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((s,i)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(s,i)},this.catchCallback=r=>{this.wrapFailure(t,r).next(s,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,s)=>{t(e)})}static reject(e){return new X((t,s)=>{s(e)})}static waitFor(e){return new X((t,s)=>{let i=0,r=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++r,o&&r===i&&t()},u=>s(u))}),o=!0,r===i&&t()})}static or(e){let t=X.resolve(!1);for(const s of e)t=t.next(i=>i?X.resolve(i):s());return t}static forEach(e,t){const s=[];return e.forEach((i,r)=>{s.push(t.call(this,i,r))}),this.waitFor(s)}static mapArray(e,t){return new X((s,i)=>{const r=e.length,o=new Array(r);let l=0;for(let u=0;u<r;u++){const h=u;t(e[h]).next(d=>{o[h]=d,++l,l===r&&s(o)},d=>i(d))}})}static doWhile(e,t){return new X((s,i)=>{const r=()=>{e()===!0?t().next(()=>{r()},i):s()};r()})}}function TO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ba(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>t.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Ch.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp=-1;function Sh(n){return n==null}function Uu(n){return n===0&&1/n==-1/0}function wO(n){return typeof n=="number"&&Number.isInteger(n)&&!Uu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="";function AO(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=P_(e)),e=IO(n.get(t),e);return P_(e)}function IO(n,e){let t=e;const s=n.length;for(let i=0;i<s;i++){const r=n.charAt(i);switch(r){case"\0":t+="";break;case ub:t+="";break;default:t+=r}}return t}function P_(n){return n+ub+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function eo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function hb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,t){this.comparator=e,this.root=t||Xt.EMPTY}insert(e,t){return new At(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const i=this.comparator(e,s.key);if(i===0)return t+s.left.size;i<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yc(this.root,e,this.comparator,!0)}}class Yc{constructor(e,t,s,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?s(e.key,t):1,t&&i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,t,s,i,r){this.key=e,this.value=t,this.color=s??Xt.RED,this.left=i??Xt.EMPTY,this.right=r??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,i,r){return new Xt(e??this.key,t??this.value,s??this.color,i??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let i=this;const r=s(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,t,s),null):r===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,s)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Xt.EMPTY;s=i.right.min(),i=i.copy(s.key,s.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,t,s,i,r){return this}insert(e,t,s){return new Xt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const i=s.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new D_(this.data.getIterator())}getIteratorFrom(e){return new D_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,r=s.getNext().key;if(this.comparator(i,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ht(this.comparator);return t.data=e,t}}class D_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new us([])}unionWith(e){let t=new Ht(Jt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new us(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ia(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new db("Invalid base64 string: "+r):r}}(e);return new Zt(t)}static fromUint8Array(e){const t=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(e);return new Zt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let i=0;i<t.length;i++)s[i]=t.charCodeAt(i);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const CO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ji(n){if(rt(!!n,39018),typeof n=="string"){let e=0;const t=CO.exec(n);if(rt(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Dt(n.seconds),nanos:Dt(n.nanos)}}function Dt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Zi(n){return typeof n=="string"?Zt.fromBase64String(n):Zt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="server_timestamp",pb="__type__",mb="__previous_value__",gb="__local_write_time__";function yp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[pb])===null||t===void 0?void 0:t.stringValue)===fb}function Rh(n){const e=n.mapValue.fields[mb];return yp(e)?Rh(e):e}function Ul(n){const e=Ji(n.mapValue.fields[gb].timestampValue);return new Bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,t,s,i,r,o,l,u,h,d){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=i,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=d}}const ju="(default)";class jl{constructor(e,t){this.projectId=e,this.database=t||ju}static empty(){return new jl("","")}get isDefaultDatabase(){return this.database===ju}isEqual(e){return e instanceof jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="__type__",RO="__max__",Qc={mapValue:{}},vb="__vector__",Bu="value";function er(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?yp(n)?4:OO(n)?9007199254740991:PO(n)?10:11:Ce(28295,{value:n})}function Fs(n,e){if(n===e)return!0;const t=er(n);if(t!==er(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ul(n).isEqual(Ul(e));case 3:return function(i,r){if(typeof i.timestampValue=="string"&&typeof r.timestampValue=="string"&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=Ji(i.timestampValue),l=Ji(r.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,r){return Zi(i.bytesValue).isEqual(Zi(r.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Dt(i.geoPointValue.latitude)===Dt(r.geoPointValue.latitude)&&Dt(i.geoPointValue.longitude)===Dt(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Dt(i.integerValue)===Dt(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=Dt(i.doubleValue),l=Dt(r.doubleValue);return o===l?Uu(o)===Uu(l):isNaN(o)&&isNaN(l)}return!1}(n,e);case 9:return ia(n.arrayValue.values||[],e.arrayValue.values||[],Fs);case 10:case 11:return function(i,r){const o=i.mapValue.fields||{},l=r.mapValue.fields||{};if(O_(o)!==O_(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!Fs(o[u],l[u])))return!1;return!0}(n,e);default:return Ce(52216,{left:n})}}function Bl(n,e){return(n.values||[]).find(t=>Fs(t,e))!==void 0}function ra(n,e){if(n===e)return 0;const t=er(n),s=er(e);if(t!==s)return Fe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fe(n.booleanValue,e.booleanValue);case 2:return function(r,o){const l=Dt(r.integerValue||r.doubleValue),u=Dt(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(n,e);case 3:return N_(n.timestampValue,e.timestampValue);case 4:return N_(Ul(n),Ul(e));case 5:return If(n.stringValue,e.stringValue);case 6:return function(r,o){const l=Zi(r),u=Zi(o);return l.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(r,o){const l=r.split("/"),u=o.split("/");for(let h=0;h<l.length&&h<u.length;h++){const d=Fe(l[h],u[h]);if(d!==0)return d}return Fe(l.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,o){const l=Fe(Dt(r.latitude),Dt(o.latitude));return l!==0?l:Fe(Dt(r.longitude),Dt(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return k_(n.arrayValue,e.arrayValue);case 10:return function(r,o){var l,u,h,d;const g=r.fields||{},v=o.fields||{},b=(l=g[Bu])===null||l===void 0?void 0:l.arrayValue,k=(u=v[Bu])===null||u===void 0?void 0:u.arrayValue,L=Fe(((h=b==null?void 0:b.values)===null||h===void 0?void 0:h.length)||0,((d=k==null?void 0:k.values)===null||d===void 0?void 0:d.length)||0);return L!==0?L:k_(b,k)}(n.mapValue,e.mapValue);case 11:return function(r,o){if(r===Qc.mapValue&&o===Qc.mapValue)return 0;if(r===Qc.mapValue)return 1;if(o===Qc.mapValue)return-1;const l=r.fields||{},u=Object.keys(l),h=o.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let g=0;g<u.length&&g<d.length;++g){const v=If(u[g],d[g]);if(v!==0)return v;const b=ra(l[u[g]],h[d[g]]);if(b!==0)return b}return Fe(u.length,d.length)}(n.mapValue,e.mapValue);default:throw Ce(23264,{Pe:t})}}function N_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Fe(n,e);const t=Ji(n),s=Ji(e),i=Fe(t.seconds,s.seconds);return i!==0?i:Fe(t.nanos,s.nanos)}function k_(n,e){const t=n.values||[],s=e.values||[];for(let i=0;i<t.length&&i<s.length;++i){const r=ra(t[i],s[i]);if(r)return r}return Fe(t.length,s.length)}function oa(n){return Cf(n)}function Cf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const s=Ji(t);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Zi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return be.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let s="[",i=!0;for(const r of t.values||[])i?i=!1:s+=",",s+=Cf(r);return s+"]"}(n.arrayValue):"mapValue"in n?function(t){const s=Object.keys(t.fields||{}).sort();let i="{",r=!0;for(const o of s)r?r=!1:i+=",",i+=`${o}:${Cf(t.fields[o])}`;return i+"}"}(n.mapValue):Ce(61005,{value:n})}function mu(n){switch(er(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rh(n);return e?16+mu(e):16;case 5:return 2*n.stringValue.length;case 6:return Zi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((i,r)=>i+mu(r),0)}(n.arrayValue);case 10:case 11:return function(s){let i=0;return eo(s.fields,(r,o)=>{i+=r.length+mu(o)}),i}(n.mapValue);default:throw Ce(13486,{value:n})}}function x_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Sf(n){return!!n&&"integerValue"in n}function Ep(n){return!!n&&"arrayValue"in n}function L_(n){return!!n&&"nullValue"in n}function V_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gu(n){return!!n&&"mapValue"in n}function PO(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[_b])===null||t===void 0?void 0:t.stringValue)===vb}function Tl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return eo(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Tl(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Tl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function OO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===RO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.value=e}static empty(){return new Xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!gu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tl(t)}setAll(e){let t=Jt.emptyPath(),s={},i=[];e.forEach((o,l)=>{if(!t.isImmediateParentOf(l)){const u=this.getFieldsMap(t);this.applyChanges(u,s,i),s={},i=[],t=l.popLast()}o?s[l.lastSegment()]=Tl(o):i.push(l.lastSegment())});const r=this.getFieldsMap(t);this.applyChanges(r,s,i)}delete(e){const t=this.field(e.popLast());gu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let i=t.mapValue.fields[e.get(s)];gu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,s){eo(t,(i,r)=>e[i]=r);for(const i of s)delete e[i]}clone(){return new Xn(Tl(this.value))}}function yb(n){const e=[];return eo(n.fields,(t,s)=>{const i=new Jt([t]);if(gu(s)){const r=yb(s.mapValue).fields;if(r.length===0)e.push(i);else for(const o of r)e.push(i.child(o))}else e.push(i)}),new us(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,t,s,i,r,o,l){this.key=e,this.documentType=t,this.version=s,this.readTime=i,this.createTime=r,this.data=o,this.documentState=l}static newInvalidDocument(e){return new an(e,0,Oe.min(),Oe.min(),Oe.min(),Xn.empty(),0)}static newFoundDocument(e,t,s,i){return new an(e,1,t,Oe.min(),s,i,0)}static newNoDocument(e,t){return new an(e,2,t,Oe.min(),Oe.min(),Xn.empty(),0)}static newUnknownDocument(e,t){return new an(e,3,t,Oe.min(),Oe.min(),Xn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,t){this.position=e,this.inclusive=t}}function M_(n,e,t){let s=0;for(let i=0;i<n.position.length;i++){const r=e[i],o=n.position[i];if(r.field.isKeyField()?s=be.comparator(be.fromName(o.referenceValue),t.key):s=ra(o,t.data.field(r.field)),r.dir==="desc"&&(s*=-1),s!==0)break}return s}function $_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Fs(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,t="asc"){this.field=e,this.dir=t}}function DO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{}class Vt extends Eb{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new kO(e,t,s):t==="array-contains"?new VO(e,s):t==="in"?new MO(e,s):t==="not-in"?new $O(e,s):t==="array-contains-any"?new FO(e,s):new Vt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new xO(e,s):new LO(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ra(t,this.value)):t!==null&&er(this.value)===er(t)&&this.matchesComparison(ra(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ms extends Eb{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new ms(e,t)}matches(e){return bb(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function bb(n){return n.op==="and"}function Tb(n){return NO(n)&&bb(n)}function NO(n){for(const e of n.filters)if(e instanceof ms)return!1;return!0}function Rf(n){if(n instanceof Vt)return n.field.canonicalString()+n.op.toString()+oa(n.value);if(Tb(n))return n.filters.map(e=>Rf(e)).join(",");{const e=n.filters.map(t=>Rf(t)).join(",");return`${n.op}(${e})`}}function wb(n,e){return n instanceof Vt?function(s,i){return i instanceof Vt&&s.op===i.op&&s.field.isEqual(i.field)&&Fs(s.value,i.value)}(n,e):n instanceof ms?function(s,i){return i instanceof ms&&s.op===i.op&&s.filters.length===i.filters.length?s.filters.reduce((r,o,l)=>r&&wb(o,i.filters[l]),!0):!1}(n,e):void Ce(19439)}function Ab(n){return n instanceof Vt?function(t){return`${t.field.canonicalString()} ${t.op} ${oa(t.value)}`}(n):n instanceof ms?function(t){return t.op.toString()+" {"+t.getFilters().map(Ab).join(" ,")+"}"}(n):"Filter"}class kO extends Vt{constructor(e,t,s){super(e,t,s),this.key=be.fromName(s.referenceValue)}matches(e){const t=be.comparator(e.key,this.key);return this.matchesComparison(t)}}class xO extends Vt{constructor(e,t){super(e,"in",t),this.keys=Ib("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class LO extends Vt{constructor(e,t){super(e,"not-in",t),this.keys=Ib("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ib(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>be.fromName(s.referenceValue))}class VO extends Vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ep(t)&&Bl(t.arrayValue,this.value)}}class MO extends Vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Bl(this.value.arrayValue,t)}}class $O extends Vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Bl(this.value.arrayValue,t)}}class FO extends Vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ep(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Bl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,t=null,s=[],i=[],r=null,o=null,l=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=i,this.limit=r,this.startAt=o,this.endAt=l,this.Ie=null}}function F_(n,e=null,t=[],s=[],i=null,r=null,o=null){return new UO(n,e,t,s,i,r,o)}function bp(n){const e=ke(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Rf(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(r){return r.field.canonicalString()+r.dir}(s)).join(","),Sh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>oa(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>oa(s)).join(",")),e.Ie=t}return e.Ie}function Tp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!DO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!wb(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!$_(n.startAt,e.startAt)&&$_(n.endAt,e.endAt)}function Pf(n){return be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,t=null,s=[],i=[],r=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=i,this.limit=r,this.limitType=o,this.startAt=l,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function jO(n,e,t,s,i,r,o,l){return new Ta(n,e,t,s,i,r,o,l)}function Cb(n){return new Ta(n)}function U_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Sb(n){return n.collectionGroup!==null}function wl(n){const e=ke(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const r of e.explicitOrderBy)e.Ee.push(r),t.add(r.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Ht(Jt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(r=>{t.has(r.canonicalString())||r.isKeyField()||e.Ee.push(new Hl(r,s))}),t.has(Jt.keyField().canonicalString())||e.Ee.push(new Hl(Jt.keyField(),s))}return e.Ee}function Ns(n){const e=ke(n);return e.de||(e.de=BO(e,wl(n))),e.de}function BO(n,e){if(n.limitType==="F")return F_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const r=i.dir==="desc"?"asc":"desc";return new Hl(i.field,r)});const t=n.endAt?new Hu(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Hu(n.startAt.position,n.startAt.inclusive):null;return F_(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function Of(n,e){const t=n.filters.concat([e]);return new Ta(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function qu(n,e,t){return new Ta(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ph(n,e){return Tp(Ns(n),Ns(e))&&n.limitType===e.limitType}function Rb(n){return`${bp(Ns(n))}|lt:${n.limitType}`}function ko(n){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(i=>Ab(i)).join(", ")}]`),Sh(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(i=>oa(i)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(i=>oa(i)).join(",")),`Target(${s})`}(Ns(n))}; limitType=${n.limitType})`}function Oh(n,e){return e.isFoundDocument()&&function(s,i){const r=i.key.path;return s.collectionGroup!==null?i.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(r):be.isDocumentKey(s.path)?s.path.isEqual(r):s.path.isImmediateParentOf(r)}(n,e)&&function(s,i){for(const r of wl(s))if(!r.field.isKeyField()&&i.data.field(r.field)===null)return!1;return!0}(n,e)&&function(s,i){for(const r of s.filters)if(!r.matches(i))return!1;return!0}(n,e)&&function(s,i){return!(s.startAt&&!function(o,l,u){const h=M_(o,l,u);return o.inclusive?h<=0:h<0}(s.startAt,wl(s),i)||s.endAt&&!function(o,l,u){const h=M_(o,l,u);return o.inclusive?h>=0:h>0}(s.endAt,wl(s),i))}(n,e)}function HO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Pb(n){return(e,t)=>{let s=!1;for(const i of wl(n)){const r=qO(i,e,t);if(r!==0)return r;s=s||i.field.isKeyField()}return 0}}function qO(n,e,t){const s=n.field.isKeyField()?be.comparator(e.key,t.key):function(r,o,l){const u=o.data.field(r),h=l.data.field(r);return u!==null&&h!==null?ra(u,h):Ce(42886)}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Ce(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[i,r]of s)if(this.equalsFn(i,e))return r}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),i=this.inner[s];if(i===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return void(i[r]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return s.length===1?delete this.inner[t]:s.splice(i,1),this.innerSize--,!0;return!1}forEach(e){eo(this.inner,(t,s)=>{for(const[i,r]of s)e(i,r)})}isEmpty(){return hb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=new At(be.comparator);function hi(){return WO}const Ob=new At(be.comparator);function hl(...n){let e=Ob;for(const t of n)e=e.insert(t.key,t);return e}function Db(n){let e=Ob;return n.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Vr(){return Al()}function Nb(){return Al()}function Al(){return new to(n=>n.toString(),(n,e)=>n.isEqual(e))}const zO=new At(be.comparator),KO=new Ht(be.comparator);function We(...n){let e=KO;for(const t of n)e=e.add(t);return e}const GO=new Ht(Fe);function YO(){return GO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uu(e)?"-0":e}}function kb(n){return{integerValue:""+n}}function QO(n,e){return wO(e)?kb(e):wp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(){this._=void 0}}function XO(n,e,t){return n instanceof Wu?function(i,r){const o={fields:{[pb]:{stringValue:fb},[gb]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&yp(r)&&(r=Rh(r)),r&&(o.fields[mb]=r),{mapValue:o}}(t,e):n instanceof ql?Lb(n,e):n instanceof Wl?Vb(n,e):function(i,r){const o=xb(i,r),l=j_(o)+j_(i.Re);return Sf(o)&&Sf(i.Re)?kb(l):wp(i.serializer,l)}(n,e)}function JO(n,e,t){return n instanceof ql?Lb(n,e):n instanceof Wl?Vb(n,e):t}function xb(n,e){return n instanceof zu?function(s){return Sf(s)||function(r){return!!r&&"doubleValue"in r}(s)}(e)?e:{integerValue:0}:null}class Wu extends Dh{}class ql extends Dh{constructor(e){super(),this.elements=e}}function Lb(n,e){const t=Mb(e);for(const s of n.elements)t.some(i=>Fs(i,s))||t.push(s);return{arrayValue:{values:t}}}class Wl extends Dh{constructor(e){super(),this.elements=e}}function Vb(n,e){let t=Mb(e);for(const s of n.elements)t=t.filter(i=>!Fs(i,s));return{arrayValue:{values:t}}}class zu extends Dh{constructor(e,t){super(),this.serializer=e,this.Re=t}}function j_(n){return Dt(n.integerValue||n.doubleValue)}function Mb(n){return Ep(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function ZO(n,e){return n.field.isEqual(e.field)&&function(s,i){return s instanceof ql&&i instanceof ql||s instanceof Wl&&i instanceof Wl?ia(s.elements,i.elements,Fs):s instanceof zu&&i instanceof zu?Fs(s.Re,i.Re):s instanceof Wu&&i instanceof Wu}(n.transform,e.transform)}class e1{constructor(e,t){this.version=e,this.transformResults=t}}class ri{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ri}static exists(e){return new ri(void 0,e)}static updateTime(e){return new ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _u(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Nh{}function $b(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ub(n.key,ri.none()):new tc(n.key,n.data,ri.none());{const t=n.data,s=Xn.empty();let i=new Ht(Jt.comparator);for(let r of e.fields)if(!i.has(r)){let o=t.field(r);o===null&&r.length>1&&(r=r.popLast(),o=t.field(r)),o===null?s.delete(r):s.set(r,o),i=i.add(r)}return new no(n.key,s,new us(i.toArray()),ri.none())}}function t1(n,e,t){n instanceof tc?function(i,r,o){const l=i.value.clone(),u=H_(i.fieldTransforms,r,o.transformResults);l.setAll(u),r.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):n instanceof no?function(i,r,o){if(!_u(i.precondition,r))return void r.convertToUnknownDocument(o.version);const l=H_(i.fieldTransforms,r,o.transformResults),u=r.data;u.setAll(Fb(i)),u.setAll(l),r.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):function(i,r,o){r.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function Il(n,e,t,s){return n instanceof tc?function(r,o,l,u){if(!_u(r.precondition,o))return l;const h=r.value.clone(),d=q_(r.fieldTransforms,u,o);return h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(n,e,t,s):n instanceof no?function(r,o,l,u){if(!_u(r.precondition,o))return l;const h=q_(r.fieldTransforms,u,o),d=o.data;return d.setAll(Fb(r)),d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(g=>g.field))}(n,e,t,s):function(r,o,l){return _u(r.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(n,e,t)}function n1(n,e){let t=null;for(const s of n.fieldTransforms){const i=e.data.field(s.field),r=xb(s.transform,i||null);r!=null&&(t===null&&(t=Xn.empty()),t.set(s.field,r))}return t||null}function B_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(s,i){return s===void 0&&i===void 0||!(!s||!i)&&ia(s,i,(r,o)=>ZO(r,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class tc extends Nh{constructor(e,t,s,i=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class no extends Nh{constructor(e,t,s,i,r=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function Fb(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function H_(n,e,t){const s=new Map;rt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const r=n[i],o=r.transform,l=e.data.field(r.field);s.set(r.field,JO(o,l,t[i]))}return s}function q_(n,e,t){const s=new Map;for(const i of n){const r=i.transform,o=t.data.field(i.field);s.set(i.field,XO(r,o,e))}return s}class Ub extends Nh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class s1 extends Nh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,t,s,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=i}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const r=this.mutations[i];r.key.isEqual(e.key)&&t1(r,e,s[i])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Il(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Il(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Nb();return this.mutations.forEach(i=>{const r=e.get(i.key),o=r.overlayedDocument;let l=this.applyToLocalView(o,r.mutatedFields);l=t.has(i.key)?null:l;const u=$b(o,l);u!==null&&s.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Oe.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),We())}isEqual(e){return this.batchId===e.batchId&&ia(this.mutations,e.mutations,(t,s)=>B_(t,s))&&ia(this.baseMutations,e.baseMutations,(t,s)=>B_(t,s))}}class Ap{constructor(e,t,s,i){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=i}static from(e,t,s){rt(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let i=function(){return zO}();const r=e.mutations;for(let o=0;o<r.length;o++)i=i.insert(r[o].key,s[o].version);return new Ap(e,t,s,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,Ge;function a1(n){switch(n){case J.OK:return Ce(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ce(15467,{code:n})}}function jb(n){if(n===void 0)return ui("GRPC error has no .code"),J.UNKNOWN;switch(n){case xt.OK:return J.OK;case xt.CANCELLED:return J.CANCELLED;case xt.UNKNOWN:return J.UNKNOWN;case xt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case xt.INTERNAL:return J.INTERNAL;case xt.UNAVAILABLE:return J.UNAVAILABLE;case xt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case xt.NOT_FOUND:return J.NOT_FOUND;case xt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case xt.ABORTED:return J.ABORTED;case xt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case xt.DATA_LOSS:return J.DATA_LOSS;default:return Ce(39323,{code:n})}}(Ge=xt||(xt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=new Gi([4294967295,4294967295],0);function W_(n){const e=lb().encode(n),t=new eb;return t.update(e),new Uint8Array(t.digest())}function z_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),i=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new Gi([t,s],0),new Gi([i,r],0)]}class Ip{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new dl(`Invalid padding: ${t}`);if(s<0)throw new dl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new dl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new dl(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Gi.fromNumber(this.pe)}we(e,t,s){let i=e.add(t.multiply(Gi.fromNumber(s)));return i.compare(l1)===1&&(i=new Gi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=W_(e),[s,i]=z_(t);for(let r=0;r<this.hashCount;r++){const o=this.we(s,i,r);if(!this.be(o))return!1}return!0}static create(e,t,s){const i=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),o=new Ip(r,i,t);return s.forEach(l=>o.insert(l)),o}insert(e){if(this.pe===0)return;const t=W_(e),[s,i]=z_(t);for(let r=0;r<this.hashCount;r++){const o=this.we(s,i,r);this.Se(o)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,t,s,i,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const i=new Map;return i.set(e,nc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new kh(Oe.min(),i,new At(Fe),hi(),We())}}class nc{constructor(e,t,s,i,r){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new nc(s,t,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,t,s,i){this.De=e,this.removedTargetIds=t,this.key=s,this.ve=i}}class Bb{constructor(e,t){this.targetId=e,this.Ce=t}}class Hb{constructor(e,t,s=Zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=i}}class K_{constructor(){this.Fe=0,this.Me=G_(),this.xe=Zt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=We(),t=We(),s=We();return this.Me.forEach((i,r)=>{switch(r){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:s=s.add(i);break;default:Ce(38017,{changeType:r})}}),new nc(this.xe,this.Oe,e,t,s)}Qe(){this.Ne=!1,this.Me=G_()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,rt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class c1{constructor(e){this.ze=e,this.je=new Map,this.He=hi(),this.Je=Xc(),this.Ye=Xc(),this.Ze=new At(Fe)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const s=this.rt(t);switch(e.state){case 0:this.it(t)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(t);break;case 3:this.it(t)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),s.ke(e.resumeToken));break;default:Ce(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((s,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,s=e.Ce.count,i=this._t(t);if(i){const r=i.target;if(Pf(r))if(s===0){const o=new be(r.path);this.tt(t,o,an.newNoDocument(o,Oe.min()))}else rt(s===1,20013,{expectedCount:s});else{const o=this.ut(t);if(o!==s){const l=this.ct(e),u=l?this.lt(l,e,o):1;if(u!==0){this.st(t);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,h)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:i=0},hashCount:r=0}=t;let o,l;try{o=Zi(s).toUint8Array()}catch(u){if(u instanceof db)return sa("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Ip(o,i,r)}catch(u){return sa(u instanceof dl?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.pe===0?null:l}lt(e,t,s){return t.Ce.count===s-this.Tt(e,t.targetId)?0:2}Tt(e,t){const s=this.ze.getRemoteKeysForTarget(t);let i=0;return s.forEach(r=>{const o=this.ze.Pt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${r.path.canonicalString()}`;e.mightContain(l)||(this.tt(t,r,null),i++)}),i}It(e){const t=new Map;this.je.forEach((r,o)=>{const l=this._t(o);if(l){if(r.current&&Pf(l.target)){const u=new be(l.target.path);this.Et(u).has(o)||this.dt(o,u)||this.tt(o,u,an.newNoDocument(u,e))}r.Le&&(t.set(o,r.qe()),r.Qe())}});let s=We();this.Ye.forEach((r,o)=>{let l=!0;o.forEachWhile(u=>{const h=this._t(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(s=s.add(r))}),this.He.forEach((r,o)=>o.setReadTime(e));const i=new kh(e,t,this.Ze,this.He,s);return this.He=hi(),this.Je=Xc(),this.Ye=Xc(),this.Ze=new At(Fe),i}et(e,t){if(!this.it(e))return;const s=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,s),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,s){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),s&&(this.He=this.He.insert(t,s))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new K_,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Ht(Fe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Ht(Fe),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new K_),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Xc(){return new At(be.comparator)}function G_(){return new At(be.comparator)}const u1={asc:"ASCENDING",desc:"DESCENDING"},h1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},d1={and:"AND",or:"OR"};class f1{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Df(n,e){return n.useProto3Json||Sh(e)?e:{value:e}}function Ku(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qb(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function p1(n,e){return Ku(n,e.toTimestamp())}function ks(n){return rt(!!n,49232),Oe.fromTimestamp(function(t){const s=Ji(t);return new Bt(s.seconds,s.nanos)}(n))}function Cp(n,e){return Nf(n,e).canonicalString()}function Nf(n,e){const t=function(i){return new Et(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Wb(n){const e=Et.fromString(n);return rt(Qb(e),10190,{key:e.toString()}),e}function kf(n,e){return Cp(n.databaseId,e.path)}function Vd(n,e){const t=Wb(e);if(t.get(1)!==n.databaseId.projectId)throw new _e(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new _e(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new be(Kb(t))}function zb(n,e){return Cp(n.databaseId,e)}function m1(n){const e=Wb(n);return e.length===4?Et.emptyPath():Kb(e)}function xf(n){return new Et(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Kb(n){return rt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Y_(n,e,t){return{name:kf(n,e),fields:t.value.mapValue.fields}}function g1(n,e){let t;if("targetChange"in e){e.targetChange;const s=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ce(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],r=function(h,d){return h.useProto3Json?(rt(d===void 0||typeof d=="string",58123),Zt.fromBase64String(d||"")):(rt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Zt.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(h){const d=h.code===void 0?J.UNKNOWN:jb(h.code);return new _e(d,h.message||"")}(o);t=new Hb(s,i,r,l||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const i=Vd(n,s.document.name),r=ks(s.document.updateTime),o=s.document.createTime?ks(s.document.createTime):Oe.min(),l=new Xn({mapValue:{fields:s.document.fields}}),u=an.newFoundDocument(i,r,o,l),h=s.targetIds||[],d=s.removedTargetIds||[];t=new vu(h,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const i=Vd(n,s.document),r=s.readTime?ks(s.readTime):Oe.min(),o=an.newNoDocument(i,r),l=s.removedTargetIds||[];t=new vu([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const i=Vd(n,s.document),r=s.removedTargetIds||[];t=new vu([],r,i,null)}else{if(!("filter"in e))return Ce(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:i=0,unchangedNames:r}=s,o=new o1(i,r),l=s.targetId;t=new Bb(l,o)}}return t}function _1(n,e){let t;if(e instanceof tc)t={update:Y_(n,e.key,e.value)};else if(e instanceof Ub)t={delete:kf(n,e.key)};else if(e instanceof no)t={update:Y_(n,e.key,e.data),updateMask:C1(e.fieldMask)};else{if(!(e instanceof s1))return Ce(16599,{ft:e.type});t={verify:kf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(r,o){const l=o.transform;if(l instanceof Wu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ql)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Wl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof zu)return{fieldPath:o.field.canonicalString(),increment:l.Re};throw Ce(20930,{transform:o.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(i,r){return r.updateTime!==void 0?{updateTime:p1(i,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:Ce(27497)}(n,e.precondition)),t}function v1(n,e){return n&&n.length>0?(rt(e!==void 0,14353),n.map(t=>function(i,r){let o=i.updateTime?ks(i.updateTime):ks(r);return o.isEqual(Oe.min())&&(o=ks(r)),new e1(o,i.transformResults||[])}(t,e))):[]}function y1(n,e){return{documents:[zb(n,e.path)]}}function E1(n,e){const t={structuredQuery:{}},s=e.path;let i;e.collectionGroup!==null?(i=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=zb(n,i);const r=function(h){if(h.length!==0)return Yb(ms.create(h,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(h){if(h.length!==0)return h.map(d=>function(v){return{field:xo(v.field),direction:w1(v.dir)}}(d))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const l=Df(n,e.limit);return l!==null&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:t,parent:i}}function b1(n){let e=m1(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let i=null;if(s>0){rt(s===1,65062);const d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let r=[];t.where&&(r=function(g){const v=Gb(g);return v instanceof ms&&Tb(v)?v.getFilters():[v]}(t.where));let o=[];t.orderBy&&(o=function(g){return g.map(v=>function(k){return new Hl(Lo(k.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(v))}(t.orderBy));let l=null;t.limit&&(l=function(g){let v;return v=typeof g=="object"?g.value:g,Sh(v)?null:v}(t.limit));let u=null;t.startAt&&(u=function(g){const v=!!g.before,b=g.values||[];return new Hu(b,v)}(t.startAt));let h=null;return t.endAt&&(h=function(g){const v=!g.before,b=g.values||[];return new Hu(b,v)}(t.endAt)),jO(e,i,o,r,l,"F",u,h)}function T1(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Gb(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Lo(t.unaryFilter.field);return Vt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const i=Lo(t.unaryFilter.field);return Vt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Lo(t.unaryFilter.field);return Vt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Lo(t.unaryFilter.field);return Vt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}}(n):n.fieldFilter!==void 0?function(t){return Vt.create(Lo(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ms.create(t.compositeFilter.filters.map(s=>Gb(s)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}}(t.compositeFilter.op))}(n):Ce(30097,{filter:n})}function w1(n){return u1[n]}function A1(n){return h1[n]}function I1(n){return d1[n]}function xo(n){return{fieldPath:n.canonicalString()}}function Lo(n){return Jt.fromServerFormat(n.fieldPath)}function Yb(n){return n instanceof Vt?function(t){if(t.op==="=="){if(V_(t.value))return{unaryFilter:{field:xo(t.field),op:"IS_NAN"}};if(L_(t.value))return{unaryFilter:{field:xo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(V_(t.value))return{unaryFilter:{field:xo(t.field),op:"IS_NOT_NAN"}};if(L_(t.value))return{unaryFilter:{field:xo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xo(t.field),op:A1(t.op),value:t.value}}}(n):n instanceof ms?function(t){const s=t.getFilters().map(i=>Yb(i));return s.length===1?s[0]:{compositeFilter:{op:I1(t.op),filters:s}}}(n):Ce(54877,{filter:n})}function C1(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Qb(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,t,s,i,r=Oe.min(),o=Oe.min(),l=Zt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e){this.wt=e}}function R1(n){const e=b1({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?qu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(){this.Cn=new O1}addToCollectionParentIndex(e,t){return this.Cn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(Xi.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(Xi.min())}updateCollectionGroup(e,t,s){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class O1{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),i=this.index[t]||new Ht(Et.comparator),r=!i.has(s);return this.index[t]=i.add(s),r}has(e){const t=e.lastSegment(),s=e.popLast(),i=this.index[t];return i&&i.has(s)}getEntries(e){return(this.index[e]||new Ht(Et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Xb=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(Xb,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new aa(0)}static lr(){return new aa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="LruGarbageCollector",D1=1048576;function J_([n,e],[t,s]){const i=Fe(n,t);return i===0?Fe(e,s):i}class N1{constructor(e){this.Er=e,this.buffer=new Ht(J_),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();J_(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class k1{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){de(X_,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ba(t)?de(X_,"Ignoring IndexedDB error during garbage collection: ",t):await Ea(t)}await this.mr(3e5)})}}class x1{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return X.resolve(Ch.le);const s=new N1(t);return this.gr.forEachTarget(e,i=>s.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>s.Rr(i))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.gr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Q_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Q_):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let s,i,r,o,l,u,h;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,o=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(s=g,l=Date.now(),this.removeTargets(e,s,t))).next(g=>(r=g,u=Date.now(),this.removeOrphanedDocuments(e,s))).next(g=>(h=Date.now(),No()<=He.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${r} targets in `+(u-l)+`ms
	Removed ${g} documents in `+(h-u)+`ms
Total Duration: ${h-d}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:g})))}}function L1(n,e){return new x1(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(){this.changes=new to(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?X.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,t,s,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=i}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(s=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(s!==null&&Il(s.mutation,i,us.empty(),Bt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,We()).next(()=>s))}getLocalViewOfDocuments(e,t,s=We()){const i=Vr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,s).next(r=>{let o=hl();return r.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const s=Vr();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,We()))}populateOverlays(e,t,s){const i=[];return s.forEach(r=>{t.has(r)||i.push(r)}),this.documentOverlayCache.getOverlays(e,i).next(r=>{r.forEach((o,l)=>{t.set(o,l)})})}computeViews(e,t,s,i){let r=hi();const o=Al(),l=function(){return Al()}();return t.forEach((u,h)=>{const d=s.get(h.key);i.has(h.key)&&(d===void 0||d.mutation instanceof no)?r=r.insert(h.key,h):d!==void 0?(o.set(h.key,d.mutation.getFieldMask()),Il(d.mutation,h,d.mutation.getFieldMask(),Bt.now())):o.set(h.key,us.empty())}),this.recalculateAndSaveOverlays(e,r).next(u=>(u.forEach((h,d)=>o.set(h,d)),t.forEach((h,d)=>{var g;return l.set(h,new M1(d,(g=o.get(h))!==null&&g!==void 0?g:null))}),l))}recalculateAndSaveOverlays(e,t){const s=Al();let i=new At((o,l)=>o-l),r=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const l of o)l.keys().forEach(u=>{const h=t.get(u);if(h===null)return;let d=s.get(u)||us.empty();d=l.applyToLocalView(h,d),s.set(u,d);const g=(i.get(l.batchId)||We()).add(u);i=i.insert(l.batchId,g)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,d=u.value,g=Nb();d.forEach(v=>{if(!r.has(v)){const b=$b(t.get(v),s.get(v));b!==null&&g.set(v,b),r=r.add(v)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,g))}return X.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,i){return function(o){return be.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Sb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,i):this.getDocumentsMatchingCollectionQuery(e,t,s,i)}getNextDocuments(e,t,s,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,i).next(r=>{const o=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,i-r.size):X.resolve(Vr());let l=Fl,u=r;return o.next(h=>X.forEach(h,(d,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),r.get(d)?X.resolve():this.remoteDocumentCache.getEntry(e,d).next(v=>{u=u.insert(d,v)}))).next(()=>this.populateOverlays(e,h,r)).next(()=>this.computeViews(e,u,h,We())).next(d=>({batchId:l,changes:Db(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new be(t)).next(s=>{let i=hl();return s.isFoundDocument()&&(i=i.insert(s.key,s)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,s,i){const r=t.collectionGroup;let o=hl();return this.indexManager.getCollectionParents(e,r).next(l=>X.forEach(l,u=>{const h=function(g,v){return new Ta(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,u.child(r));return this.getDocumentsMatchingCollectionQuery(e,h,s,i).next(d=>{d.forEach((g,v)=>{o=o.insert(g,v)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,s,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,r,i))).next(o=>{r.forEach((u,h)=>{const d=h.getKey();o.get(d)===null&&(o=o.insert(d,an.newInvalidDocument(d)))});let l=hl();return o.forEach((u,h)=>{const d=r.get(u);d!==void 0&&Il(d.mutation,h,us.empty(),Bt.now()),Oh(t,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return X.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:ks(i.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:R1(i.bundledQuery),readTime:ks(i.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(){this.overlays=new At(be.comparator),this.Qr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Vr();return X.forEach(t,i=>this.getOverlay(e,i).next(r=>{r!==null&&s.set(i,r)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((i,r)=>{this.St(e,t,r)}),X.resolve()}removeOverlaysForBatchId(e,t,s){const i=this.Qr.get(s);return i!==void 0&&(i.forEach(r=>this.overlays=this.overlays.remove(r)),this.Qr.delete(s)),X.resolve()}getOverlaysForCollection(e,t,s){const i=Vr(),r=t.length+1,o=new be(t.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===r&&u.largestBatchId>s&&i.set(u.getKey(),u)}return X.resolve(i)}getOverlaysForCollectionGroup(e,t,s,i){let r=new At((h,d)=>h-d);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>s){let d=r.get(h.largestBatchId);d===null&&(d=Vr(),r=r.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const l=Vr(),u=r.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,d)=>l.set(h,d)),!(l.size()>=i)););return X.resolve(l)}St(e,t,s){const i=this.overlays.get(s.key);if(i!==null){const o=this.Qr.get(i.largestBatchId).delete(s.key);this.Qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new r1(t,s));let r=this.Qr.get(t);r===void 0&&(r=We(),this.Qr.set(t,r)),this.Qr.set(t,r.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(){this.$r=new Ht(Yt.Ur),this.Kr=new Ht(Yt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const s=new Yt(e,t);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.zr(new Yt(e,t))}jr(e,t){e.forEach(s=>this.removeReference(s,t))}Hr(e){const t=new be(new Et([])),s=new Yt(t,e),i=new Yt(t,e+1),r=[];return this.Kr.forEachInRange([s,i],o=>{this.zr(o),r.push(o.key)}),r}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new be(new Et([])),s=new Yt(t,e),i=new Yt(t,e+1);let r=We();return this.Kr.forEachInRange([s,i],o=>{r=r.add(o.key)}),r}containsKey(e){const t=new Yt(e,0),s=this.$r.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Yt{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return be.comparator(e.key,t.key)||Fe(e.Zr,t.Zr)}static Wr(e,t){return Fe(e.Zr,t.Zr)||be.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Ht(Yt.Ur)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,i){const r=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new i1(r,t,s,i);this.mutationQueue.push(o);for(const l of i)this.Xr=this.Xr.add(new Yt(l.key,r)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return X.resolve(o)}lookupMutationBatch(e,t){return X.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,i=this.ti(s),r=i<0?0:i;return X.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?vp:this.nr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Yt(t,0),i=new Yt(t,Number.POSITIVE_INFINITY),r=[];return this.Xr.forEachInRange([s,i],o=>{const l=this.ei(o.Zr);r.push(l)}),X.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ht(Fe);return t.forEach(i=>{const r=new Yt(i,0),o=new Yt(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([r,o],l=>{s=s.add(l.Zr)})}),X.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,i=s.length+1;let r=s;be.isDocumentKey(r)||(r=r.child(""));const o=new Yt(new be(r),0);let l=new Ht(Fe);return this.Xr.forEachWhile(u=>{const h=u.key.path;return!!s.isPrefixOf(h)&&(h.length===i&&(l=l.add(u.Zr)),!0)},o),X.resolve(this.ni(l))}ni(e){const t=[];return e.forEach(s=>{const i=this.ei(s);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){rt(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return X.forEach(t.mutations,i=>{const r=new Yt(i.key,t.batchId);return s=s.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,t){const s=new Yt(t,0),i=this.Xr.firstAfterOrEqual(s);return X.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e){this.ii=e,this.docs=function(){return new At(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,i=this.docs.get(s),r=i?i.size:0,o=this.ii(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return X.resolve(s?s.document.mutableCopy():an.newInvalidDocument(t))}getEntries(e,t){let s=hi();return t.forEach(i=>{const r=this.docs.get(i);s=s.insert(i,r?r.document.mutableCopy():an.newInvalidDocument(i))}),X.resolve(s)}getDocumentsMatchingQuery(e,t,s,i){let r=hi();const o=t.path,l=new be(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:d}}=u.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||yO(vO(d),s)<=0||(i.has(d.key)||Oh(t,d))&&(r=r.insert(d.key,d.mutableCopy()))}return X.resolve(r)}getAllFromCollectionGroup(e,t,s,i){Ce(9500)}si(e,t){return X.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new q1(this)}getSize(e){return X.resolve(this.size)}}class q1 extends V1{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((s,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(s)}),X.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e){this.persistence=e,this.oi=new to(t=>bp(t),Tp),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this._i=0,this.ai=new Sp,this.targetCount=0,this.ui=aa.cr()}forEachTarget(e,t){return this.oi.forEach((s,i)=>t(i)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this._i&&(this._i=t),X.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new aa(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Tr(t),X.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,s){let i=0;const r=[];return this.oi.forEach((o,l)=>{l.sequenceNumber<=t&&s.get(l.targetId)===null&&(this.oi.delete(o),r.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),X.waitFor(r).next(()=>i)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const s=this.oi.get(t)||null;return X.resolve(s)}addMatchingKeys(e,t,s){return this.ai.Gr(t,s),X.resolve()}removeMatchingKeys(e,t,s){this.ai.jr(t,s);const i=this.persistence.referenceDelegate,r=[];return i&&t.forEach(o=>{r.push(i.markPotentiallyOrphaned(e,o))}),X.waitFor(r)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ai.Yr(t);return X.resolve(s)}containsKey(e,t){return X.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e,t){this.ci={},this.overlays={},this.li=new Ch(0),this.hi=!1,this.hi=!0,this.Pi=new j1,this.referenceDelegate=e(this),this.Ti=new W1(this),this.indexManager=new P1,this.remoteDocumentCache=function(i){return new H1(i)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new S1(t),this.Ei=new F1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new U1,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ci[e.toKey()];return s||(s=new B1(t,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,s){de("MemoryPersistence","Starting transaction:",e);const i=new z1(this.li.next());return this.referenceDelegate.di(),s(i).next(r=>this.referenceDelegate.Ai(i).next(()=>r)).toPromise().then(r=>(i.raiseOnCommittedEvent(),r))}Ri(e,t){return X.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,t)))}}class z1 extends bO{constructor(e){super(),this.currentSequenceNumber=e}}class Rp{constructor(e){this.persistence=e,this.Vi=new Sp,this.mi=null}static fi(e){return new Rp(e)}get gi(){if(this.mi)return this.mi;throw Ce(60996)}addReference(e,t,s){return this.Vi.addReference(s,t),this.gi.delete(s.toString()),X.resolve()}removeReference(e,t,s){return this.Vi.removeReference(s,t),this.gi.add(s.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),X.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(r=>this.gi.add(r.toString()))}).next(()=>s.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.gi,s=>{const i=be.fromPath(s);return this.pi(e,i).next(r=>{r||t.removeEntry(i,Oe.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(s=>{s?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return X.or([()=>X.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Gu{constructor(e,t){this.persistence=e,this.yi=new to(s=>AO(s.path),(s,i)=>s.isEqual(i)),this.garbageCollector=L1(this,t)}static fi(e,t){return new Gu(e,t)}di(){}Ai(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(i=>s+i))}br(e){let t=0;return this.yr(e,s=>{t++}).next(()=>t)}yr(e,t){return X.forEach(this.yi,(s,i)=>this.Dr(e,s,i).next(r=>r?X.resolve():t(i)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const i=this.persistence.getRemoteDocumentCache(),r=i.newChangeBuffer();return i.si(e,o=>this.Dr(e,o,t).next(l=>{l||(s++,r.removeEntry(o,Oe.min()))})).next(()=>r.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.yi.set(s,e.currentSequenceNumber),X.resolve()}removeReference(e,t,s){return this.yi.set(s,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),X.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=mu(e.data.value)),t}Dr(e,t,s){return X.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.yi.get(t);return X.resolve(i!==void 0&&i>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,t,s,i){this.targetId=e,this.fromCache=t,this.ds=s,this.As=i}static Rs(e,t){let s=We(),i=We();for(const r of t.docChanges)switch(r.type){case 0:s=s.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new Pp(e,t.fromCache,s,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return qR()?8:TO(dn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,s,i){const r={result:null};return this.ws(e,t).next(o=>{r.result=o}).next(()=>{if(!r.result)return this.bs(e,t,i,s).next(o=>{r.result=o})}).next(()=>{if(r.result)return;const o=new K1;return this.Ss(e,t,o).next(l=>{if(r.result=l,this.fs)return this.Ds(e,t,o,l.size)})}).next(()=>r.result)}Ds(e,t,s,i){return s.documentReadCount<this.gs?(No()<=He.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",ko(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),X.resolve()):(No()<=He.DEBUG&&de("QueryEngine","Query:",ko(t),"scans",s.documentReadCount,"local documents and returns",i,"documents as results."),s.documentReadCount>this.ps*i?(No()<=He.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",ko(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ns(t))):X.resolve())}ws(e,t){if(U_(t))return X.resolve(null);let s=Ns(t);return this.indexManager.getIndexType(e,s).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=qu(t,null,"F"),s=Ns(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(r=>{const o=We(...r);return this.ys.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,s).next(u=>{const h=this.vs(t,l);return this.Cs(t,h,o,u.readTime)?this.ws(e,qu(t,null,"F")):this.Fs(e,h,t,u)}))})))}bs(e,t,s,i){return U_(t)||i.isEqual(Oe.min())?X.resolve(null):this.ys.getDocuments(e,s).next(r=>{const o=this.vs(t,r);return this.Cs(t,o,s,i)?X.resolve(null):(No()<=He.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ko(t)),this.Fs(e,o,t,_O(i,Fl)).next(l=>l))})}vs(e,t){let s=new Ht(Pb(e));return t.forEach((i,r)=>{Oh(e,r)&&(s=s.add(r))}),s}Cs(e,t,s,i){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const r=e.limitType==="F"?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Ss(e,t,s){return No()<=He.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",ko(t)),this.ys.getDocumentsMatchingQuery(e,t,Xi.min(),s)}Fs(e,t,s,i){return this.ys.getDocumentsMatchingQuery(e,s,i).next(r=>(t.forEach(o=>{r=r.insert(o.key,o)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="LocalStore",Y1=3e8;class Q1{constructor(e,t,s,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new At(Fe),this.Os=new to(r=>bp(r),Tp),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $1(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function X1(n,e,t,s){return new Q1(n,e,t,s)}async function Zb(n,e){const t=ke(n);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let i;return t.mutationQueue.getAllMutationBatches(s).next(r=>(i=r,t.Ls(e),t.mutationQueue.getAllMutationBatches(s))).next(r=>{const o=[],l=[];let u=We();for(const h of i){o.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}for(const h of r){l.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}return t.localDocuments.getDocuments(s,u).next(h=>({ks:h,removedBatchIds:o,addedBatchIds:l}))})})}function J1(n,e){const t=ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const i=e.batch.keys(),r=t.Bs.newChangeBuffer({trackRemovals:!0});return function(l,u,h,d){const g=h.batch,v=g.keys();let b=X.resolve();return v.forEach(k=>{b=b.next(()=>d.getEntry(u,k)).next(L=>{const M=h.docVersions.get(k);rt(M!==null,48541),L.version.compareTo(M)<0&&(g.applyToRemoteDocument(L,h),L.isValidDocument()&&(L.setReadTime(h.commitVersion),d.addEntry(L)))})}),b.next(()=>l.mutationQueue.removeMutationBatch(u,g))}(t,s,e,r).next(()=>r.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(l){let u=We();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(e))).next(()=>t.localDocuments.getDocuments(s,i))})}function eT(n){const e=ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function Z1(n,e){const t=ke(n),s=e.snapshotVersion;let i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const o=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;const l=[];e.targetChanges.forEach((d,g)=>{const v=i.get(g);if(!v)return;l.push(t.Ti.removeMatchingKeys(r,d.removedDocuments,g).next(()=>t.Ti.addMatchingKeys(r,d.addedDocuments,g)));let b=v.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(g)!==null?b=b.withResumeToken(Zt.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):d.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(d.resumeToken,s)),i=i.insert(g,b),function(L,M,U){return L.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=Y1?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(v,b,d)&&l.push(t.Ti.updateTargetData(r,b))});let u=hi(),h=We();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(t.persistence.referenceDelegate.updateLimboDocument(r,d))}),l.push(eD(r,o,e.documentUpdates).next(d=>{u=d.qs,h=d.Qs})),!s.isEqual(Oe.min())){const d=t.Ti.getLastRemoteSnapshotVersion(r).next(g=>t.Ti.setTargetsMetadata(r,r.currentSequenceNumber,s));l.push(d)}return X.waitFor(l).next(()=>o.apply(r)).next(()=>t.localDocuments.getLocalViewOfDocuments(r,u,h)).next(()=>u)}).then(r=>(t.xs=i,r))}function eD(n,e,t){let s=We(),i=We();return t.forEach(r=>s=s.add(r)),e.getEntries(n,s).next(r=>{let o=hi();return t.forEach((l,u)=>{const h=r.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(Oe.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):de(Op,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{qs:o,Qs:i}})}function tD(n,e){const t=ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=vp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function nD(n,e){const t=ke(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let i;return t.Ti.getTargetData(s,e).next(r=>r?(i=r,X.resolve(i)):t.Ti.allocateTargetId(s).next(o=>(i=new Hi(e,o,"TargetPurposeListen",s.currentSequenceNumber),t.Ti.addTargetData(s,i).next(()=>i))))}).then(s=>{const i=t.xs.get(s.targetId);return(i===null||s.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(s.targetId,s),t.Os.set(e,s.targetId)),s})}async function Lf(n,e,t){const s=ke(n),i=s.xs.get(e),r=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",r,o=>s.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ba(o))throw o;de(Op,`Failed to update sequence numbers for target ${e}: ${o}`)}s.xs=s.xs.remove(e),s.Os.delete(i.target)}function Z_(n,e,t){const s=ke(n);let i=Oe.min(),r=We();return s.persistence.runTransaction("Execute query","readwrite",o=>function(u,h,d){const g=ke(u),v=g.Os.get(d);return v!==void 0?X.resolve(g.xs.get(v)):g.Ti.getTargetData(h,d)}(s,o,Ns(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(o,l.targetId).next(u=>{r=u})}).next(()=>s.Ms.getDocumentsMatchingQuery(o,e,t?i:Oe.min(),t?r:We())).next(l=>(sD(s,HO(e),l),{documents:l,$s:r})))}function sD(n,e,t){let s=n.Ns.get(e)||Oe.min();t.forEach((i,r)=>{r.readTime.compareTo(s)>0&&(s=r.readTime)}),n.Ns.set(e,s)}class ev{constructor(){this.activeTargetIds=YO()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iD{constructor(){this.xo=new ev,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,s){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new ev,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="ConnectivityMonitor";class nv{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){de(tv,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){de(tv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jc=null;function Vf(){return Jc===null?Jc=function(){return 268435456+Math.round(2147483648*Math.random())}():Jc++,"0x"+Jc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="RestConnection",oD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aD{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${s}/databases/${i}`,this.Go=this.databaseId.database===ju?`project_id=${s}`:`project_id=${s}&database_id=${i}`}zo(e,t,s,i,r){const o=Vf(),l=this.jo(e,t.toUriEncodedString());de(Md,`Sending RPC '${e}' ${o}:`,l,s);const u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,i,r);const{host:h}=new URL(l),d=_a(h);return this.Jo(e,l,u,s,d).then(g=>(de(Md,`Received RPC '${e}' ${o}: `,g),g),g=>{throw sa(Md,`RPC '${e}' ${o} failed with error: `,g,"url: ",l,"request:",s),g})}Yo(e,t,s,i,r,o){return this.zo(e,t,s,i,r)}Ho(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ya}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,r)=>e[r]=i),s&&s.headers.forEach((i,r)=>e[r]=i)}jo(e,t){const s=oD[e];return`${this.Ko}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="WebChannelConnection";class cD extends aD{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,i,r){const o=Vf();return new Promise((l,u)=>{const h=new tb;h.setWithCredentials(!0),h.listenOnce(nb.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case pu.NO_ERROR:const g=h.getResponseJson();de(nn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),l(g);break;case pu.TIMEOUT:de(nn,`RPC '${e}' ${o} timed out`),u(new _e(J.DEADLINE_EXCEEDED,"Request time out"));break;case pu.HTTP_ERROR:const v=h.getStatus();if(de(nn,`RPC '${e}' ${o} failed with status:`,v,"response text:",h.getResponseText()),v>0){let b=h.getResponseJson();Array.isArray(b)&&(b=b[0]);const k=b==null?void 0:b.error;if(k&&k.status&&k.message){const L=function(U){const F=U.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(F)>=0?F:J.UNKNOWN}(k.status);u(new _e(L,k.message))}else u(new _e(J.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new _e(J.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{h_:e,streamId:o,P_:h.getLastErrorCode(),T_:h.getLastError()})}}finally{de(nn,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);de(nn,`RPC '${e}' ${o} sending request:`,i),h.send(t,"POST",d,s,15)})}I_(e,t,s){const i=Vf(),r=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=rb(),l=ib(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,t,s),u.encodeInitMessageHeaders=!0;const d=r.join("");de(nn,`Creating RPC '${e}' stream ${i}: ${d}`,u);const g=o.createWebChannel(d,u);this.E_(g);let v=!1,b=!1;const k=new lD({Zo:M=>{b?de(nn,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(v||(de(nn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),v=!0),de(nn,`RPC '${e}' stream ${i} sending:`,M),g.send(M))},Xo:()=>g.close()}),L=(M,U,F)=>{M.listen(U,K=>{try{F(K)}catch(H){setTimeout(()=>{throw H},0)}})};return L(g,ul.EventType.OPEN,()=>{b||(de(nn,`RPC '${e}' stream ${i} transport opened.`),k.__())}),L(g,ul.EventType.CLOSE,()=>{b||(b=!0,de(nn,`RPC '${e}' stream ${i} transport closed`),k.u_(),this.d_(g))}),L(g,ul.EventType.ERROR,M=>{b||(b=!0,sa(nn,`RPC '${e}' stream ${i} transport errored. Name:`,M.name,"Message:",M.message),k.u_(new _e(J.UNAVAILABLE,"The operation could not be completed")))}),L(g,ul.EventType.MESSAGE,M=>{var U;if(!b){const F=M.data[0];rt(!!F,16349);const K=F,H=(K==null?void 0:K.error)||((U=K[0])===null||U===void 0?void 0:U.error);if(H){de(nn,`RPC '${e}' stream ${i} received error:`,H);const ce=H.status;let he=function(A){const R=xt[A];if(R!==void 0)return jb(R)}(ce),S=H.message;he===void 0&&(he=J.INTERNAL,S="Unknown error status: "+ce+" with message "+H.message),b=!0,k.u_(new _e(he,S)),g.close()}else de(nn,`RPC '${e}' stream ${i} received:`,F),k.c_(F)}}),L(l,sb.STAT_EVENT,M=>{M.stat===Af.PROXY?de(nn,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===Af.NOPROXY&&de(nn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{k.a_()},0),k}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function $d(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(n){return new f1(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,t,s=1e3,i=1.5,r=6e4){this.xi=e,this.timerId=t,this.A_=s,this.R_=i,this.V_=r,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),i=Math.max(0,t-s);i>0&&de("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="PersistentStream";class nT{constructor(e,t,s,i,r,o,l,u){this.xi=e,this.S_=s,this.D_=i,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new tT(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(ui(t.toString()),ui("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,i])=>{this.v_===t&&this.z_(s,i)},s=>{e(()=>{const i=new _e(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(i)})})}z_(e,t){const s=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{s(()=>this.j_(i))}),this.stream.onMessage(i=>{s(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return de(sv,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(de(sv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uD extends nT{constructor(e,t,s,i,r,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,i,o),this.serializer=r}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=g1(this.serializer,e),s=function(r){if(!("targetChange"in r))return Oe.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Oe.min():o.readTime?ks(o.readTime):Oe.min()}(e);return this.listener.Y_(t,s)}Z_(e){const t={};t.database=xf(this.serializer),t.addTarget=function(r,o){let l;const u=o.target;if(l=Pf(u)?{documents:y1(r,u)}:{query:E1(r,u).gt},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=qb(r,o.resumeToken);const h=Df(r,o.expectedCount);h!==null&&(l.expectedCount=h)}else if(o.snapshotVersion.compareTo(Oe.min())>0){l.readTime=Ku(r,o.snapshotVersion.toTimestamp());const h=Df(r,o.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const s=T1(this.serializer,e);s&&(t.labels=s),this.Q_(t)}X_(e){const t={};t.database=xf(this.serializer),t.removeTarget=e,this.Q_(t)}}class hD extends nT{constructor(e,t,s,i,r,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,i,o),this.serializer=r}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=v1(e.writeResults,e.commitTime),s=ks(e.commitTime);return this.listener.ra(s,t)}ia(){const e={};e.database=xf(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>_1(this.serializer,s))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{}class fD extends dD{constructor(e,t,s,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new _e(J.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,s,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.zo(e,Nf(t,s),i,r,o)).catch(r=>{throw r.name==="FirebaseError"?(r.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new _e(J.UNKNOWN,r.toString())})}Yo(e,t,s,i,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Yo(e,Nf(t,s),i,o,l,r)).catch(o=>{throw o.name==="FirebaseError"?(o.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new _e(J.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class pD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ui(t),this.ua=!1):de("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr="RemoteStore";class mD{constructor(e,t,s,i,r){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=r,this.Ra.No(o=>{s.enqueueAndForget(async()=>{so(this)&&(de(Kr,"Restarting streams for network reachability change."),await async function(u){const h=ke(u);h.da.add(4),await sc(h),h.Va.set("Unknown"),h.da.delete(4),await Lh(h)}(this))})}),this.Va=new pD(s,i)}}async function Lh(n){if(so(n))for(const e of n.Aa)await e(!0)}async function sc(n){for(const e of n.Aa)await e(!1)}function sT(n,e){const t=ke(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),xp(t)?kp(t):wa(t).N_()&&Np(t,e))}function Dp(n,e){const t=ke(n),s=wa(t);t.Ea.delete(e),s.N_()&&iT(t,e),t.Ea.size===0&&(s.N_()?s.k_():so(t)&&t.Va.set("Unknown"))}function Np(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}wa(n).Z_(e)}function iT(n,e){n.ma.Ke(e),wa(n).X_(e)}function kp(n){n.ma=new c1({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),wa(n).start(),n.Va.ca()}function xp(n){return so(n)&&!wa(n).O_()&&n.Ea.size>0}function so(n){return ke(n).da.size===0}function rT(n){n.ma=void 0}async function gD(n){n.Va.set("Online")}async function _D(n){n.Ea.forEach((e,t)=>{Np(n,e)})}async function vD(n,e){rT(n),xp(n)?(n.Va.Pa(e),kp(n)):n.Va.set("Unknown")}async function yD(n,e,t){if(n.Va.set("Online"),e instanceof Hb&&e.state===2&&e.cause)try{await async function(i,r){const o=r.cause;for(const l of r.targetIds)i.Ea.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ea.delete(l),i.ma.removeTarget(l))}(n,e)}catch(s){de(Kr,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Yu(n,s)}else if(e instanceof vu?n.ma.Xe(e):e instanceof Bb?n.ma.ot(e):n.ma.nt(e),!t.isEqual(Oe.min()))try{const s=await eT(n.localStore);t.compareTo(s)>=0&&await function(r,o){const l=r.ma.It(o);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=r.Ea.get(h);d&&r.Ea.set(h,d.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,h)=>{const d=r.Ea.get(u);if(!d)return;r.Ea.set(u,d.withResumeToken(Zt.EMPTY_BYTE_STRING,d.snapshotVersion)),iT(r,u);const g=new Hi(d.target,u,h,d.sequenceNumber);Np(r,g)}),r.remoteSyncer.applyRemoteEvent(l)}(n,t)}catch(s){de(Kr,"Failed to raise snapshot:",s),await Yu(n,s)}}async function Yu(n,e,t){if(!ba(e))throw e;n.da.add(1),await sc(n),n.Va.set("Offline"),t||(t=()=>eT(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{de(Kr,"Retrying IndexedDB access"),await t(),n.da.delete(1),await Lh(n)})}function oT(n,e){return e().catch(t=>Yu(n,t,e))}async function Vh(n){const e=ke(n),t=tr(e);let s=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:vp;for(;ED(e);)try{const i=await tD(e.localStore,s);if(i===null){e.Ia.length===0&&t.k_();break}s=i.batchId,bD(e,i)}catch(i){await Yu(e,i)}aT(e)&&lT(e)}function ED(n){return so(n)&&n.Ia.length<10}function bD(n,e){n.Ia.push(e);const t=tr(n);t.N_()&&t.ea&&t.ta(e.mutations)}function aT(n){return so(n)&&!tr(n).O_()&&n.Ia.length>0}function lT(n){tr(n).start()}async function TD(n){tr(n).ia()}async function wD(n){const e=tr(n);for(const t of n.Ia)e.ta(t.mutations)}async function AD(n,e,t){const s=n.Ia.shift(),i=Ap.from(s,e,t);await oT(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Vh(n)}async function ID(n,e){e&&tr(n).ea&&await async function(s,i){if(function(o){return a1(o)&&o!==J.ABORTED}(i.code)){const r=s.Ia.shift();tr(s).L_(),await oT(s,()=>s.remoteSyncer.rejectFailedWrite(r.batchId,i)),await Vh(s)}}(n,e),aT(n)&&lT(n)}async function iv(n,e){const t=ke(n);t.asyncQueue.verifyOperationInProgress(),de(Kr,"RemoteStore received new credentials");const s=so(t);t.da.add(3),await sc(t),s&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await Lh(t)}async function CD(n,e){const t=ke(n);e?(t.da.delete(2),await Lh(t)):e||(t.da.add(2),await sc(t),t.Va.set("Unknown"))}function wa(n){return n.fa||(n.fa=function(t,s,i){const r=ke(t);return r.oa(),new uD(s,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{e_:gD.bind(null,n),n_:_D.bind(null,n),i_:vD.bind(null,n),Y_:yD.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),xp(n)?kp(n):n.Va.set("Unknown")):(await n.fa.stop(),rT(n))})),n.fa}function tr(n){return n.ga||(n.ga=function(t,s,i){const r=ke(t);return r.oa(),new hD(s,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:TD.bind(null,n),i_:ID.bind(null,n),na:wD.bind(null,n),ra:AD.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await Vh(n)):(await n.ga.stop(),n.Ia.length>0&&(de(Kr,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,t,s,i,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=i,this.removalCallback=r,this.deferred=new Yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,i,r){const o=Date.now()+s,l=new Lp(e,t,o,i,r);return l.start(s),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vp(n,e){if(ui("AsyncQueue",`${e}: ${n}`),ba(n))return new _e(J.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{static emptySet(e){return new Yo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||be.comparator(t.key,s.key):(t,s)=>be.comparator(t.key,s.key),this.keyedMap=hl(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Yo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,r=s.getNext().key;if(!i.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Yo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(){this.pa=new At(be.comparator)}track(e){const t=e.doc.key,s=this.pa.get(t);s?e.type!==0&&s.type===3?this.pa=this.pa.insert(t,e):e.type===3&&s.type!==1?this.pa=this.pa.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.pa=this.pa.remove(t):e.type===1&&s.type===2?this.pa=this.pa.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Ce(63341,{Vt:e,ya:s}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,s)=>{e.push(s)}),e}}class la{constructor(e,t,s,i,r,o,l,u,h){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=i,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,t,s,i,r){const o=[];return t.forEach(l=>{o.push({type:0,doc:l})}),new la(e,t,Yo.emptySet(t),o,s,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==s[i].type||!t[i].doc.isEqual(s[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class RD{constructor(){this.queries=ov(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const i=ke(t),r=i.queries;i.queries=ov(),r.forEach((o,l)=>{for(const u of l.Sa)u.onError(s)})})(this,new _e(J.ABORTED,"Firestore shutting down"))}}function ov(){return new to(n=>Rb(n),Ph)}async function PD(n,e){const t=ke(n);let s=3;const i=e.query;let r=t.queries.get(i);r?!r.Da()&&e.va()&&(s=2):(r=new SD,s=e.va()?0:1);try{switch(s){case 0:r.ba=await t.onListen(i,!0);break;case 1:r.ba=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(o){const l=Vp(o,`Initialization of query '${ko(e.query)}' failed`);return void e.onError(l)}t.queries.set(i,r),r.Sa.push(e),e.Fa(t.onlineState),r.ba&&e.Ma(r.ba)&&Mp(t)}async function OD(n,e){const t=ke(n),s=e.query;let i=3;const r=t.queries.get(s);if(r){const o=r.Sa.indexOf(e);o>=0&&(r.Sa.splice(o,1),r.Sa.length===0?i=e.va()?0:1:!r.Da()&&e.va()&&(i=2))}switch(i){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function DD(n,e){const t=ke(n);let s=!1;for(const i of e){const r=i.query,o=t.queries.get(r);if(o){for(const l of o.Sa)l.Ma(i)&&(s=!0);o.ba=i}}s&&Mp(t)}function ND(n,e,t){const s=ke(n),i=s.queries.get(e);if(i)for(const r of i.Sa)r.onError(t);s.queries.delete(e)}function Mp(n){n.Ca.forEach(e=>{e.next()})}var Mf,av;(av=Mf||(Mf={})).xa="default",av.Cache="cache";class kD{constructor(e,t,s){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(e){if(!this.options.includeMetadataChanges){const s=[];for(const i of e.docChanges)i.type!==3&&s.push(i);e=new la(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const s=t!=="Offline";return(!this.options.Qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=la.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Mf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e){this.key=e}}class uT{constructor(e){this.key=e}}class xD{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=We(),this.mutatedKeys=We(),this.Za=Pb(e),this.Xa=new Yo(this.Za)}get eu(){return this.Ha}tu(e,t){const s=t?t.nu:new rv,i=t?t.Xa:this.Xa;let r=t?t.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,g)=>{const v=i.get(d),b=Oh(this.query,g)?g:null,k=!!v&&this.mutatedKeys.has(v.key),L=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let M=!1;v&&b?v.data.isEqual(b.data)?k!==L&&(s.track({type:3,doc:b}),M=!0):this.ru(v,b)||(s.track({type:2,doc:b}),M=!0,(u&&this.Za(b,u)>0||h&&this.Za(b,h)<0)&&(l=!0)):!v&&b?(s.track({type:0,doc:b}),M=!0):v&&!b&&(s.track({type:1,doc:v}),M=!0,(u||h)&&(l=!0)),M&&(b?(o=o.add(b),r=L?r.add(d):r.delete(d)):(o=o.delete(d),r=r.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),r=r.delete(d.key),s.track({type:1,doc:d})}return{Xa:o,nu:s,Cs:l,mutatedKeys:r}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,i){const r=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const o=e.nu.wa();o.sort((d,g)=>function(b,k){const L=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Vt:M})}};return L(b)-L(k)}(d.type,g.type)||this.Za(d.doc,g.doc)),this.iu(s),i=i!=null&&i;const l=t&&!i?this.su():[],u=this.Ya.size===0&&this.current&&!i?1:0,h=u!==this.Ja;return this.Ja=u,o.length!==0||h?{snapshot:new la(this.query,e.Xa,r,o,e.mutatedKeys,u===0,h,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new rv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=We(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const t=[];return e.forEach(s=>{this.Ya.has(s)||t.push(new uT(s))}),this.Ya.forEach(s=>{e.has(s)||t.push(new cT(s))}),t}au(e){this.Ha=e.$s,this.Ya=We();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return la.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const $p="SyncEngine";class LD{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class VD{constructor(e){this.key=e,this.cu=!1}}class MD{constructor(e,t,s,i,r,o){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new to(l=>Rb(l),Ph),this.Pu=new Map,this.Tu=new Set,this.Iu=new At(be.comparator),this.Eu=new Map,this.du=new Sp,this.Au={},this.Ru=new Map,this.Vu=aa.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function $D(n,e,t=!0){const s=gT(n);let i;const r=s.hu.get(e);return r?(s.sharedClientState.addLocalQueryTarget(r.targetId),i=r.view.uu()):i=await hT(s,e,t,!0),i}async function FD(n,e){const t=gT(n);await hT(t,e,!0,!1)}async function hT(n,e,t,s){const i=await nD(n.localStore,Ns(e)),r=i.targetId,o=n.sharedClientState.addLocalQueryTarget(r,t);let l;return s&&(l=await UD(n,e,r,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&sT(n.remoteStore,i),l}async function UD(n,e,t,s,i){n.fu=(g,v,b)=>async function(L,M,U,F){let K=M.view.tu(U);K.Cs&&(K=await Z_(L.localStore,M.query,!1).then(({documents:S})=>M.view.tu(S,K)));const H=F&&F.targetChanges.get(M.targetId),ce=F&&F.targetMismatches.get(M.targetId)!=null,he=M.view.applyChanges(K,L.isPrimaryClient,H,ce);return cv(L,M.targetId,he.ou),he.snapshot}(n,g,v,b);const r=await Z_(n.localStore,e,!0),o=new xD(e,r.$s),l=o.tu(r.documents),u=nc.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",i),h=o.applyChanges(l,n.isPrimaryClient,u);cv(n,t,h.ou);const d=new LD(e,t,o);return n.hu.set(e,d),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),h.snapshot}async function jD(n,e,t){const s=ke(n),i=s.hu.get(e),r=s.Pu.get(i.targetId);if(r.length>1)return s.Pu.set(i.targetId,r.filter(o=>!Ph(o,e))),void s.hu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(i.targetId),s.sharedClientState.isActiveQueryTarget(i.targetId)||await Lf(s.localStore,i.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(i.targetId),t&&Dp(s.remoteStore,i.targetId),$f(s,i.targetId)}).catch(Ea)):($f(s,i.targetId),await Lf(s.localStore,i.targetId,!0))}async function BD(n,e){const t=ke(n),s=t.hu.get(e),i=t.Pu.get(s.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Dp(t.remoteStore,s.targetId))}async function HD(n,e,t){const s=QD(n);try{const i=await function(o,l){const u=ke(o),h=Bt.now(),d=l.reduce((b,k)=>b.add(k.key),We());let g,v;return u.persistence.runTransaction("Locally write mutations","readwrite",b=>{let k=hi(),L=We();return u.Bs.getEntries(b,d).next(M=>{k=M,k.forEach((U,F)=>{F.isValidDocument()||(L=L.add(U))})}).next(()=>u.localDocuments.getOverlayedDocuments(b,k)).next(M=>{g=M;const U=[];for(const F of l){const K=n1(F,g.get(F.key).overlayedDocument);K!=null&&U.push(new no(F.key,K,yb(K.value.mapValue),ri.exists(!0)))}return u.mutationQueue.addMutationBatch(b,h,U,l)}).next(M=>{v=M;const U=M.applyToLocalDocumentSet(g,L);return u.documentOverlayCache.saveOverlays(b,M.batchId,U)})}).then(()=>({batchId:v.batchId,changes:Db(g)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let h=o.Au[o.currentUser.toKey()];h||(h=new At(Fe)),h=h.insert(l,u),o.Au[o.currentUser.toKey()]=h}(s,i.batchId,t),await ic(s,i.changes),await Vh(s.remoteStore)}catch(i){const r=Vp(i,"Failed to persist write");t.reject(r)}}async function dT(n,e){const t=ke(n);try{const s=await Z1(t.localStore,e);e.targetChanges.forEach((i,r)=>{const o=t.Eu.get(r);o&&(rt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.cu=!0:i.modifiedDocuments.size>0?rt(o.cu,14607):i.removedDocuments.size>0&&(rt(o.cu,42227),o.cu=!1))}),await ic(t,s,e)}catch(s){await Ea(s)}}function lv(n,e,t){const s=ke(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const i=[];s.hu.forEach((r,o)=>{const l=o.view.Fa(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=ke(o);u.onlineState=l;let h=!1;u.queries.forEach((d,g)=>{for(const v of g.Sa)v.Fa(l)&&(h=!0)}),h&&Mp(u)}(s.eventManager,e),i.length&&s.lu.Y_(i),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function qD(n,e,t){const s=ke(n);s.sharedClientState.updateQueryState(e,"rejected",t);const i=s.Eu.get(e),r=i&&i.key;if(r){let o=new At(be.comparator);o=o.insert(r,an.newNoDocument(r,Oe.min()));const l=We().add(r),u=new kh(Oe.min(),new Map,new At(Fe),o,l);await dT(s,u),s.Iu=s.Iu.remove(r),s.Eu.delete(e),Fp(s)}else await Lf(s.localStore,e,!1).then(()=>$f(s,e,t)).catch(Ea)}async function WD(n,e){const t=ke(n),s=e.batch.batchId;try{const i=await J1(t.localStore,e);pT(t,s,null),fT(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await ic(t,i)}catch(i){await Ea(i)}}async function zD(n,e,t){const s=ke(n);try{const i=await function(o,l){const u=ke(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return u.mutationQueue.lookupMutationBatch(h,l).next(g=>(rt(g!==null,37113),d=g.keys(),u.mutationQueue.removeMutationBatch(h,g))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>u.localDocuments.getDocuments(h,d))})}(s.localStore,e);pT(s,e,t),fT(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await ic(s,i)}catch(i){await Ea(i)}}function fT(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function pT(n,e,t){const s=ke(n);let i=s.Au[s.currentUser.toKey()];if(i){const r=i.get(e);r&&(t?r.reject(t):r.resolve(),i=i.remove(e)),s.Au[s.currentUser.toKey()]=i}}function $f(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Pu.get(e))n.hu.delete(s),t&&n.lu.gu(s,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(s=>{n.du.containsKey(s)||mT(n,s)})}function mT(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(Dp(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),Fp(n))}function cv(n,e,t){for(const s of t)s instanceof cT?(n.du.addReference(s.key,e),KD(n,s)):s instanceof uT?(de($p,"Document no longer in limbo: "+s.key),n.du.removeReference(s.key,e),n.du.containsKey(s.key)||mT(n,s.key)):Ce(19791,{pu:s})}function KD(n,e){const t=e.key,s=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(s)||(de($p,"New document in limbo: "+t),n.Tu.add(s),Fp(n))}function Fp(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new be(Et.fromString(e)),s=n.Vu.next();n.Eu.set(s,new VD(t)),n.Iu=n.Iu.insert(t,s),sT(n.remoteStore,new Hi(Ns(Cb(t.path)),s,"TargetPurposeLimboResolution",Ch.le))}}async function ic(n,e,t){const s=ke(n),i=[],r=[],o=[];s.hu.isEmpty()||(s.hu.forEach((l,u)=>{o.push(s.fu(u,e,t).then(h=>{var d;if((h||t)&&s.isPrimaryClient){const g=h?!h.fromCache:(d=t==null?void 0:t.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;s.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(h){i.push(h);const g=Pp.Rs(u.targetId,h);r.push(g)}}))}),await Promise.all(o),s.lu.Y_(i),await async function(u,h){const d=ke(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>X.forEach(h,v=>X.forEach(v.ds,b=>d.persistence.referenceDelegate.addReference(g,v.targetId,b)).next(()=>X.forEach(v.As,b=>d.persistence.referenceDelegate.removeReference(g,v.targetId,b)))))}catch(g){if(!ba(g))throw g;de(Op,"Failed to update sequence numbers: "+g)}for(const g of h){const v=g.targetId;if(!g.fromCache){const b=d.xs.get(v),k=b.snapshotVersion,L=b.withLastLimboFreeSnapshotVersion(k);d.xs=d.xs.insert(v,L)}}}(s.localStore,r))}async function GD(n,e){const t=ke(n);if(!t.currentUser.isEqual(e)){de($p,"User change. New user:",e.toKey());const s=await Zb(t.localStore,e);t.currentUser=e,function(r,o){r.Ru.forEach(l=>{l.forEach(u=>{u.reject(new _e(J.CANCELLED,o))})}),r.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ic(t,s.ks)}}function YD(n,e){const t=ke(n),s=t.Eu.get(e);if(s&&s.cu)return We().add(s.key);{let i=We();const r=t.Pu.get(e);if(!r)return i;for(const o of r){const l=t.hu.get(o);i=i.unionWith(l.view.eu)}return i}}function gT(n){const e=ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=dT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qD.bind(null,e),e.lu.Y_=DD.bind(null,e.eventManager),e.lu.gu=ND.bind(null,e.eventManager),e}function QD(n){const e=ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zD.bind(null,e),e}class Qu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return X1(this.persistence,new G1,e.initialUser,this.serializer)}Su(e){return new Jb(Rp.fi,this.serializer)}bu(e){return new iD}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qu.provider={build:()=>new Qu};class XD extends Qu{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){rt(this.persistence.referenceDelegate instanceof Gu,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new k1(s,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new Jb(s=>Gu.fi(s,t),this.serializer)}}class Ff{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>lv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=GD.bind(null,this.syncEngine),await CD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new RD}()}createDatastore(e){const t=xh(e.databaseInfo.databaseId),s=function(r){return new cD(r)}(e.databaseInfo);return function(r,o,l,u){return new fD(r,o,l,u)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,i,r,o,l){return new mD(s,i,r,o,l)}(this.localStore,this.datastore,e.asyncQueue,t=>lv(this.syncEngine,t,0),function(){return nv.C()?new nv:new rD}())}createSyncEngine(e,t){return function(i,r,o,l,u,h,d){const g=new MD(i,r,o,l,u,h);return d&&(g.mu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const r=ke(i);de(Kr,"RemoteStore shutting down."),r.da.add(5),await sc(r),r.Ra.shutdown(),r.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Ff.provider={build:()=>new Ff};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):ui("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr="FirestoreClient";class ZD{constructor(e,t,s,i,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=i,this.user=sn.UNAUTHENTICATED,this.clientId=cb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(s,async o=>{de(nr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(s,o=>(de(nr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Vp(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Fd(n,e){n.asyncQueue.verifyOperationInProgress(),de(nr,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(async i=>{s.isEqual(i)||(await Zb(e.localStore,i),s=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function uv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await eN(n);de(nr,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(s=>iv(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,i)=>iv(e.remoteStore,i)),n._onlineComponents=e}async function eN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de(nr,"Using user provided OfflineComponentProvider");try{await Fd(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===J.FAILED_PRECONDITION||i.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;sa("Error using user provided cache. Falling back to memory cache: "+t),await Fd(n,new Qu)}}else de(nr,"Using default OfflineComponentProvider"),await Fd(n,new XD(void 0));return n._offlineComponents}async function _T(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de(nr,"Using user provided OnlineComponentProvider"),await uv(n,n._uninitializedComponentsProvider._online)):(de(nr,"Using default OnlineComponentProvider"),await uv(n,new Ff))),n._onlineComponents}function tN(n){return _T(n).then(e=>e.syncEngine)}async function nN(n){const e=await _T(n),t=e.eventManager;return t.onListen=$D.bind(null,e.syncEngine),t.onUnlisten=jD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=FD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=BD.bind(null,e.syncEngine),t}function sN(n,e,t={}){const s=new Yi;return n.asyncQueue.enqueueAndForget(async()=>function(r,o,l,u,h){const d=new JD({next:v=>{d.xu(),o.enqueueAndForget(()=>OD(r,g)),v.fromCache&&u.source==="server"?h.reject(new _e(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(v)},error:v=>h.reject(v)}),g=new kD(l,d,{includeMetadataChanges:!0,Qa:!0});return PD(r,g)}(await nN(n),n.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(n,e,t){if(!t)throw new _e(J.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function iN(n,e,t,s){if(e===!0&&s===!0)throw new _e(J.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function dv(n){if(!be.isDocumentKey(n))throw new _e(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function fv(n){if(be.isDocumentKey(n))throw new _e(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Mh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ce(12329,{type:typeof n})}function zl(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new _e(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Mh(n);throw new _e(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="firestore.googleapis.com",pv=!0;class mv{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ET,this.ssl=pv}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:pv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Xb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<D1)throw new _e(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vT((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new _e(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new _e(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new _e(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,i){return s.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $h{constructor(e,t,s,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new lO;switch(s.type){case"firstParty":return new dO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new _e(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=hv.get(t);s&&(de("ComponentProvider","Removing Datastore"),hv.delete(t),s.terminate())}(this),Promise.resolve()}}function rN(n,e,t,s={}){var i;n=zl(n,$h);const r=_a(e),o=n._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;r&&(zE(`https://${u}`),KE("Firestore",!0)),o.host!==ET&&o.host!==u&&sa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},o),{host:u,ssl:r,emulatorOptions:s});if(!qr(h,l)&&(n._setSettings(h),s.mockUserToken)){let d,g;if(typeof s.mockUserToken=="string")d=s.mockUserToken,g=sn.MOCK_USER;else{d=LR(s.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new _e(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new sn(v)}n._authCredentials=new cO(new ab(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new lr(this.firestore,e,this._query)}}class Fn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fn(this.firestore,e,this._key)}}class Qi extends lr{constructor(e,t,s){super(e,t,Cb(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fn(this.firestore,null,new be(e))}withConverter(e){return new Qi(this.firestore,e,this._path)}}function bT(n,e,...t){if(n=Un(n),yT("collection","path",e),n instanceof $h){const s=Et.fromString(e,...t);return fv(s),new Qi(n,null,s)}{if(!(n instanceof Fn||n instanceof Qi))throw new _e(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Et.fromString(e,...t));return fv(s),new Qi(n.firestore,null,s)}}function Up(n,e,...t){if(n=Un(n),arguments.length===1&&(e=cb.newId()),yT("doc","path",e),n instanceof $h){const s=Et.fromString(e,...t);return dv(s),new Fn(n,null,new be(s))}{if(!(n instanceof Fn||n instanceof Qi))throw new _e(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Et.fromString(e,...t));return dv(s),new Fn(n.firestore,n instanceof Qi?n.converter:null,new be(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="AsyncQueue";class _v{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new tT(this,"async_queue_retry"),this.rc=()=>{const s=$d();s&&de(gv,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=e;const t=$d();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=$d();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Yi;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!ba(e))throw e;de(gv,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(s=>{throw this.Xu=s,this.ec=!1,ui("INTERNAL UNHANDLED ERROR: ",vv(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=t,t}enqueueAfterDelay(e,t,s){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const i=Lp.createAndSchedule(this,e,t,s,r=>this.uc(r));return this.Zu.push(i),i}oc(){this.Xu&&Ce(47125,{cc:vv(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function vv(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class jp extends $h{constructor(e,t,s,i){super(e,t,s,i),this.type="firestore",this._queue=new _v,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _v(e),this._firestoreClient=void 0,await e}}}function oN(n,e){const t=typeof n=="object"?n:XE(),s=typeof n=="string"?n:ju,i=gp(t,"firestore").getImmediate({identifier:s});if(!i._initialized){const r=kR("firestore");r&&rN(i,...r)}return i}function TT(n){if(n._terminated)throw new _e(J.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||aN(n),n._firestoreClient}function aN(n){var e,t,s;const i=n._freezeSettings(),r=function(l,u,h,d){return new SO(l,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,vT(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=i.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new ZD(n._authCredentials,n._appCheckCredentials,n._queue,r,n._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ca(Zt.fromBase64String(e))}catch(t){throw new _e(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ca(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new _e(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,i){if(s.length!==i.length)return!1;for(let r=0;r<s.length;++r)if(s[r]!==i[r])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=/^__.*__$/;class cN{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new no(e,this.data,this.fieldMask,t,this.fieldTransforms):new tc(e,this.data,t,this.fieldTransforms)}}function AT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ic:n})}}class Wp{constructor(e,t,s,i,r,o){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=i,r===void 0&&this.Ec(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Wp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:s,Rc:!1});return i.Vc(e),i}mc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:s,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Xu(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(AT(this.Ic)&&lN.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class uN{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||xh(e)}bc(e,t,s,i=!1){return new Wp({Ic:e,methodName:t,wc:s,path:Jt.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function IT(n){const e=n._freezeSettings(),t=xh(n._databaseId);return new uN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function hN(n,e,t,s,i,r={}){const o=n.bc(r.merge||r.mergeFields?2:0,e,t,i);RT("Data must be an object, but it was:",o,s);const l=CT(s,o);let u,h;if(r.merge)u=new us(o.fieldMask),h=o.fieldTransforms;else if(r.mergeFields){const d=[];for(const g of r.mergeFields){const v=fN(e,g,t);if(!o.contains(v))throw new _e(J.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);mN(d,v)||d.push(v)}u=new us(d),h=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,h=o.fieldTransforms;return new cN(new Xn(l),u,h)}function dN(n,e,t,s=!1){return zp(t,n.bc(s?4:3,e))}function zp(n,e){if(ST(n=Un(n)))return RT("Unsupported field value:",e,n),CT(n,e);if(n instanceof wT)return function(s,i){if(!AT(i.Ic))throw i.gc(`${s._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${s._methodName}() is not currently supported inside arrays`);const r=s._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(s,i){const r=[];let o=0;for(const l of s){let u=zp(l,i.fc(o));u==null&&(u={nullValue:"NULL_VALUE"}),r.push(u),o++}return{arrayValue:{values:r}}}(n,e)}return function(s,i){if((s=Un(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return QO(i.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const r=Bt.fromDate(s);return{timestampValue:Ku(i.serializer,r)}}if(s instanceof Bt){const r=new Bt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ku(i.serializer,r)}}if(s instanceof Hp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ca)return{bytesValue:qb(i.serializer,s._byteString)};if(s instanceof Fn){const r=i.databaseId,o=s.firestore._databaseId;if(!o.isEqual(r))throw i.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Cp(s.firestore._databaseId||i.databaseId,s._key.path)}}if(s instanceof qp)return function(o,l){return{mapValue:{fields:{[_b]:{stringValue:vb},[Bu]:{arrayValue:{values:o.toArray().map(h=>{if(typeof h!="number")throw l.gc("VectorValues must only contain numeric values.");return wp(l.serializer,h)})}}}}}}(s,i);throw i.gc(`Unsupported field value: ${Mh(s)}`)}(n,e)}function CT(n,e){const t={};return hb(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):eo(n,(s,i)=>{const r=zp(i,e.Ac(s));r!=null&&(t[s]=r)}),{mapValue:{fields:t}}}function ST(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Bt||n instanceof Hp||n instanceof ca||n instanceof Fn||n instanceof wT||n instanceof qp)}function RT(n,e,t){if(!ST(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const s=Mh(t);throw s==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+s)}}function fN(n,e,t){if((e=Un(e))instanceof Bp)return e._internalPath;if(typeof e=="string")return PT(n,e);throw Xu("Field path arguments must be of type string or ",n,!1,void 0,t)}const pN=new RegExp("[~\\*/\\[\\]]");function PT(n,e,t){if(e.search(pN)>=0)throw Xu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Bp(...e.split("."))._internalPath}catch{throw Xu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Xu(n,e,t,s,i){const r=s&&!s.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;t&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(r||o)&&(u+=" (found",r&&(u+=` in field ${s}`),o&&(u+=` in document ${i}`),u+=")"),new _e(J.INVALID_ARGUMENT,l+n+u)}function mN(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,t,s,i,r){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Fh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class gN extends OT{data(){return super.data()}}function Fh(n,e){return typeof e=="string"?PT(n,e):e instanceof Bp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new _e(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kp{}class Gp extends Kp{}function DT(n,e,...t){let s=[];e instanceof Kp&&s.push(e),s=s.concat(t),function(r){const o=r.filter(u=>u instanceof Yp).length,l=r.filter(u=>u instanceof Uh).length;if(o>1||o>0&&l>0)throw new _e(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const i of s)n=i._apply(n);return n}class Uh extends Gp{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Uh(e,t,s)}_apply(e){const t=this._parse(e);return kT(e._query,t),new lr(e.firestore,e.converter,Of(e._query,t))}_parse(e){const t=IT(e.firestore);return function(r,o,l,u,h,d,g){let v;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new _e(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Ev(g,d);const k=[];for(const L of g)k.push(yv(u,r,L));v={arrayValue:{values:k}}}else v=yv(u,r,g)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Ev(g,d),v=dN(l,o,g,d==="in"||d==="not-in");return Vt.create(h,d,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function NT(n,e,t){const s=e,i=Fh("where",n);return Uh._create(i,s,t)}class Yp extends Kp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Yp(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:ms.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,r){let o=i;const l=r.getFlattenedFilters();for(const u of l)kT(o,u),o=Of(o,u)}(e._query,t),new lr(e.firestore,e.converter,Of(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Qp extends Gp{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Qp(e,t)}_apply(e){const t=function(i,r,o){if(i.startAt!==null)throw new _e(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new _e(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hl(r,o)}(e._query,this._field,this._direction);return new lr(e.firestore,e.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new Ta(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function vN(n,e="asc"){const t=e,s=Fh("orderBy",n);return Qp._create(s,t)}class Xp extends Gp{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Xp(e,t,s)}_apply(e){return new lr(e.firestore,e.converter,qu(e._query,this._limit,this._limitType))}}function yN(n){return Xp._create("limit",n,"F")}function yv(n,e,t){if(typeof(t=Un(t))=="string"){if(t==="")throw new _e(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sb(e)&&t.indexOf("/")!==-1)throw new _e(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Et.fromString(t));if(!be.isDocumentKey(s))throw new _e(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return x_(n,new be(s))}if(t instanceof Fn)return x_(n,t._key);throw new _e(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mh(t)}.`)}function Ev(n,e){if(!Array.isArray(n)||n.length===0)throw new _e(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kT(n,e){const t=function(i,r){for(const o of i)for(const l of o.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new _e(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class EN{convertValue(e,t="none"){switch(er(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return eo(e,(i,r)=>{s[i]=this.convertValue(r,t)}),s}convertVectorValue(e){var t,s,i;const r=(i=(s=(t=e.fields)===null||t===void 0?void 0:t[Bu].arrayValue)===null||s===void 0?void 0:s.values)===null||i===void 0?void 0:i.map(o=>Dt(o.doubleValue));return new qp(r)}convertGeoPoint(e){return new Hp(Dt(e.latitude),Dt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Rh(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Ul(e));default:return null}}convertTimestamp(e){const t=Ji(e);return new Bt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Et.fromString(e);rt(Qb(s),9688,{name:e});const i=new jl(s.get(1),s.get(3)),r=new be(s.popFirst(5));return i.isEqual(t)||ui(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class TN extends OT{constructor(e,t,s,i,r,o){super(e,t,s,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new yu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Fh("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class yu extends TN{data(e={}){return super.data(e)}}class wN{constructor(e,t,s,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Zc(i.hasPendingWrites,i.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new yu(this._firestore,this._userDataWriter,s.key,s,new Zc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const u=new yu(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Zc(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>r||l.type!==3).map(l=>{const u=new yu(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Zc(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,d=-1;return l.type!==0&&(h=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:AN(l.type),doc:u,oldIndex:h,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function AN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:n})}}class IN extends EN{constructor(e){super(),this.firestore=e}convertBytes(e){return new ca(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fn(this.firestore,null,t)}}function xT(n){n=zl(n,lr);const e=zl(n.firestore,jp),t=TT(e),s=new IN(e);return _N(n._query),sN(t,n._query).then(i=>new wN(e,s,n,i))}function Jp(n,e,t){n=zl(n,Fn);const s=zl(n.firestore,jp),i=bN(n.converter,e,t);return CN(s,[hN(IT(s),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,ri.none())])}function CN(n,e){return function(s,i){const r=new Yi;return s.asyncQueue.enqueueAndForget(async()=>HD(await tN(s),i,r)),r.promise}(TT(n),e)}(function(e,t=!0){(function(i){ya=i})(va),na(new Wr("firestore",(s,{instanceIdentifier:i,options:r})=>{const o=s.getProvider("app").getImmediate(),l=new jp(new uO(s.getProvider("auth-internal")),new fO(o,s.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new _e(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jl(h.options.projectId,d)}(o,i),o);return r=Object.assign({useFetchStreams:t},r),l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),Ki(T_,w_,e),Ki(T_,w_,"esm2017")})();var SN="firebase",RN="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ki(SN,RN,"app");function Zp(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(n);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(n,s[i])&&(t[s[i]]=n[s[i]]);return t}function LT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PN=LT,VT=new Zl("auth","Firebase",LT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=new pp("@firebase/auth");function ON(n,...e){Ju.logLevel<=He.WARN&&Ju.warn(`Auth (${va}): ${n}`,...e)}function Eu(n,...e){Ju.logLevel<=He.ERROR&&Ju.error(`Auth (${va}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(n,...e){throw tm(n,...e)}function fs(n,...e){return tm(n,...e)}function em(n,e,t){const s=Object.assign(Object.assign({},PN()),{[e]:t});return new Zl("auth","Firebase",s).create(e,{appName:n.name})}function oi(n){return em(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function DN(n,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&ts(n,"argument-error"),em(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tm(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return VT.create(n,...e)}function Ie(n,e,...t){if(!n)throw tm(e,...t)}function si(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Eu(e),new Error(e)}function di(n,e){n||si(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function NN(){return bv()==="http:"||bv()==="https:"}function bv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NN()||jR()||"connection"in navigator)?navigator.onLine:!0}function xN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,t){this.shortDelay=e,this.longDelay=t,di(t>e,"Short delay should be less than long delay!"),this.isMobile=$R()||BR()}get(){return kN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(n,e){di(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],MN=new rc(3e4,6e4);function gi(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function _i(n,e,t,s,i={}){return $T(n,i,async()=>{let r={},o={};s&&(e==="GET"?o=s:r={body:JSON.stringify(s)});const l=ec(Object.assign({key:n.config.apiKey},o)).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);const h=Object.assign({method:e,headers:u},r);return UR()||(h.referrerPolicy="no-referrer"),n.emulatorConfig&&_a(n.emulatorConfig.host)&&(h.credentials="include"),MT.fetch()(await FT(n,n.config.apiHost,t,l),h)})}async function $T(n,e,t){n._canInitEmulator=!1;const s=Object.assign(Object.assign({},LN),e);try{const i=new FN(n),r=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw eu(n,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const l=r.ok?o.errorMessage:o.error.message,[u,h]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw eu(n,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw eu(n,"email-already-in-use",o);if(u==="USER_DISABLED")throw eu(n,"user-disabled",o);const d=s[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw em(n,d,h);ts(n,d)}}catch(i){if(i instanceof mi)throw i;ts(n,"network-request-failed",{message:String(i)})}}async function oc(n,e,t,s,i={}){const r=await _i(n,e,t,s,i);return"mfaPendingCredential"in r&&ts(n,"multi-factor-auth-required",{_serverResponse:r}),r}async function FT(n,e,t,s){const i=`${e}${t}?${s}`,r=n,o=r.config.emulator?nm(n.config,i):`${n.config.apiScheme}://${i}`;return VN.includes(t)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(o).toString():o}function $N(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(fs(this.auth,"network-request-failed")),MN.get())})}}function eu(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const i=fs(n,e,s);return i.customData._tokenResponse=t,i}function Tv(n){return n!==void 0&&n.enterprise!==void 0}class UN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return $N(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jN(n,e){return _i(n,"GET","/v2/recaptchaConfig",gi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BN(n,e){return _i(n,"POST","/v1/accounts:delete",e)}async function Zu(n,e){return _i(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HN(n,e=!1){const t=Un(n),s=await t.getIdToken(e),i=sm(s);Ie(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const r=typeof i.firebase=="object"?i.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:i,token:s,authTime:Cl(Ud(i.auth_time)),issuedAtTime:Cl(Ud(i.iat)),expirationTime:Cl(Ud(i.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function Ud(n){return Number(n)*1e3}function sm(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return Eu("JWT malformed, contained fewer than 3 sections"),null;try{const i=BE(t);return i?JSON.parse(i):(Eu("Failed to decode base64 JWT payload"),null)}catch(i){return Eu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function wv(n){const e=sm(n);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kl(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof mi&&qN(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function qN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cl(this.lastLoginAt),this.creationTime=Cl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eh(n){var e;const t=n.auth,s=await n.getIdToken(),i=await Kl(n,Zu(t,{idToken:s}));Ie(i==null?void 0:i.users.length,t,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const o=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?UT(r.providerUserInfo):[],l=KN(n.providerData,o),u=n.isAnonymous,h=!(n.email&&r.passwordHash)&&!(l!=null&&l.length),d=u?h:!1,g={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new jf(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(n,g)}async function zN(n){const e=Un(n);await eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KN(n,e){return[...n.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function UT(n){return n.map(e=>{var{providerId:t}=e,s=Zp(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(n,e){const t=await $T(n,{},async()=>{const s=ec({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=n.config,o=await FT(n,i,"/v1/token",`key=${r}`),l=await n._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:s};return n.emulatorConfig&&_a(n.emulatorConfig.host)&&(u.credentials="include"),MT.fetch()(o,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function YN(n,e){return _i(n,"POST","/v2/accounts:revokeToken",gi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const t=wv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:i,expiresIn:r}=await GN(e,t);this.updateTokensAndExpiration(s,i,Number(r))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:i,expirationTime:r}=t,o=new Qo;return s&&(Ie(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),i&&(Ie(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),r&&(Ie(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qo,this.toJSON())}_performRefresh(){return si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(n,e){Ie(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class hs{constructor(e){var{uid:t,auth:s,stsTokenManager:i}=e,r=Zp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new jf(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await Kl(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return HN(this,e)}reload(){return zN(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new hs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await eh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(oi(this.auth));const e=await this.getIdToken();return await Kl(this,BN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,i,r,o,l,u,h,d;const g=(s=t.displayName)!==null&&s!==void 0?s:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,b=(r=t.phoneNumber)!==null&&r!==void 0?r:void 0,k=(o=t.photoURL)!==null&&o!==void 0?o:void 0,L=(l=t.tenantId)!==null&&l!==void 0?l:void 0,M=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,U=(h=t.createdAt)!==null&&h!==void 0?h:void 0,F=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:K,emailVerified:H,isAnonymous:ce,providerData:he,stsTokenManager:S}=t;Ie(K&&S,e,"internal-error");const T=Qo.fromJSON(this.name,S);Ie(typeof K=="string",e,"internal-error"),xi(g,e.name),xi(v,e.name),Ie(typeof H=="boolean",e,"internal-error"),Ie(typeof ce=="boolean",e,"internal-error"),xi(b,e.name),xi(k,e.name),xi(L,e.name),xi(M,e.name),xi(U,e.name),xi(F,e.name);const A=new hs({uid:K,auth:e,email:v,emailVerified:H,displayName:g,isAnonymous:ce,photoURL:k,phoneNumber:b,tenantId:L,stsTokenManager:T,createdAt:U,lastLoginAt:F});return he&&Array.isArray(he)&&(A.providerData=he.map(R=>Object.assign({},R))),M&&(A._redirectEventId=M),A}static async _fromIdTokenResponse(e,t,s=!1){const i=new Qo;i.updateFromServerResponse(t);const r=new hs({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await eh(r),r}static async _fromGetAccountInfoResponse(e,t,s){const i=t.users[0];Ie(i.localId!==void 0,"internal-error");const r=i.providerUserInfo!==void 0?UT(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(r!=null&&r.length),l=new Qo;l.updateFromIdToken(s);const u=new hs({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:r,metadata:new jf(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(r!=null&&r.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=new Map;function ii(n){di(n instanceof Function,"Expected a class definition");let e=Av.get(n);return e?(di(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Av.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}jT.type="NONE";const Iv=jT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(n,e,t){return`firebase:${n}:${e}:${t}`}class Xo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:i,name:r}=this.auth;this.fullUserKey=bu(this.userKey,i.apiKey,r),this.fullPersistenceKey=bu("persistence",i.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Zu(this.auth,{idToken:e}).catch(()=>{});return t?hs._fromGetAccountInfoResponse(this.auth,t,e):null}return hs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Xo(ii(Iv),e,s);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let r=i[0]||ii(Iv);const o=bu(s,e.config.apiKey,e.name);let l=null;for(const h of t)try{const d=await h._get(o);if(d){let g;if(typeof d=="string"){const v=await Zu(e,{idToken:d}).catch(()=>{});if(!v)break;g=await hs._fromGetAccountInfoResponse(e,v,d)}else g=hs._fromJSON(e,d);h!==r&&(l=g),r=h;break}}catch{}const u=i.filter(h=>h._shouldAllowMigration);return!r._shouldAllowMigration||!u.length?new Xo(r,e,s):(r=u[0],l&&await r._set(o,l.toJSON()),await Promise.all(t.map(async h=>{if(h!==r)try{await h._remove(o)}catch{}})),new Xo(r,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(WT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KT(e))return"Blackberry";if(GT(e))return"Webos";if(HT(e))return"Safari";if((e.includes("chrome/")||qT(e))&&!e.includes("edge/"))return"Chrome";if(zT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function BT(n=dn()){return/firefox\//i.test(n)}function HT(n=dn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qT(n=dn()){return/crios\//i.test(n)}function WT(n=dn()){return/iemobile/i.test(n)}function zT(n=dn()){return/android/i.test(n)}function KT(n=dn()){return/blackberry/i.test(n)}function GT(n=dn()){return/webos/i.test(n)}function im(n=dn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function QN(n=dn()){var e;return im(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function XN(){return HR()&&document.documentMode===10}function YT(n=dn()){return im(n)||zT(n)||GT(n)||KT(n)||/windows phone/i.test(n)||WT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(n,e=[]){let t;switch(n){case"Browser":t=Cv(dn());break;case"Worker":t=`${Cv(dn())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${va}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=r=>new Promise((o,l)=>{try{const u=e(r);o(u)}catch(u){l(u)}});s.onAbort=t,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN(n,e={}){return _i(n,"GET","/v2/passwordPolicy",gi(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek=6;class tk{constructor(e){var t,s,i,r;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:ek,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,i,r,o,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(s=u.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(r=u.containsUppercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let i=0;i<e.length;i++)s=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,i,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,t,s,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sv(this),this.idTokenSubscription=new Sv(this),this.beforeStateQueue=new JN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ii(t)),this._initializationPromise=this.queue(async()=>{var s,i,r;if(!this._deleted&&(this.persistenceManager=await Xo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Zu(this,{idToken:e}),s=await hs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Vn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let i=s,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(i=u.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await eh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject(oi(this));const t=e?Un(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(oi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject(oi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ZN(this),t=new tk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zl("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await YN(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ii(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=await Xo.create(this,[ii(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,i){if(this._deleted)return()=>{};const r=typeof t=="function"?t:t.next.bind(t);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(l,this,"internal-error"),l.then(()=>{o||r(this.currentUser)}),typeof t=="function"){const u=e.addObserver(t,s,i);return()=>{o=!0,u()}}else{const u=e.addObserver(t);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&ON(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function vi(n){return Un(n)}class Sv{constructor(e){this.auth=e,this.observer=null,this.addObserver=XR(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sk(n){jh=n}function XT(n){return jh.loadJS(n)}function ik(){return jh.recaptchaEnterpriseScript}function rk(){return jh.gapiScript}function ok(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class ak{constructor(){this.enterprise=new lk}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class lk{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const ck="recaptcha-enterprise",JT="NO_RECAPTCHA";class uk{constructor(e){this.type=ck,this.auth=vi(e)}async verify(e="verify",t=!1){async function s(r){if(!t){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,l)=>{jN(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const h=new UN(u);return r.tenantId==null?r._agentRecaptchaConfig=h:r._tenantRecaptchaConfigs[r.tenantId]=h,o(h.siteKey)}}).catch(u=>{l(u)})})}function i(r,o,l){const u=window.grecaptcha;Tv(u)?u.enterprise.ready(()=>{u.enterprise.execute(r,{action:e}).then(h=>{o(h)}).catch(()=>{o(JT)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ak().execute("siteKey",{action:"verify"}):new Promise((r,o)=>{s(this.auth).then(l=>{if(!t&&Tv(window.grecaptcha))i(l,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=ik();u.length!==0&&(u+=l),XT(u).then(()=>{i(l,r,o)}).catch(h=>{o(h)})}}).catch(l=>{o(l)})})}}async function Rv(n,e,t,s=!1,i=!1){const r=new uk(n);let o;if(i)o=JT;else try{o=await r.verify(t)}catch{o=await r.verify(t,!0)}const l=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,h=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return s?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function th(n,e,t,s,i){var r;if(!((r=n._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Rv(n,e,t,t==="getOobCode");return s(n,o)}else return s(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Rv(n,e,t,t==="getOobCode");return s(n,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(n,e){const t=gp(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),r=t.getOptions();if(qr(r,e??{}))return i;ts(i,"already-initialized")}return t.initialize({options:e})}function dk(n,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(ii);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function fk(n,e,t){const s=vi(n);Ie(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const i=!1,r=ZT(e),{host:o,port:l}=pk(e),u=l===null?"":`:${l}`,h={url:`${r}//${o}${u}/`},d=Object.freeze({host:o,port:l,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!s._canInitEmulator){Ie(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ie(qr(h,s.config.emulator)&&qr(d,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=h,s.emulatorConfig=d,s.settings.appVerificationDisabledForTesting=!0,_a(o)?(zE(`${r}//${o}${u}`),KE("Auth",!0)):mk()}function ZT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function pk(n){const e=ZT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const r=i[1];return{host:r,port:Pv(s.substr(r.length+1))}}else{const[r,o]=s.split(":");return{host:r,port:Pv(o)}}}function Pv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function mk(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return si("not implemented")}_getIdTokenResponse(e){return si("not implemented")}_linkToIdToken(e,t){return si("not implemented")}_getReauthenticationResolver(e){return si("not implemented")}}async function gk(n,e){return _i(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _k(n,e){return oc(n,"POST","/v1/accounts:signInWithPassword",gi(n,e))}async function vk(n,e){return _i(n,"POST","/v1/accounts:sendOobCode",gi(n,e))}async function yk(n,e){return vk(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ek(n,e){return oc(n,"POST","/v1/accounts:signInWithEmailLink",gi(n,e))}async function bk(n,e){return oc(n,"POST","/v1/accounts:signInWithEmailLink",gi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl extends rm{constructor(e,t,s,i=null){super("password",s),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Gl(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Gl(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return th(e,t,"signInWithPassword",_k);case"emailLink":return Ek(e,{email:this._email,oobCode:this._password});default:ts(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return th(e,s,"signUpPassword",gk);case"emailLink":return bk(e,{idToken:t,email:this._email,oobCode:this._password});default:ts(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jo(n,e){return oc(n,"POST","/v1/accounts:signInWithIdp",gi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk="http://localhost";class Gr extends rm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Gr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ts("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i}=t,r=Zp(t,["providerId","signInMethod"]);if(!s||!i)return null;const o=new Gr(s,i);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return Jo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Jo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Jo(e,t)}buildRequest(){const e={requestUri:Tk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ec(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ak(n){const e=ll(cl(n)).link,t=e?ll(cl(e)).deep_link_id:null,s=ll(cl(n)).deep_link_id;return(s?ll(cl(s)).link:null)||s||t||e||n}class om{constructor(e){var t,s,i,r,o,l;const u=ll(cl(e)),h=(t=u.apiKey)!==null&&t!==void 0?t:null,d=(s=u.oobCode)!==null&&s!==void 0?s:null,g=wk((i=u.mode)!==null&&i!==void 0?i:null);Ie(h&&d&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=d,this.continueUrl=(r=u.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=u.lang)!==null&&o!==void 0?o:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const t=Ak(e);try{return new om(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(){this.providerId=Aa.PROVIDER_ID}static credential(e,t){return Gl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=om.parseLink(t);return Ie(s,"argument-error"),Gl._fromEmailAndCode(e,s.code,s.tenantId)}}Aa.PROVIDER_ID="password";Aa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Aa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac extends am{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends ac{constructor(){super("facebook.com")}static credential(e){return Gr._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ui.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends ac{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Gr._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return ni.credential(t,s)}catch{return null}}}ni.GOOGLE_SIGN_IN_METHOD="google.com";ni.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends ac{constructor(){super("github.com")}static credential(e){return Gr._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.GITHUB_SIGN_IN_METHOD="github.com";ji.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends ac{constructor(){super("twitter.com")}static credential(e,t){return Gr._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Bi.credential(t,s)}catch{return null}}}Bi.TWITTER_SIGN_IN_METHOD="twitter.com";Bi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ik(n,e){return oc(n,"POST","/v1/accounts:signUp",gi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,i=!1){const r=await hs._fromIdTokenResponse(e,s,i),o=Ov(s);return new Yr({user:r,providerId:o,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const i=Ov(s);return new Yr({user:e,providerId:i,_tokenResponse:s,operationType:t})}}function Ov(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh extends mi{constructor(e,t,s,i){var r;super(t.code,t.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,nh.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,i){return new nh(e,t,s,i)}}function ew(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?nh._fromErrorAndOperation(n,r,e,s):r})}async function Ck(n,e,t=!1){const s=await Kl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Yr._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sk(n,e,t=!1){const{auth:s}=n;if(Vn(s.app))return Promise.reject(oi(s));const i="reauthenticate";try{const r=await Kl(n,ew(s,i,e,n),t);Ie(r.idToken,s,"internal-error");const o=sm(r.idToken);Ie(o,s,"internal-error");const{sub:l}=o;return Ie(n.uid===l,s,"user-mismatch"),Yr._forOperation(n,i,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&ts(s,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tw(n,e,t=!1){if(Vn(n.app))return Promise.reject(oi(n));const s="signIn",i=await ew(n,s,e),r=await Yr._fromIdTokenResponse(n,s,i);return t||await n._updateCurrentUser(r.user),r}async function Rk(n,e){return tw(vi(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nw(n){const e=vi(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Pk(n,e,t){const s=vi(n);await th(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",yk)}async function Ok(n,e,t){if(Vn(n.app))return Promise.reject(oi(n));const s=vi(n),o=await th(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ik).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&nw(n),u}),l=await Yr._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(l.user),l}function Dk(n,e,t){return Vn(n.app)?Promise.reject(oi(n)):Rk(Un(n),Aa.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&nw(n),s})}function Nk(n,e,t,s){return Un(n).onIdTokenChanged(e,t,s)}function kk(n,e,t){return Un(n).beforeAuthStateChanged(e,t)}const sh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(sh,"1"),this.storage.removeItem(sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk=1e3,Lk=10;class iw extends sw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),i=this.localCache[t];s!==i&&e(t,i,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const s=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(s);!t&&this.localCache[s]===o||this.notifyListeners(s,o)},r=this.storage.getItem(s);XN()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Lk):i()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},xk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}iw.type="LOCAL";const Vk=iw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw extends sw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}rw.type="SESSION";const ow=rw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const s=new Bh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:i,data:r}=t.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const l=Array.from(o).map(async h=>h(t.origin,r)),u=await Mk(l);t.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:u})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,o;return new Promise((l,u)=>{const h=lm("",20);i.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},s);o={messageChannel:i,onMessage(g){const v=g;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(d),r=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),l(v.data.response);break;default:clearTimeout(d),clearTimeout(r),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(){return window}function Fk(n){xs().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(){return typeof xs().WorkerGlobalScope<"u"&&typeof xs().importScripts=="function"}async function Uk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jk(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Bk(){return aw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="firebaseLocalStorageDb",Hk=1,ih="firebaseLocalStorage",cw="fbase_key";class lc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Hh(n,e){return n.transaction([ih],e?"readwrite":"readonly").objectStore(ih)}function qk(){const n=indexedDB.deleteDatabase(lw);return new lc(n).toPromise()}function Bf(){const n=indexedDB.open(lw,Hk);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(ih,{keyPath:cw})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(ih)?e(s):(s.close(),await qk(),e(await Bf()))})})}async function Dv(n,e,t){const s=Hh(n,!0).put({[cw]:e,value:t});return new lc(s).toPromise()}async function Wk(n,e){const t=Hh(n,!1).get(e),s=await new lc(t).toPromise();return s===void 0?null:s.value}function Nv(n,e){const t=Hh(n,!0).delete(e);return new lc(t).toPromise()}const zk=800,Kk=3;class uw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>Kk)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bh._getInstance(Bk()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Uk(),!this.activeServiceWorker)return;this.sender=new $k(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bf();return await Dv(e,sh,"1"),await Nv(e,sh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Dv(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>Wk(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Nv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const r=Hh(i,!1).getAll();return new lc(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:i,value:r}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uw.type="LOCAL";const Gk=uw;new rc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(n,e){return e?ii(e):(Ie(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm extends rm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Jo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Jo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Yk(n){return tw(n.auth,new cm(n),n.bypassAuthState)}function Qk(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),Sk(t,new cm(n),n.bypassAuthState)}async function Xk(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),Ck(t,new cm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,t,s,i,r=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:i,tenantId:r,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:t,sessionId:s,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Yk;case"linkViaPopup":case"linkViaRedirect":return Xk;case"reauthViaPopup":case"reauthViaRedirect":return Qk;default:ts(this.auth,"internal-error")}}resolve(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk=new rc(2e3,1e4);async function Zk(n,e,t){if(Vn(n.app))return Promise.reject(fs(n,"operation-not-supported-in-this-environment"));const s=vi(n);DN(n,e,am);const i=hw(s,t);return new Mr(s,"signInViaPopup",e,i).executeNotNull()}class Mr extends dw{constructor(e,t,s,i,r){super(e,t,i,r),this.provider=s,this.authWindow=null,this.pollId=null,Mr.currentPopupAction&&Mr.currentPopupAction.cancel(),Mr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){di(this.filter.length===1,"Popup operations only handle one event");const e=lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(fs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Mr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Jk.get())};e()}}Mr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex="pendingRedirect",Tu=new Map;class tx extends dw{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Tu.get(this.auth._key());if(!e){try{const s=await nx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Tu.set(this.auth._key(),e)}return this.bypassAuthState||Tu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nx(n,e){const t=rx(e),s=ix(n);if(!await s._isAvailable())return!1;const i=await s._get(t)==="true";return await s._remove(t),i}function sx(n,e){Tu.set(n._key(),e)}function ix(n){return ii(n._redirectPersistence)}function rx(n){return bu(ex,n.config.apiKey,n.name)}async function ox(n,e,t=!1){if(Vn(n.app))return Promise.reject(oi(n));const s=vi(n),i=hw(s,e),o=await new tx(s,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=10*60*1e3;class lx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cx(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!fw(e)){const i=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(fs(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ax&&this.cachedEventUids.clear(),this.cachedEventUids.has(kv(e))}saveEventToCache(e){this.cachedEventUids.add(kv(e)),this.lastProcessedEventTime=Date.now()}}function kv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function fw({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function cx(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ux(n,e={}){return _i(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dx=/^https?/;async function fx(n){if(n.config.emulator)return;const{authorizedDomains:e}=await ux(n);for(const t of e)try{if(px(t))return}catch{}ts(n,"unauthorized-domain")}function px(n){const e=Uf(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===s}if(!dx.test(t))return!1;if(hx.test(n))return s===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx=new rc(3e4,6e4);function xv(){const n=xs().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function gx(n){return new Promise((e,t)=>{var s,i,r;function o(){xv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xv(),t(fs(n,"network-request-failed"))},timeout:mx.get()})}if(!((i=(s=xs().gapi)===null||s===void 0?void 0:s.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((r=xs().gapi)===null||r===void 0)&&r.load)o();else{const l=ok("iframefcb");return xs()[l]=()=>{gapi.load?o():t(fs(n,"network-request-failed"))},XT(`${rk()}?onload=${l}`).catch(u=>t(u))}}).catch(e=>{throw wu=null,e})}let wu=null;function _x(n){return wu=wu||gx(n),wu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=new rc(5e3,15e3),yx="__/auth/iframe",Ex="emulator/auth/iframe",bx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wx(n){const e=n.config;Ie(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?nm(e,Ex):`https://${n.config.authDomain}/${yx}`,s={apiKey:e.apiKey,appName:n.name,v:va},i=Tx.get(n.config.apiHost);i&&(s.eid=i);const r=n._getFrameworks();return r.length&&(s.fw=r.join(",")),`${t}?${ec(s).slice(1)}`}async function Ax(n){const e=await _x(n),t=xs().gapi;return Ie(t,n,"internal-error"),e.open({where:document.body,url:wx(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bx,dontclear:!0},s=>new Promise(async(i,r)=>{await s.restyle({setHideOnLeave:!1});const o=fs(n,"network-request-failed"),l=xs().setTimeout(()=>{r(o)},vx.get());function u(){xs().clearTimeout(l),i(s)}s.ping(u).then(u,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Cx=500,Sx=600,Rx="_blank",Px="http://localhost";class Lv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ox(n,e,t,s=Cx,i=Sx){const r=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let l="";const u=Object.assign(Object.assign({},Ix),{width:s.toString(),height:i.toString(),top:r,left:o}),h=dn().toLowerCase();t&&(l=qT(h)?Rx:t),BT(h)&&(e=e||Px,u.scrollbars="yes");const d=Object.entries(u).reduce((v,[b,k])=>`${v}${b}=${k},`,"");if(QN(h)&&l!=="_self")return Dx(e||"",l),new Lv(null);const g=window.open(e||"",l,d);Ie(g,n,"popup-blocked");try{g.focus()}catch{}return new Lv(g)}function Dx(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="__/auth/handler",kx="emulator/auth/handler",xx=encodeURIComponent("fac");async function Vv(n,e,t,s,i,r){Ie(n.config.authDomain,n,"auth-domain-config-required"),Ie(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:va,eventId:i};if(e instanceof am){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",QR(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,g]of Object.entries({}))o[d]=g}if(e instanceof ac){const d=e.getScopes().filter(g=>g!=="");d.length>0&&(o.scopes=d.join(","))}n.tenantId&&(o.tid=n.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await n._getAppCheckToken(),h=u?`#${xx}=${encodeURIComponent(u)}`:"";return`${Lx(n)}?${ec(l).slice(1)}${h}`}function Lx({config:n}){return n.emulator?nm(n,kx):`https://${n.authDomain}/${Nx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="webStorageSupport";class Vx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ow,this._completeRedirectFn=ox,this._overrideRedirectResult=sx}async _openPopup(e,t,s,i){var r;di((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await Vv(e,t,s,Uf(),i);return Ox(e,o,lm())}async _openRedirect(e,t,s,i){await this._originValidation(e);const r=await Vv(e,t,s,Uf(),i);return Fk(r),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:r}=this.eventManagers[t];return i?Promise.resolve(i):(di(r,"If manager is not set, promise should be"),r)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await Ax(e),s=new lx(e);return t.register("authEvent",i=>(Ie(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(jd,{type:jd},i=>{var r;const o=(r=i==null?void 0:i[0])===null||r===void 0?void 0:r[jd];o!==void 0&&t(!!o),ts(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=fx(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return YT()||HT()||im()}}const Mx=Vx;var Mv="@firebase/auth",$v="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ux(n){na(new Wr("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=s.options;Ie(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const u={apiKey:o,authDomain:l,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QT(n)},h=new nk(s,i,r,u);return dk(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),na(new Wr("auth-internal",e=>{const t=vi(e.getProvider("auth").getImmediate());return(s=>new $x(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ki(Mv,$v,Fx(n)),Ki(Mv,$v,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=5*60,Bx=WE("authIdTokenMaxAge")||jx;let Fv=null;const Hx=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>Bx)return;const i=t==null?void 0:t.token;Fv!==i&&(Fv=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function qx(n=XE()){const e=gp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=hk(n,{popupRedirectResolver:Mx,persistence:[Gk,Vk,ow]}),s=WE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(s,location.origin);if(location.origin===r.origin){const o=Hx(r.toString());kk(t,o,()=>o(t.currentUser)),Nk(t,l=>o(l))}}const i=HE("auth");return i&&fk(t,`http://${i}`),t}function Wx(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}sk({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=i=>{const r=fs("internal-error");r.customData=i,t(r)},s.type="text/javascript",s.charset="UTF-8",Wx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ux("Browser");const zx={apiKey:"AIzaSyCwjBfaaOxu0q3af_aPIlvDnpvSE1z3ms0",authDomain:"instant-geek.firebaseapp.com",projectId:"instant-geek",storageBucket:"instant-geek.firebasestorage.app",messagingSenderId:"317020332794",appId:"1:317020332794:web:933ab287d47fafd86cdf43",measurementId:"G-5F717TETW2"},pw=QE(zx),qh=qx(pw),cc=oN(pw),Kx={class:"container-fluid py-2 preco"},Gx={class:"media-scroller snaps-inline",id:"precoIn"},Yx={class:"game-card"},Qx=["href"],Xx=["src","alt"],Jx={class:"game-text"},Zx={class:"titre"},eL={class:"prix"},tL={__name:"Preco",setup(n){const e=Nt([]),t=async()=>{const s=bT(cc,"games"),i=new Date;i.setHours(0,0,0,0);const r=DT(s,NT("dateSortie",">=",i),vN("dateSortie"),yN(8));try{const o=await xT(r);e.value=[],o.forEach(l=>{const u=l.data();e.value.push({id:l.id,titre:u.name,link:u.link,image:u.image,price:`${u.price}`})})}catch(o){console.error("Erreur lors de la rcupration des jeux :",o)}};return Xl(()=>{t()}),(s,i)=>(et(),tt("div",Kx,[i[1]||(i[1]=$("h2",{class:"font-weight-light"},"Prcommandes",-1)),$("div",null,[$("ul",Gx,[(et(!0),tt(Lt,null,Hr(e.value,r=>(et(),tt("li",{key:r.id},[$("div",Yx,[$("a",{href:r.link},[$("img",{src:`/assets/img/preview/${r.image}`,alt:r.titre},null,8,Xx)],8,Qx),$("div",Jx,[$("h3",Zx,cn(r.titre),1),$("h3",eL,cn(r.price),1)]),i[0]||(i[0]=$("h2",null,null,-1))])]))),128))])])]))}};var Au={exports:{}};/*!
  * Bootstrap v5.3.6 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var nL=Au.exports,Uv;function sL(){return Uv||(Uv=1,function(n,e){(function(t,s){n.exports=s()})(nL,function(){const t=new Map,s={set(_,c,p){t.has(_)||t.set(_,new Map);const y=t.get(_);y.has(c)||y.size===0?y.set(c,p):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(y.keys())[0]}.`)},get:(_,c)=>t.has(_)&&t.get(_).get(c)||null,remove(_,c){if(!t.has(_))return;const p=t.get(_);p.delete(c),p.size===0&&t.delete(_)}},i="transitionend",r=_=>(_&&window.CSS&&window.CSS.escape&&(_=_.replace(/#([^\s"#']+)/g,(c,p)=>`#${CSS.escape(p)}`)),_),o=_=>{_.dispatchEvent(new Event(i))},l=_=>!(!_||typeof _!="object")&&(_.jquery!==void 0&&(_=_[0]),_.nodeType!==void 0),u=_=>l(_)?_.jquery?_[0]:_:typeof _=="string"&&_.length>0?document.querySelector(r(_)):null,h=_=>{if(!l(_)||_.getClientRects().length===0)return!1;const c=getComputedStyle(_).getPropertyValue("visibility")==="visible",p=_.closest("details:not([open])");if(!p)return c;if(p!==_){const y=_.closest("summary");if(y&&y.parentNode!==p||y===null)return!1}return c},d=_=>!_||_.nodeType!==Node.ELEMENT_NODE||!!_.classList.contains("disabled")||(_.disabled!==void 0?_.disabled:_.hasAttribute("disabled")&&_.getAttribute("disabled")!=="false"),g=_=>{if(!document.documentElement.attachShadow)return null;if(typeof _.getRootNode=="function"){const c=_.getRootNode();return c instanceof ShadowRoot?c:null}return _ instanceof ShadowRoot?_:_.parentNode?g(_.parentNode):null},v=()=>{},b=_=>{_.offsetHeight},k=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,L=[],M=()=>document.documentElement.dir==="rtl",U=_=>{var c;c=()=>{const p=k();if(p){const y=_.NAME,O=p.fn[y];p.fn[y]=_.jQueryInterface,p.fn[y].Constructor=_,p.fn[y].noConflict=()=>(p.fn[y]=O,_.jQueryInterface)}},document.readyState==="loading"?(L.length||document.addEventListener("DOMContentLoaded",()=>{for(const p of L)p()}),L.push(c)):c()},F=(_,c=[],p=_)=>typeof _=="function"?_.call(...c):p,K=(_,c,p=!0)=>{if(!p)return void F(_);const y=(B=>{if(!B)return 0;let{transitionDuration:Z,transitionDelay:oe}=window.getComputedStyle(B);const pe=Number.parseFloat(Z),ge=Number.parseFloat(oe);return pe||ge?(Z=Z.split(",")[0],oe=oe.split(",")[0],1e3*(Number.parseFloat(Z)+Number.parseFloat(oe))):0})(c)+5;let O=!1;const N=({target:B})=>{B===c&&(O=!0,c.removeEventListener(i,N),F(_))};c.addEventListener(i,N),setTimeout(()=>{O||o(c)},y)},H=(_,c,p,y)=>{const O=_.length;let N=_.indexOf(c);return N===-1?!p&&y?_[O-1]:_[0]:(N+=p?1:-1,y&&(N=(N+O)%O),_[Math.max(0,Math.min(N,O-1))])},ce=/[^.]*(?=\..*)\.|.*/,he=/\..*/,S=/::\d+$/,T={};let A=1;const R={mouseenter:"mouseover",mouseleave:"mouseout"},P=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function D(_,c){return c&&`${c}::${A++}`||_.uidEvent||A++}function I(_){const c=D(_);return _.uidEvent=c,T[c]=T[c]||{},T[c]}function ft(_,c,p=null){return Object.values(_).find(y=>y.callable===c&&y.delegationSelector===p)}function wt(_,c,p){const y=typeof c=="string",O=y?p:c||p;let N=bt(_);return P.has(N)||(N=_),[y,O,N]}function Be(_,c,p,y,O){if(typeof c!="string"||!_)return;let[N,B,Z]=wt(c,p,y);c in R&&(B=(De=>function(Pe){if(!Pe.relatedTarget||Pe.relatedTarget!==Pe.delegateTarget&&!Pe.delegateTarget.contains(Pe.relatedTarget))return De.call(this,Pe)})(B));const oe=I(_),pe=oe[Z]||(oe[Z]={}),ge=ft(pe,B,N?p:null);if(ge)return void(ge.oneOff=ge.oneOff&&O);const ue=D(B,c.replace(ce,"")),Ve=N?function(Ae,De,Pe){return function Ne(ct){const mt=Ae.querySelectorAll(De);for(let{target:je}=ct;je&&je!==this;je=je.parentNode)for(const Ze of mt)if(Ze===je)return kt(ct,{delegateTarget:je}),Ne.oneOff&&Y.off(Ae,ct.type,De,Pe),Pe.apply(je,[ct])}}(_,p,B):function(Ae,De){return function Pe(Ne){return kt(Ne,{delegateTarget:Ae}),Pe.oneOff&&Y.off(Ae,Ne.type,De),De.apply(Ae,[Ne])}}(_,B);Ve.delegationSelector=N?p:null,Ve.callable=B,Ve.oneOff=O,Ve.uidEvent=ue,pe[ue]=Ve,_.addEventListener(Z,Ve,N)}function we(_,c,p,y,O){const N=ft(c[p],y,O);N&&(_.removeEventListener(p,N,!!O),delete c[p][N.uidEvent])}function xe(_,c,p,y){const O=c[p]||{};for(const[N,B]of Object.entries(O))N.includes(y)&&we(_,c,p,B.callable,B.delegationSelector)}function bt(_){return _=_.replace(he,""),R[_]||_}const Y={on(_,c,p,y){Be(_,c,p,y,!1)},one(_,c,p,y){Be(_,c,p,y,!0)},off(_,c,p,y){if(typeof c!="string"||!_)return;const[O,N,B]=wt(c,p,y),Z=B!==c,oe=I(_),pe=oe[B]||{},ge=c.startsWith(".");if(N===void 0){if(ge)for(const ue of Object.keys(oe))xe(_,oe,ue,c.slice(1));for(const[ue,Ve]of Object.entries(pe)){const Ae=ue.replace(S,"");Z&&!c.includes(Ae)||we(_,oe,B,Ve.callable,Ve.delegationSelector)}}else{if(!Object.keys(pe).length)return;we(_,oe,B,N,O?p:null)}},trigger(_,c,p){if(typeof c!="string"||!_)return null;const y=k();let O=null,N=!0,B=!0,Z=!1;c!==bt(c)&&y&&(O=y.Event(c,p),y(_).trigger(O),N=!O.isPropagationStopped(),B=!O.isImmediatePropagationStopped(),Z=O.isDefaultPrevented());const oe=kt(new Event(c,{bubbles:N,cancelable:!0}),p);return Z&&oe.preventDefault(),B&&_.dispatchEvent(oe),oe.defaultPrevented&&O&&O.preventDefault(),oe}};function kt(_,c={}){for(const[p,y]of Object.entries(c))try{_[p]=y}catch{Object.defineProperty(_,p,{configurable:!0,get:()=>y})}return _}function Qe(_){if(_==="true")return!0;if(_==="false")return!1;if(_===Number(_).toString())return Number(_);if(_===""||_==="null")return null;if(typeof _!="string")return _;try{return JSON.parse(decodeURIComponent(_))}catch{return _}}function Xe(_){return _.replace(/[A-Z]/g,c=>`-${c.toLowerCase()}`)}const vt={setDataAttribute(_,c,p){_.setAttribute(`data-bs-${Xe(c)}`,p)},removeDataAttribute(_,c){_.removeAttribute(`data-bs-${Xe(c)}`)},getDataAttributes(_){if(!_)return{};const c={},p=Object.keys(_.dataset).filter(y=>y.startsWith("bs")&&!y.startsWith("bsConfig"));for(const y of p){let O=y.replace(/^bs/,"");O=O.charAt(0).toLowerCase()+O.slice(1),c[O]=Qe(_.dataset[y])}return c},getDataAttribute:(_,c)=>Qe(_.getAttribute(`data-bs-${Xe(c)}`))};class yt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(c){return c=this._mergeConfigObj(c),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}_configAfterMerge(c){return c}_mergeConfigObj(c,p){const y=l(p)?vt.getDataAttribute(p,"config"):{};return{...this.constructor.Default,...typeof y=="object"?y:{},...l(p)?vt.getDataAttributes(p):{},...typeof c=="object"?c:{}}}_typeCheckConfig(c,p=this.constructor.DefaultType){for(const[O,N]of Object.entries(p)){const B=c[O],Z=l(B)?"element":(y=B)==null?`${y}`:Object.prototype.toString.call(y).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(N).test(Z))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${O}" provided type "${Z}" but expected type "${N}".`)}var y}}class Je extends yt{constructor(c,p){super(),(c=u(c))&&(this._element=c,this._config=this._getConfig(p),s.set(this._element,this.constructor.DATA_KEY,this))}dispose(){s.remove(this._element,this.constructor.DATA_KEY),Y.off(this._element,this.constructor.EVENT_KEY);for(const c of Object.getOwnPropertyNames(this))this[c]=null}_queueCallback(c,p,y=!0){K(c,p,y)}_getConfig(c){return c=this._mergeConfigObj(c,this._element),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}static getInstance(c){return s.get(u(c),this.DATA_KEY)}static getOrCreateInstance(c,p={}){return this.getInstance(c)||new this(c,typeof p=="object"?p:null)}static get VERSION(){return"5.3.6"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(c){return`${c}${this.EVENT_KEY}`}}const W=_=>{let c=_.getAttribute("data-bs-target");if(!c||c==="#"){let p=_.getAttribute("href");if(!p||!p.includes("#")&&!p.startsWith("."))return null;p.includes("#")&&!p.startsWith("#")&&(p=`#${p.split("#")[1]}`),c=p&&p!=="#"?p.trim():null}return c?c.split(",").map(p=>r(p)).join(","):null},q={find:(_,c=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(c,_)),findOne:(_,c=document.documentElement)=>Element.prototype.querySelector.call(c,_),children:(_,c)=>[].concat(..._.children).filter(p=>p.matches(c)),parents(_,c){const p=[];let y=_.parentNode.closest(c);for(;y;)p.push(y),y=y.parentNode.closest(c);return p},prev(_,c){let p=_.previousElementSibling;for(;p;){if(p.matches(c))return[p];p=p.previousElementSibling}return[]},next(_,c){let p=_.nextElementSibling;for(;p;){if(p.matches(c))return[p];p=p.nextElementSibling}return[]},focusableChildren(_){const c=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(p=>`${p}:not([tabindex^="-"])`).join(",");return this.find(c,_).filter(p=>!d(p)&&h(p))},getSelectorFromElement(_){const c=W(_);return c&&q.findOne(c)?c:null},getElementFromSelector(_){const c=W(_);return c?q.findOne(c):null},getMultipleElementsFromSelector(_){const c=W(_);return c?q.find(c):[]}},ie=(_,c="hide")=>{const p=`click.dismiss${_.EVENT_KEY}`,y=_.NAME;Y.on(document,p,`[data-bs-dismiss="${y}"]`,function(O){if(["A","AREA"].includes(this.tagName)&&O.preventDefault(),d(this))return;const N=q.getElementFromSelector(this)||this.closest(`.${y}`);_.getOrCreateInstance(N)[c]()})},fe=".bs.alert",Ue=`close${fe}`,w=`closed${fe}`;class C extends Je{static get NAME(){return"alert"}close(){if(Y.trigger(this._element,Ue).defaultPrevented)return;this._element.classList.remove("show");const c=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,c)}_destroyElement(){this._element.remove(),Y.trigger(this._element,w),this.dispose()}static jQueryInterface(c){return this.each(function(){const p=C.getOrCreateInstance(this);if(typeof c=="string"){if(p[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);p[c](this)}})}}ie(C,"close"),U(C);const x='[data-bs-toggle="button"]';class z extends Je{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(c){return this.each(function(){const p=z.getOrCreateInstance(this);c==="toggle"&&p[c]()})}}Y.on(document,"click.bs.button.data-api",x,_=>{_.preventDefault();const c=_.target.closest(x);z.getOrCreateInstance(c).toggle()}),U(z);const G=".bs.swipe",Q=`touchstart${G}`,ae=`touchmove${G}`,se=`touchend${G}`,ne=`pointerdown${G}`,ee=`pointerup${G}`,Ee={endCallback:null,leftCallback:null,rightCallback:null},le={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class me extends yt{constructor(c,p){super(),this._element=c,c&&me.isSupported()&&(this._config=this._getConfig(p),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Ee}static get DefaultType(){return le}static get NAME(){return"swipe"}dispose(){Y.off(this._element,G)}_start(c){this._supportPointerEvents?this._eventIsPointerPenTouch(c)&&(this._deltaX=c.clientX):this._deltaX=c.touches[0].clientX}_end(c){this._eventIsPointerPenTouch(c)&&(this._deltaX=c.clientX-this._deltaX),this._handleSwipe(),F(this._config.endCallback)}_move(c){this._deltaX=c.touches&&c.touches.length>1?0:c.touches[0].clientX-this._deltaX}_handleSwipe(){const c=Math.abs(this._deltaX);if(c<=40)return;const p=c/this._deltaX;this._deltaX=0,p&&F(p>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Y.on(this._element,ne,c=>this._start(c)),Y.on(this._element,ee,c=>this._end(c)),this._element.classList.add("pointer-event")):(Y.on(this._element,Q,c=>this._start(c)),Y.on(this._element,ae,c=>this._move(c)),Y.on(this._element,se,c=>this._end(c)))}_eventIsPointerPenTouch(c){return this._supportPointerEvents&&(c.pointerType==="pen"||c.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const ve=".bs.carousel",ye=".data-api",Re="ArrowLeft",$e="ArrowRight",It="next",Tt="prev",$t="left",Rt="right",_s=`slide${ve}`,js=`slid${ve}`,Ft=`keydown${ve}`,In=`mouseenter${ve}`,oo=`mouseleave${ve}`,Pa=`dragstart${ve}`,gc=`load${ve}${ye}`,_c=`click${ve}${ye}`,Ei="carousel",bi="active",ao=".active",vs=".carousel-item",vc=ao+vs,lo={[Re]:Rt,[$e]:$t},yc={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},dr={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Bs extends Je{constructor(c,p){super(c,p),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=q.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Ei&&this.cycle()}static get Default(){return yc}static get DefaultType(){return dr}static get NAME(){return"carousel"}next(){this._slide(It)}nextWhenVisible(){!document.hidden&&h(this._element)&&this.next()}prev(){this._slide(Tt)}pause(){this._isSliding&&o(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?Y.one(this._element,js,()=>this.cycle()):this.cycle())}to(c){const p=this._getItems();if(c>p.length-1||c<0)return;if(this._isSliding)return void Y.one(this._element,js,()=>this.to(c));const y=this._getItemIndex(this._getActive());if(y===c)return;const O=c>y?It:Tt;this._slide(O,p[c])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(c){return c.defaultInterval=c.interval,c}_addEventListeners(){this._config.keyboard&&Y.on(this._element,Ft,c=>this._keydown(c)),this._config.pause==="hover"&&(Y.on(this._element,In,()=>this.pause()),Y.on(this._element,oo,()=>this._maybeEnableCycle())),this._config.touch&&me.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const p of q.find(".carousel-item img",this._element))Y.on(p,Pa,y=>y.preventDefault());const c={leftCallback:()=>this._slide(this._directionToOrder($t)),rightCallback:()=>this._slide(this._directionToOrder(Rt)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new me(this._element,c)}_keydown(c){if(/input|textarea/i.test(c.target.tagName))return;const p=lo[c.key];p&&(c.preventDefault(),this._slide(this._directionToOrder(p)))}_getItemIndex(c){return this._getItems().indexOf(c)}_setActiveIndicatorElement(c){if(!this._indicatorsElement)return;const p=q.findOne(ao,this._indicatorsElement);p.classList.remove(bi),p.removeAttribute("aria-current");const y=q.findOne(`[data-bs-slide-to="${c}"]`,this._indicatorsElement);y&&(y.classList.add(bi),y.setAttribute("aria-current","true"))}_updateInterval(){const c=this._activeElement||this._getActive();if(!c)return;const p=Number.parseInt(c.getAttribute("data-bs-interval"),10);this._config.interval=p||this._config.defaultInterval}_slide(c,p=null){if(this._isSliding)return;const y=this._getActive(),O=c===It,N=p||H(this._getItems(),y,O,this._config.wrap);if(N===y)return;const B=this._getItemIndex(N),Z=ue=>Y.trigger(this._element,ue,{relatedTarget:N,direction:this._orderToDirection(c),from:this._getItemIndex(y),to:B});if(Z(_s).defaultPrevented||!y||!N)return;const oe=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(B),this._activeElement=N;const pe=O?"carousel-item-start":"carousel-item-end",ge=O?"carousel-item-next":"carousel-item-prev";N.classList.add(ge),b(N),y.classList.add(pe),N.classList.add(pe),this._queueCallback(()=>{N.classList.remove(pe,ge),N.classList.add(bi),y.classList.remove(bi,ge,pe),this._isSliding=!1,Z(js)},y,this._isAnimated()),oe&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return q.findOne(vc,this._element)}_getItems(){return q.find(vs,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(c){return M()?c===$t?Tt:It:c===$t?It:Tt}_orderToDirection(c){return M()?c===Tt?$t:Rt:c===Tt?Rt:$t}static jQueryInterface(c){return this.each(function(){const p=Bs.getOrCreateInstance(this,c);if(typeof c!="number"){if(typeof c=="string"){if(p[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);p[c]()}}else p.to(c)})}}Y.on(document,_c,"[data-bs-slide], [data-bs-slide-to]",function(_){const c=q.getElementFromSelector(this);if(!c||!c.classList.contains(Ei))return;_.preventDefault();const p=Bs.getOrCreateInstance(c),y=this.getAttribute("data-bs-slide-to");return y?(p.to(y),void p._maybeEnableCycle()):vt.getDataAttribute(this,"slide")==="next"?(p.next(),void p._maybeEnableCycle()):(p.prev(),void p._maybeEnableCycle())}),Y.on(window,gc,()=>{const _=q.find('[data-bs-ride="carousel"]');for(const c of _)Bs.getOrCreateInstance(c)}),U(Bs);const Pt=".bs.collapse",Ec=`show${Pt}`,fr=`shown${Pt}`,pr=`hide${Pt}`,td=`hidden${Pt}`,nd=`click${Pt}.data-api`,ys="show",Ti="collapse",co="collapsing",uo=`:scope .${Ti} .${Ti}`,ho='[data-bs-toggle="collapse"]',Oa={parent:null,toggle:!0},fo={parent:"(null|element)",toggle:"boolean"};class fn extends Je{constructor(c,p){super(c,p),this._isTransitioning=!1,this._triggerArray=[];const y=q.find(ho);for(const O of y){const N=q.getSelectorFromElement(O),B=q.find(N).filter(Z=>Z===this._element);N!==null&&B.length&&this._triggerArray.push(O)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Oa}static get DefaultType(){return fo}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let c=[];if(this._config.parent&&(c=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(O=>O!==this._element).map(O=>fn.getOrCreateInstance(O,{toggle:!1}))),c.length&&c[0]._isTransitioning||Y.trigger(this._element,Ec).defaultPrevented)return;for(const O of c)O.hide();const p=this._getDimension();this._element.classList.remove(Ti),this._element.classList.add(co),this._element.style[p]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const y=`scroll${p[0].toUpperCase()+p.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(co),this._element.classList.add(Ti,ys),this._element.style[p]="",Y.trigger(this._element,fr)},this._element,!0),this._element.style[p]=`${this._element[y]}px`}hide(){if(this._isTransitioning||!this._isShown()||Y.trigger(this._element,pr).defaultPrevented)return;const c=this._getDimension();this._element.style[c]=`${this._element.getBoundingClientRect()[c]}px`,b(this._element),this._element.classList.add(co),this._element.classList.remove(Ti,ys);for(const p of this._triggerArray){const y=q.getElementFromSelector(p);y&&!this._isShown(y)&&this._addAriaAndCollapsedClass([p],!1)}this._isTransitioning=!0,this._element.style[c]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(co),this._element.classList.add(Ti),Y.trigger(this._element,td)},this._element,!0)}_isShown(c=this._element){return c.classList.contains(ys)}_configAfterMerge(c){return c.toggle=!!c.toggle,c.parent=u(c.parent),c}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const c=this._getFirstLevelChildren(ho);for(const p of c){const y=q.getElementFromSelector(p);y&&this._addAriaAndCollapsedClass([p],this._isShown(y))}}_getFirstLevelChildren(c){const p=q.find(uo,this._config.parent);return q.find(c,this._config.parent).filter(y=>!p.includes(y))}_addAriaAndCollapsedClass(c,p){if(c.length)for(const y of c)y.classList.toggle("collapsed",!p),y.setAttribute("aria-expanded",p)}static jQueryInterface(c){const p={};return typeof c=="string"&&/show|hide/.test(c)&&(p.toggle=!1),this.each(function(){const y=fn.getOrCreateInstance(this,p);if(typeof c=="string"){if(y[c]===void 0)throw new TypeError(`No method named "${c}"`);y[c]()}})}}Y.on(document,nd,ho,function(_){(_.target.tagName==="A"||_.delegateTarget&&_.delegateTarget.tagName==="A")&&_.preventDefault();for(const c of q.getMultipleElementsFromSelector(this))fn.getOrCreateInstance(c,{toggle:!1}).toggle()}),U(fn);var qt="top",en="bottom",Qt="right",Ut="left",mr="auto",Hs=[qt,en,Qt,Ut],qs="start",rs="end",Da="clippingParents",gr="viewport",qn="popper",Es="reference",_r=Hs.reduce(function(_,c){return _.concat([c+"-"+qs,c+"-"+rs])},[]),Na=[].concat(Hs,[mr]).reduce(function(_,c){return _.concat([c,c+"-"+qs,c+"-"+rs])},[]),ka="beforeRead",xa="read",La="afterRead",po="beforeMain",mo="main",Va="afterMain",Ma="beforeWrite",bc="write",Tc="afterWrite",$a=[ka,xa,La,po,mo,Va,Ma,bc,Tc];function On(_){return _?(_.nodeName||"").toLowerCase():null}function pn(_){if(_==null)return window;if(_.toString()!=="[object Window]"){var c=_.ownerDocument;return c&&c.defaultView||window}return _}function mn(_){return _ instanceof pn(_).Element||_ instanceof Element}function Ct(_){return _ instanceof pn(_).HTMLElement||_ instanceof HTMLElement}function wi(_){return typeof ShadowRoot<"u"&&(_ instanceof pn(_).ShadowRoot||_ instanceof ShadowRoot)}const Ai={name:"applyStyles",enabled:!0,phase:"write",fn:function(_){var c=_.state;Object.keys(c.elements).forEach(function(p){var y=c.styles[p]||{},O=c.attributes[p]||{},N=c.elements[p];Ct(N)&&On(N)&&(Object.assign(N.style,y),Object.keys(O).forEach(function(B){var Z=O[B];Z===!1?N.removeAttribute(B):N.setAttribute(B,Z===!0?"":Z)}))})},effect:function(_){var c=_.state,p={popper:{position:c.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(c.elements.popper.style,p.popper),c.styles=p,c.elements.arrow&&Object.assign(c.elements.arrow.style,p.arrow),function(){Object.keys(c.elements).forEach(function(y){var O=c.elements[y],N=c.attributes[y]||{},B=Object.keys(c.styles.hasOwnProperty(y)?c.styles[y]:p[y]).reduce(function(Z,oe){return Z[oe]="",Z},{});Ct(O)&&On(O)&&(Object.assign(O.style,B),Object.keys(N).forEach(function(Z){O.removeAttribute(Z)}))})}},requires:["computeStyles"]};function Dn(_){return _.split("-")[0]}var Ye=Math.max,Ws=Math.min,Wn=Math.round;function zs(){var _=navigator.userAgentData;return _!=null&&_.brands&&Array.isArray(_.brands)?_.brands.map(function(c){return c.brand+"/"+c.version}).join(" "):navigator.userAgent}function wc(){return!/^((?!chrome|android).)*safari/i.test(zs())}function Ks(_,c,p){c===void 0&&(c=!1),p===void 0&&(p=!1);var y=_.getBoundingClientRect(),O=1,N=1;c&&Ct(_)&&(O=_.offsetWidth>0&&Wn(y.width)/_.offsetWidth||1,N=_.offsetHeight>0&&Wn(y.height)/_.offsetHeight||1);var B=(mn(_)?pn(_):window).visualViewport,Z=!wc()&&p,oe=(y.left+(Z&&B?B.offsetLeft:0))/O,pe=(y.top+(Z&&B?B.offsetTop:0))/N,ge=y.width/O,ue=y.height/N;return{width:ge,height:ue,top:pe,right:oe+ge,bottom:pe+ue,left:oe,x:oe,y:pe}}function Fa(_){var c=Ks(_),p=_.offsetWidth,y=_.offsetHeight;return Math.abs(c.width-p)<=1&&(p=c.width),Math.abs(c.height-y)<=1&&(y=c.height),{x:_.offsetLeft,y:_.offsetTop,width:p,height:y}}function Ac(_,c){var p=c.getRootNode&&c.getRootNode();if(_.contains(c))return!0;if(p&&wi(p)){var y=c;do{if(y&&_.isSameNode(y))return!0;y=y.parentNode||y.host}while(y)}return!1}function os(_){return pn(_).getComputedStyle(_)}function sd(_){return["table","td","th"].indexOf(On(_))>=0}function Cn(_){return((mn(_)?_.ownerDocument:_.document)||window.document).documentElement}function Nn(_){return On(_)==="html"?_:_.assignedSlot||_.parentNode||(wi(_)?_.host:null)||Cn(_)}function Ua(_){return Ct(_)&&os(_).position!=="fixed"?_.offsetParent:null}function Ii(_){for(var c=pn(_),p=Ua(_);p&&sd(p)&&os(p).position==="static";)p=Ua(p);return p&&(On(p)==="html"||On(p)==="body"&&os(p).position==="static")?c:p||function(y){var O=/firefox/i.test(zs());if(/Trident/i.test(zs())&&Ct(y)&&os(y).position==="fixed")return null;var N=Nn(y);for(wi(N)&&(N=N.host);Ct(N)&&["html","body"].indexOf(On(N))<0;){var B=os(N);if(B.transform!=="none"||B.perspective!=="none"||B.contain==="paint"||["transform","perspective"].indexOf(B.willChange)!==-1||O&&B.willChange==="filter"||O&&B.filter&&B.filter!=="none")return N;N=N.parentNode}return null}(_)||c}function go(_){return["top","bottom"].indexOf(_)>=0?"x":"y"}function zn(_,c,p){return Ye(_,Ws(c,p))}function Ic(_){return Object.assign({},{top:0,right:0,bottom:0,left:0},_)}function Cc(_,c){return c.reduce(function(p,y){return p[y]=_,p},{})}const Sc={name:"arrow",enabled:!0,phase:"main",fn:function(_){var c,p=_.state,y=_.name,O=_.options,N=p.elements.arrow,B=p.modifiersData.popperOffsets,Z=Dn(p.placement),oe=go(Z),pe=[Ut,Qt].indexOf(Z)>=0?"height":"width";if(N&&B){var ge=function(ut,lt){return Ic(typeof(ut=typeof ut=="function"?ut(Object.assign({},lt.rects,{placement:lt.placement})):ut)!="number"?ut:Cc(ut,Hs))}(O.padding,p),ue=Fa(N),Ve=oe==="y"?qt:Ut,Ae=oe==="y"?en:Qt,De=p.rects.reference[pe]+p.rects.reference[oe]-B[oe]-p.rects.popper[pe],Pe=B[oe]-p.rects.reference[oe],Ne=Ii(N),ct=Ne?oe==="y"?Ne.clientHeight||0:Ne.clientWidth||0:0,mt=De/2-Pe/2,je=ge[Ve],Ze=ct-ue[pe]-ge[Ae],Me=ct/2-ue[pe]/2+mt,ze=zn(je,Me,Ze),at=oe;p.modifiersData[y]=((c={})[at]=ze,c.centerOffset=ze-Me,c)}},effect:function(_){var c=_.state,p=_.options.element,y=p===void 0?"[data-popper-arrow]":p;y!=null&&(typeof y!="string"||(y=c.elements.popper.querySelector(y)))&&Ac(c.elements.popper,y)&&(c.elements.arrow=y)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function gn(_){return _.split("-")[1]}var id={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Rc(_){var c,p=_.popper,y=_.popperRect,O=_.placement,N=_.variation,B=_.offsets,Z=_.position,oe=_.gpuAcceleration,pe=_.adaptive,ge=_.roundOffsets,ue=_.isFixed,Ve=B.x,Ae=Ve===void 0?0:Ve,De=B.y,Pe=De===void 0?0:De,Ne=typeof ge=="function"?ge({x:Ae,y:Pe}):{x:Ae,y:Pe};Ae=Ne.x,Pe=Ne.y;var ct=B.hasOwnProperty("x"),mt=B.hasOwnProperty("y"),je=Ut,Ze=qt,Me=window;if(pe){var ze=Ii(p),at="clientHeight",ut="clientWidth";ze===pn(p)&&os(ze=Cn(p)).position!=="static"&&Z==="absolute"&&(at="scrollHeight",ut="scrollWidth"),(O===qt||(O===Ut||O===Qt)&&N===rs)&&(Ze=en,Pe-=(ue&&ze===Me&&Me.visualViewport?Me.visualViewport.height:ze[at])-y.height,Pe*=oe?1:-1),O!==Ut&&(O!==qt&&O!==en||N!==rs)||(je=Qt,Ae-=(ue&&ze===Me&&Me.visualViewport?Me.visualViewport.width:ze[ut])-y.width,Ae*=oe?1:-1)}var lt,Ot=Object.assign({position:Z},pe&&id),kn=ge===!0?function(ls,vn){var Gn=ls.x,Yn=ls.y,St=vn.devicePixelRatio||1;return{x:Wn(Gn*St)/St||0,y:Wn(Yn*St)/St||0}}({x:Ae,y:Pe},pn(p)):{x:Ae,y:Pe};return Ae=kn.x,Pe=kn.y,oe?Object.assign({},Ot,((lt={})[Ze]=mt?"0":"",lt[je]=ct?"0":"",lt.transform=(Me.devicePixelRatio||1)<=1?"translate("+Ae+"px, "+Pe+"px)":"translate3d("+Ae+"px, "+Pe+"px, 0)",lt)):Object.assign({},Ot,((c={})[Ze]=mt?Pe+"px":"",c[je]=ct?Ae+"px":"",c.transform="",c))}const Ci={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(_){var c=_.state,p=_.options,y=p.gpuAcceleration,O=y===void 0||y,N=p.adaptive,B=N===void 0||N,Z=p.roundOffsets,oe=Z===void 0||Z,pe={placement:Dn(c.placement),variation:gn(c.placement),popper:c.elements.popper,popperRect:c.rects.popper,gpuAcceleration:O,isFixed:c.options.strategy==="fixed"};c.modifiersData.popperOffsets!=null&&(c.styles.popper=Object.assign({},c.styles.popper,Rc(Object.assign({},pe,{offsets:c.modifiersData.popperOffsets,position:c.options.strategy,adaptive:B,roundOffsets:oe})))),c.modifiersData.arrow!=null&&(c.styles.arrow=Object.assign({},c.styles.arrow,Rc(Object.assign({},pe,{offsets:c.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:oe})))),c.attributes.popper=Object.assign({},c.attributes.popper,{"data-popper-placement":c.placement})},data:{}};var Gs={passive:!0};const _o={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(_){var c=_.state,p=_.instance,y=_.options,O=y.scroll,N=O===void 0||O,B=y.resize,Z=B===void 0||B,oe=pn(c.elements.popper),pe=[].concat(c.scrollParents.reference,c.scrollParents.popper);return N&&pe.forEach(function(ge){ge.addEventListener("scroll",p.update,Gs)}),Z&&oe.addEventListener("resize",p.update,Gs),function(){N&&pe.forEach(function(ge){ge.removeEventListener("scroll",p.update,Gs)}),Z&&oe.removeEventListener("resize",p.update,Gs)}},data:{}};var vr={left:"right",right:"left",bottom:"top",top:"bottom"};function bs(_){return _.replace(/left|right|bottom|top/g,function(c){return vr[c]})}var Pc={start:"end",end:"start"};function vo(_){return _.replace(/start|end/g,function(c){return Pc[c]})}function pt(_){var c=pn(_);return{scrollLeft:c.pageXOffset,scrollTop:c.pageYOffset}}function ja(_){return Ks(Cn(_)).left+pt(_).scrollLeft}function Ba(_){var c=os(_),p=c.overflow,y=c.overflowX,O=c.overflowY;return/auto|scroll|overlay|hidden/.test(p+O+y)}function Ha(_){return["html","body","#document"].indexOf(On(_))>=0?_.ownerDocument.body:Ct(_)&&Ba(_)?_:Ha(Nn(_))}function Si(_,c){var p;c===void 0&&(c=[]);var y=Ha(_),O=y===((p=_.ownerDocument)==null?void 0:p.body),N=pn(y),B=O?[N].concat(N.visualViewport||[],Ba(y)?y:[]):y,Z=c.concat(B);return O?Z:Z.concat(Si(Nn(B)))}function yo(_){return Object.assign({},_,{left:_.x,top:_.y,right:_.x+_.width,bottom:_.y+_.height})}function yr(_,c,p){return c===gr?yo(function(y,O){var N=pn(y),B=Cn(y),Z=N.visualViewport,oe=B.clientWidth,pe=B.clientHeight,ge=0,ue=0;if(Z){oe=Z.width,pe=Z.height;var Ve=wc();(Ve||!Ve&&O==="fixed")&&(ge=Z.offsetLeft,ue=Z.offsetTop)}return{width:oe,height:pe,x:ge+ja(y),y:ue}}(_,p)):mn(c)?function(y,O){var N=Ks(y,!1,O==="fixed");return N.top=N.top+y.clientTop,N.left=N.left+y.clientLeft,N.bottom=N.top+y.clientHeight,N.right=N.left+y.clientWidth,N.width=y.clientWidth,N.height=y.clientHeight,N.x=N.left,N.y=N.top,N}(c,p):yo(function(y){var O,N=Cn(y),B=pt(y),Z=(O=y.ownerDocument)==null?void 0:O.body,oe=Ye(N.scrollWidth,N.clientWidth,Z?Z.scrollWidth:0,Z?Z.clientWidth:0),pe=Ye(N.scrollHeight,N.clientHeight,Z?Z.scrollHeight:0,Z?Z.clientHeight:0),ge=-B.scrollLeft+ja(y),ue=-B.scrollTop;return os(Z||N).direction==="rtl"&&(ge+=Ye(N.clientWidth,Z?Z.clientWidth:0)-oe),{width:oe,height:pe,x:ge,y:ue}}(Cn(_)))}function qa(_){var c,p=_.reference,y=_.element,O=_.placement,N=O?Dn(O):null,B=O?gn(O):null,Z=p.x+p.width/2-y.width/2,oe=p.y+p.height/2-y.height/2;switch(N){case qt:c={x:Z,y:p.y-y.height};break;case en:c={x:Z,y:p.y+p.height};break;case Qt:c={x:p.x+p.width,y:oe};break;case Ut:c={x:p.x-y.width,y:oe};break;default:c={x:p.x,y:p.y}}var pe=N?go(N):null;if(pe!=null){var ge=pe==="y"?"height":"width";switch(B){case qs:c[pe]=c[pe]-(p[ge]/2-y[ge]/2);break;case rs:c[pe]=c[pe]+(p[ge]/2-y[ge]/2)}}return c}function tn(_,c){c===void 0&&(c={});var p=c,y=p.placement,O=y===void 0?_.placement:y,N=p.strategy,B=N===void 0?_.strategy:N,Z=p.boundary,oe=Z===void 0?Da:Z,pe=p.rootBoundary,ge=pe===void 0?gr:pe,ue=p.elementContext,Ve=ue===void 0?qn:ue,Ae=p.altBoundary,De=Ae!==void 0&&Ae,Pe=p.padding,Ne=Pe===void 0?0:Pe,ct=Ic(typeof Ne!="number"?Ne:Cc(Ne,Hs)),mt=Ve===qn?Es:qn,je=_.rects.popper,Ze=_.elements[De?mt:Ve],Me=function(vn,Gn,Yn,St){var ws=Gn==="clippingParents"?function(ht){var yn=Si(Nn(ht)),Qn=["absolute","fixed"].indexOf(os(ht).position)>=0&&Ct(ht)?Ii(ht):ht;return mn(Qn)?yn.filter(function(Ni){return mn(Ni)&&Ac(Ni,Qn)&&On(Ni)!=="body"}):[]}(vn):[].concat(Gn),As=[].concat(ws,[Yn]),Co=As[0],Gt=As.reduce(function(ht,yn){var Qn=yr(vn,yn,St);return ht.top=Ye(Qn.top,ht.top),ht.right=Ws(Qn.right,ht.right),ht.bottom=Ws(Qn.bottom,ht.bottom),ht.left=Ye(Qn.left,ht.left),ht},yr(vn,Co,St));return Gt.width=Gt.right-Gt.left,Gt.height=Gt.bottom-Gt.top,Gt.x=Gt.left,Gt.y=Gt.top,Gt}(mn(Ze)?Ze:Ze.contextElement||Cn(_.elements.popper),oe,ge,B),ze=Ks(_.elements.reference),at=qa({reference:ze,element:je,placement:O}),ut=yo(Object.assign({},je,at)),lt=Ve===qn?ut:ze,Ot={top:Me.top-lt.top+ct.top,bottom:lt.bottom-Me.bottom+ct.bottom,left:Me.left-lt.left+ct.left,right:lt.right-Me.right+ct.right},kn=_.modifiersData.offset;if(Ve===qn&&kn){var ls=kn[O];Object.keys(Ot).forEach(function(vn){var Gn=[Qt,en].indexOf(vn)>=0?1:-1,Yn=[qt,en].indexOf(vn)>=0?"y":"x";Ot[vn]+=ls[Yn]*Gn})}return Ot}function Oc(_,c){c===void 0&&(c={});var p=c,y=p.placement,O=p.boundary,N=p.rootBoundary,B=p.padding,Z=p.flipVariations,oe=p.allowedAutoPlacements,pe=oe===void 0?Na:oe,ge=gn(y),ue=ge?Z?_r:_r.filter(function(De){return gn(De)===ge}):Hs,Ve=ue.filter(function(De){return pe.indexOf(De)>=0});Ve.length===0&&(Ve=ue);var Ae=Ve.reduce(function(De,Pe){return De[Pe]=tn(_,{placement:Pe,boundary:O,rootBoundary:N,padding:B})[Dn(Pe)],De},{});return Object.keys(Ae).sort(function(De,Pe){return Ae[De]-Ae[Pe]})}const Dc={name:"flip",enabled:!0,phase:"main",fn:function(_){var c=_.state,p=_.options,y=_.name;if(!c.modifiersData[y]._skip){for(var O=p.mainAxis,N=O===void 0||O,B=p.altAxis,Z=B===void 0||B,oe=p.fallbackPlacements,pe=p.padding,ge=p.boundary,ue=p.rootBoundary,Ve=p.altBoundary,Ae=p.flipVariations,De=Ae===void 0||Ae,Pe=p.allowedAutoPlacements,Ne=c.options.placement,ct=Dn(Ne),mt=oe||(ct!==Ne&&De?function(ht){if(Dn(ht)===mr)return[];var yn=bs(ht);return[vo(ht),yn,vo(yn)]}(Ne):[bs(Ne)]),je=[Ne].concat(mt).reduce(function(ht,yn){return ht.concat(Dn(yn)===mr?Oc(c,{placement:yn,boundary:ge,rootBoundary:ue,padding:pe,flipVariations:De,allowedAutoPlacements:Pe}):yn)},[]),Ze=c.rects.reference,Me=c.rects.popper,ze=new Map,at=!0,ut=je[0],lt=0;lt<je.length;lt++){var Ot=je[lt],kn=Dn(Ot),ls=gn(Ot)===qs,vn=[qt,en].indexOf(kn)>=0,Gn=vn?"width":"height",Yn=tn(c,{placement:Ot,boundary:ge,rootBoundary:ue,altBoundary:Ve,padding:pe}),St=vn?ls?Qt:Ut:ls?en:qt;Ze[Gn]>Me[Gn]&&(St=bs(St));var ws=bs(St),As=[];if(N&&As.push(Yn[kn]<=0),Z&&As.push(Yn[St]<=0,Yn[ws]<=0),As.every(function(ht){return ht})){ut=Ot,at=!1;break}ze.set(Ot,As)}if(at)for(var Co=function(ht){var yn=je.find(function(Qn){var Ni=ze.get(Qn);if(Ni)return Ni.slice(0,ht).every(function(Bc){return Bc})});if(yn)return ut=yn,"break"},Gt=De?3:1;Gt>0&&Co(Gt)!=="break";Gt--);c.placement!==ut&&(c.modifiersData[y]._skip=!0,c.placement=ut,c.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ri(_,c,p){return p===void 0&&(p={x:0,y:0}),{top:_.top-c.height-p.y,right:_.right-c.width+p.x,bottom:_.bottom-c.height+p.y,left:_.left-c.width-p.x}}function Wa(_){return[qt,Qt,en,Ut].some(function(c){return _[c]>=0})}const Eo={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(_){var c=_.state,p=_.name,y=c.rects.reference,O=c.rects.popper,N=c.modifiersData.preventOverflow,B=tn(c,{elementContext:"reference"}),Z=tn(c,{altBoundary:!0}),oe=Ri(B,y),pe=Ri(Z,O,N),ge=Wa(oe),ue=Wa(pe);c.modifiersData[p]={referenceClippingOffsets:oe,popperEscapeOffsets:pe,isReferenceHidden:ge,hasPopperEscaped:ue},c.attributes.popper=Object.assign({},c.attributes.popper,{"data-popper-reference-hidden":ge,"data-popper-escaped":ue})}},Er={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(_){var c=_.state,p=_.options,y=_.name,O=p.offset,N=O===void 0?[0,0]:O,B=Na.reduce(function(ge,ue){return ge[ue]=function(Ve,Ae,De){var Pe=Dn(Ve),Ne=[Ut,qt].indexOf(Pe)>=0?-1:1,ct=typeof De=="function"?De(Object.assign({},Ae,{placement:Ve})):De,mt=ct[0],je=ct[1];return mt=mt||0,je=(je||0)*Ne,[Ut,Qt].indexOf(Pe)>=0?{x:je,y:mt}:{x:mt,y:je}}(ue,c.rects,N),ge},{}),Z=B[c.placement],oe=Z.x,pe=Z.y;c.modifiersData.popperOffsets!=null&&(c.modifiersData.popperOffsets.x+=oe,c.modifiersData.popperOffsets.y+=pe),c.modifiersData[y]=B}},bo={name:"popperOffsets",enabled:!0,phase:"read",fn:function(_){var c=_.state,p=_.name;c.modifiersData[p]=qa({reference:c.rects.reference,element:c.rects.popper,placement:c.placement})},data:{}},br={name:"preventOverflow",enabled:!0,phase:"main",fn:function(_){var c=_.state,p=_.options,y=_.name,O=p.mainAxis,N=O===void 0||O,B=p.altAxis,Z=B!==void 0&&B,oe=p.boundary,pe=p.rootBoundary,ge=p.altBoundary,ue=p.padding,Ve=p.tether,Ae=Ve===void 0||Ve,De=p.tetherOffset,Pe=De===void 0?0:De,Ne=tn(c,{boundary:oe,rootBoundary:pe,padding:ue,altBoundary:ge}),ct=Dn(c.placement),mt=gn(c.placement),je=!mt,Ze=go(ct),Me=Ze==="x"?"y":"x",ze=c.modifiersData.popperOffsets,at=c.rects.reference,ut=c.rects.popper,lt=typeof Pe=="function"?Pe(Object.assign({},c.rects,{placement:c.placement})):Pe,Ot=typeof lt=="number"?{mainAxis:lt,altAxis:lt}:Object.assign({mainAxis:0,altAxis:0},lt),kn=c.modifiersData.offset?c.modifiersData.offset[c.placement]:null,ls={x:0,y:0};if(ze){if(N){var vn,Gn=Ze==="y"?qt:Ut,Yn=Ze==="y"?en:Qt,St=Ze==="y"?"height":"width",ws=ze[Ze],As=ws+Ne[Gn],Co=ws-Ne[Yn],Gt=Ae?-ut[St]/2:0,ht=mt===qs?at[St]:ut[St],yn=mt===qs?-ut[St]:-at[St],Qn=c.elements.arrow,Ni=Ae&&Qn?Fa(Qn):{width:0,height:0},Bc=c.modifiersData["arrow#persistent"]?c.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},sg=Bc[Gn],ig=Bc[Yn],Hc=zn(0,at[St],Ni[St]),RI=je?at[St]/2-Gt-Hc-sg-Ot.mainAxis:ht-Hc-sg-Ot.mainAxis,PI=je?-at[St]/2+Gt+Hc+ig+Ot.mainAxis:yn+Hc+ig+Ot.mainAxis,gd=c.elements.arrow&&Ii(c.elements.arrow),OI=gd?Ze==="y"?gd.clientTop||0:gd.clientLeft||0:0,rg=(vn=kn==null?void 0:kn[Ze])!=null?vn:0,DI=ws+PI-rg,og=zn(Ae?Ws(As,ws+RI-rg-OI):As,ws,Ae?Ye(Co,DI):Co);ze[Ze]=og,ls[Ze]=og-ws}if(Z){var ag,NI=Ze==="x"?qt:Ut,kI=Ze==="x"?en:Qt,Or=ze[Me],qc=Me==="y"?"height":"width",lg=Or+Ne[NI],cg=Or-Ne[kI],_d=[qt,Ut].indexOf(ct)!==-1,ug=(ag=kn==null?void 0:kn[Me])!=null?ag:0,hg=_d?lg:Or-at[qc]-ut[qc]-ug+Ot.altAxis,dg=_d?Or+at[qc]+ut[qc]-ug-Ot.altAxis:cg,fg=Ae&&_d?function(xI,LI,vd){var pg=zn(xI,LI,vd);return pg>vd?vd:pg}(hg,Or,dg):zn(Ae?hg:lg,Or,Ae?dg:cg);ze[Me]=fg,ls[Me]=fg-Or}c.modifiersData[y]=ls}},requiresIfExists:["offset"]};function rd(_,c,p){p===void 0&&(p=!1);var y,O,N=Ct(c),B=Ct(c)&&function(ue){var Ve=ue.getBoundingClientRect(),Ae=Wn(Ve.width)/ue.offsetWidth||1,De=Wn(Ve.height)/ue.offsetHeight||1;return Ae!==1||De!==1}(c),Z=Cn(c),oe=Ks(_,B,p),pe={scrollLeft:0,scrollTop:0},ge={x:0,y:0};return(N||!N&&!p)&&((On(c)!=="body"||Ba(Z))&&(pe=(y=c)!==pn(y)&&Ct(y)?{scrollLeft:(O=y).scrollLeft,scrollTop:O.scrollTop}:pt(y)),Ct(c)?((ge=Ks(c,!0)).x+=c.clientLeft,ge.y+=c.clientTop):Z&&(ge.x=ja(Z))),{x:oe.left+pe.scrollLeft-ge.x,y:oe.top+pe.scrollTop-ge.y,width:oe.width,height:oe.height}}function Nc(_){var c=new Map,p=new Set,y=[];function O(N){p.add(N.name),[].concat(N.requires||[],N.requiresIfExists||[]).forEach(function(B){if(!p.has(B)){var Z=c.get(B);Z&&O(Z)}}),y.push(N)}return _.forEach(function(N){c.set(N.name,N)}),_.forEach(function(N){p.has(N.name)||O(N)}),y}var Pi={placement:"bottom",modifiers:[],strategy:"absolute"};function za(){for(var _=arguments.length,c=new Array(_),p=0;p<_;p++)c[p]=arguments[p];return!c.some(function(y){return!(y&&typeof y.getBoundingClientRect=="function")})}function Tr(_){_===void 0&&(_={});var c=_,p=c.defaultModifiers,y=p===void 0?[]:p,O=c.defaultOptions,N=O===void 0?Pi:O;return function(B,Z,oe){oe===void 0&&(oe=N);var pe,ge,ue={placement:"bottom",orderedModifiers:[],options:Object.assign({},Pi,N),modifiersData:{},elements:{reference:B,popper:Z},attributes:{},styles:{}},Ve=[],Ae=!1,De={state:ue,setOptions:function(Ne){var ct=typeof Ne=="function"?Ne(ue.options):Ne;Pe(),ue.options=Object.assign({},N,ue.options,ct),ue.scrollParents={reference:mn(B)?Si(B):B.contextElement?Si(B.contextElement):[],popper:Si(Z)};var mt,je,Ze=function(Me){var ze=Nc(Me);return $a.reduce(function(at,ut){return at.concat(ze.filter(function(lt){return lt.phase===ut}))},[])}((mt=[].concat(y,ue.options.modifiers),je=mt.reduce(function(Me,ze){var at=Me[ze.name];return Me[ze.name]=at?Object.assign({},at,ze,{options:Object.assign({},at.options,ze.options),data:Object.assign({},at.data,ze.data)}):ze,Me},{}),Object.keys(je).map(function(Me){return je[Me]})));return ue.orderedModifiers=Ze.filter(function(Me){return Me.enabled}),ue.orderedModifiers.forEach(function(Me){var ze=Me.name,at=Me.options,ut=at===void 0?{}:at,lt=Me.effect;if(typeof lt=="function"){var Ot=lt({state:ue,name:ze,instance:De,options:ut});Ve.push(Ot||function(){})}}),De.update()},forceUpdate:function(){if(!Ae){var Ne=ue.elements,ct=Ne.reference,mt=Ne.popper;if(za(ct,mt)){ue.rects={reference:rd(ct,Ii(mt),ue.options.strategy==="fixed"),popper:Fa(mt)},ue.reset=!1,ue.placement=ue.options.placement,ue.orderedModifiers.forEach(function(lt){return ue.modifiersData[lt.name]=Object.assign({},lt.data)});for(var je=0;je<ue.orderedModifiers.length;je++)if(ue.reset!==!0){var Ze=ue.orderedModifiers[je],Me=Ze.fn,ze=Ze.options,at=ze===void 0?{}:ze,ut=Ze.name;typeof Me=="function"&&(ue=Me({state:ue,options:at,name:ut,instance:De})||ue)}else ue.reset=!1,je=-1}}},update:(pe=function(){return new Promise(function(Ne){De.forceUpdate(),Ne(ue)})},function(){return ge||(ge=new Promise(function(Ne){Promise.resolve().then(function(){ge=void 0,Ne(pe())})})),ge}),destroy:function(){Pe(),Ae=!0}};if(!za(B,Z))return De;function Pe(){Ve.forEach(function(Ne){return Ne()}),Ve=[]}return De.setOptions(oe).then(function(Ne){!Ae&&oe.onFirstUpdate&&oe.onFirstUpdate(Ne)}),De}}var Ka=Tr(),Ga=Tr({defaultModifiers:[_o,bo,Ci,Ai]}),To=Tr({defaultModifiers:[_o,bo,Ci,Ai,Er,Dc,br,Sc,Eo]});const wr=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Va,afterRead:La,afterWrite:Tc,applyStyles:Ai,arrow:Sc,auto:mr,basePlacements:Hs,beforeMain:po,beforeRead:ka,beforeWrite:Ma,bottom:en,clippingParents:Da,computeStyles:Ci,createPopper:To,createPopperBase:Ka,createPopperLite:Ga,detectOverflow:tn,end:rs,eventListeners:_o,flip:Dc,hide:Eo,left:Ut,main:mo,modifierPhases:$a,offset:Er,placements:Na,popper:qn,popperGenerator:Tr,popperOffsets:bo,preventOverflow:br,read:xa,reference:Es,right:Qt,start:qs,top:qt,variationPlacements:_r,viewport:gr,write:bc},Symbol.toStringTag,{value:"Module"})),Ya="dropdown",Ts=".bs.dropdown",as=".data-api",kc="ArrowUp",Qa="ArrowDown",xc=`hide${Ts}`,Lc=`hidden${Ts}`,wo=`show${Ts}`,_n=`shown${Ts}`,Xa=`click${Ts}${as}`,Ja=`keydown${Ts}${as}`,Oi=`keyup${Ts}${as}`,a="show",f='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',m=`${f}.${a}`,E=".dropdown-menu",V=M()?"top-end":"top-start",j=M()?"top-start":"top-end",re=M()?"bottom-end":"bottom-start",ot=M()?"bottom-start":"bottom-end",jt=M()?"left-start":"right-start",Ke=M()?"right-start":"left-start",Wt={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},zt={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Kt extends Je{constructor(c,p){super(c,p),this._popper=null,this._parent=this._element.parentNode,this._menu=q.next(this._element,E)[0]||q.prev(this._element,E)[0]||q.findOne(E,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Wt}static get DefaultType(){return zt}static get NAME(){return Ya}toggle(){return this._isShown()?this.hide():this.show()}show(){if(d(this._element)||this._isShown())return;const c={relatedTarget:this._element};if(!Y.trigger(this._element,wo,c).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const p of[].concat(...document.body.children))Y.on(p,"mouseover",v);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(a),this._element.classList.add(a),Y.trigger(this._element,_n,c)}}hide(){if(d(this._element)||!this._isShown())return;const c={relatedTarget:this._element};this._completeHide(c)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(c){if(!Y.trigger(this._element,xc,c).defaultPrevented){if("ontouchstart"in document.documentElement)for(const p of[].concat(...document.body.children))Y.off(p,"mouseover",v);this._popper&&this._popper.destroy(),this._menu.classList.remove(a),this._element.classList.remove(a),this._element.setAttribute("aria-expanded","false"),vt.removeDataAttribute(this._menu,"popper"),Y.trigger(this._element,Lc,c),this._element.focus()}}_getConfig(c){if(typeof(c=super._getConfig(c)).reference=="object"&&!l(c.reference)&&typeof c.reference.getBoundingClientRect!="function")throw new TypeError(`${Ya.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return c}_createPopper(){if(wr===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let c=this._element;this._config.reference==="parent"?c=this._parent:l(this._config.reference)?c=u(this._config.reference):typeof this._config.reference=="object"&&(c=this._config.reference);const p=this._getPopperConfig();this._popper=To(c,this._menu,p)}_isShown(){return this._menu.classList.contains(a)}_getPlacement(){const c=this._parent;if(c.classList.contains("dropend"))return jt;if(c.classList.contains("dropstart"))return Ke;if(c.classList.contains("dropup-center"))return"top";if(c.classList.contains("dropdown-center"))return"bottom";const p=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return c.classList.contains("dropup")?p?j:V:p?ot:re}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:c}=this._config;return typeof c=="string"?c.split(",").map(p=>Number.parseInt(p,10)):typeof c=="function"?p=>c(p,this._element):c}_getPopperConfig(){const c={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(vt.setDataAttribute(this._menu,"popper","static"),c.modifiers=[{name:"applyStyles",enabled:!1}]),{...c,...F(this._config.popperConfig,[void 0,c])}}_selectMenuItem({key:c,target:p}){const y=q.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(O=>h(O));y.length&&H(y,p,c===Qa,!y.includes(p)).focus()}static jQueryInterface(c){return this.each(function(){const p=Kt.getOrCreateInstance(this,c);if(typeof c=="string"){if(p[c]===void 0)throw new TypeError(`No method named "${c}"`);p[c]()}})}static clearMenus(c){if(c.button===2||c.type==="keyup"&&c.key!=="Tab")return;const p=q.find(m);for(const y of p){const O=Kt.getInstance(y);if(!O||O._config.autoClose===!1)continue;const N=c.composedPath(),B=N.includes(O._menu);if(N.includes(O._element)||O._config.autoClose==="inside"&&!B||O._config.autoClose==="outside"&&B||O._menu.contains(c.target)&&(c.type==="keyup"&&c.key==="Tab"||/input|select|option|textarea|form/i.test(c.target.tagName)))continue;const Z={relatedTarget:O._element};c.type==="click"&&(Z.clickEvent=c),O._completeHide(Z)}}static dataApiKeydownHandler(c){const p=/input|textarea/i.test(c.target.tagName),y=c.key==="Escape",O=[kc,Qa].includes(c.key);if(!O&&!y||p&&!y)return;c.preventDefault();const N=this.matches(f)?this:q.prev(this,f)[0]||q.next(this,f)[0]||q.findOne(f,c.delegateTarget.parentNode),B=Kt.getOrCreateInstance(N);if(O)return c.stopPropagation(),B.show(),void B._selectMenuItem(c);B._isShown()&&(c.stopPropagation(),B.hide(),N.focus())}}Y.on(document,Ja,f,Kt.dataApiKeydownHandler),Y.on(document,Ja,E,Kt.dataApiKeydownHandler),Y.on(document,Xa,Kt.clearMenus),Y.on(document,Oi,Kt.clearMenus),Y.on(document,Xa,f,function(_){_.preventDefault(),Kt.getOrCreateInstance(this).toggle()}),U(Kt);const Sn="backdrop",Ar="show",Ao=`mousedown.bs.${Sn}`,gA={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},_A={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Rm extends yt{constructor(c){super(),this._config=this._getConfig(c),this._isAppended=!1,this._element=null}static get Default(){return gA}static get DefaultType(){return _A}static get NAME(){return Sn}show(c){if(!this._config.isVisible)return void F(c);this._append();const p=this._getElement();this._config.isAnimated&&b(p),p.classList.add(Ar),this._emulateAnimation(()=>{F(c)})}hide(c){this._config.isVisible?(this._getElement().classList.remove(Ar),this._emulateAnimation(()=>{this.dispose(),F(c)})):F(c)}dispose(){this._isAppended&&(Y.off(this._element,Ao),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const c=document.createElement("div");c.className=this._config.className,this._config.isAnimated&&c.classList.add("fade"),this._element=c}return this._element}_configAfterMerge(c){return c.rootElement=u(c.rootElement),c}_append(){if(this._isAppended)return;const c=this._getElement();this._config.rootElement.append(c),Y.on(c,Ao,()=>{F(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(c){K(c,this._getElement(),this._config.isAnimated)}}const Vc=".bs.focustrap",vA=`focusin${Vc}`,yA=`keydown.tab${Vc}`,Pm="backward",EA={autofocus:!0,trapElement:null},bA={autofocus:"boolean",trapElement:"element"};class Om extends yt{constructor(c){super(),this._config=this._getConfig(c),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return EA}static get DefaultType(){return bA}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Y.off(document,Vc),Y.on(document,vA,c=>this._handleFocusin(c)),Y.on(document,yA,c=>this._handleKeydown(c)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Y.off(document,Vc))}_handleFocusin(c){const{trapElement:p}=this._config;if(c.target===document||c.target===p||p.contains(c.target))return;const y=q.focusableChildren(p);y.length===0?p.focus():this._lastTabNavDirection===Pm?y[y.length-1].focus():y[0].focus()}_handleKeydown(c){c.key==="Tab"&&(this._lastTabNavDirection=c.shiftKey?Pm:"forward")}}const Dm=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Nm=".sticky-top",Mc="padding-right",km="margin-right";class od{constructor(){this._element=document.body}getWidth(){const c=document.documentElement.clientWidth;return Math.abs(window.innerWidth-c)}hide(){const c=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Mc,p=>p+c),this._setElementAttributes(Dm,Mc,p=>p+c),this._setElementAttributes(Nm,km,p=>p-c)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Mc),this._resetElementAttributes(Dm,Mc),this._resetElementAttributes(Nm,km)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(c,p,y){const O=this.getWidth();this._applyManipulationCallback(c,N=>{if(N!==this._element&&window.innerWidth>N.clientWidth+O)return;this._saveInitialAttribute(N,p);const B=window.getComputedStyle(N).getPropertyValue(p);N.style.setProperty(p,`${y(Number.parseFloat(B))}px`)})}_saveInitialAttribute(c,p){const y=c.style.getPropertyValue(p);y&&vt.setDataAttribute(c,p,y)}_resetElementAttributes(c,p){this._applyManipulationCallback(c,y=>{const O=vt.getDataAttribute(y,p);O!==null?(vt.removeDataAttribute(y,p),y.style.setProperty(p,O)):y.style.removeProperty(p)})}_applyManipulationCallback(c,p){if(l(c))p(c);else for(const y of q.find(c,this._element))p(y)}}const Kn=".bs.modal",TA=`hide${Kn}`,wA=`hidePrevented${Kn}`,xm=`hidden${Kn}`,Lm=`show${Kn}`,AA=`shown${Kn}`,IA=`resize${Kn}`,CA=`click.dismiss${Kn}`,SA=`mousedown.dismiss${Kn}`,RA=`keydown.dismiss${Kn}`,PA=`click${Kn}.data-api`,Vm="modal-open",Mm="show",ad="modal-static",OA={backdrop:!0,focus:!0,keyboard:!0},DA={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ir extends Je{constructor(c,p){super(c,p),this._dialog=q.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new od,this._addEventListeners()}static get Default(){return OA}static get DefaultType(){return DA}static get NAME(){return"modal"}toggle(c){return this._isShown?this.hide():this.show(c)}show(c){this._isShown||this._isTransitioning||Y.trigger(this._element,Lm,{relatedTarget:c}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Vm),this._adjustDialog(),this._backdrop.show(()=>this._showElement(c)))}hide(){this._isShown&&!this._isTransitioning&&(Y.trigger(this._element,TA).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Mm),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){Y.off(window,Kn),Y.off(this._dialog,Kn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Rm({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Om({trapElement:this._element})}_showElement(c){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const p=q.findOne(".modal-body",this._dialog);p&&(p.scrollTop=0),b(this._element),this._element.classList.add(Mm),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Y.trigger(this._element,AA,{relatedTarget:c})},this._dialog,this._isAnimated())}_addEventListeners(){Y.on(this._element,RA,c=>{c.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),Y.on(window,IA,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Y.on(this._element,SA,c=>{Y.one(this._element,CA,p=>{this._element===c.target&&this._element===p.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Vm),this._resetAdjustments(),this._scrollBar.reset(),Y.trigger(this._element,xm)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Y.trigger(this._element,wA).defaultPrevented)return;const c=this._element.scrollHeight>document.documentElement.clientHeight,p=this._element.style.overflowY;p==="hidden"||this._element.classList.contains(ad)||(c||(this._element.style.overflowY="hidden"),this._element.classList.add(ad),this._queueCallback(()=>{this._element.classList.remove(ad),this._queueCallback(()=>{this._element.style.overflowY=p},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const c=this._element.scrollHeight>document.documentElement.clientHeight,p=this._scrollBar.getWidth(),y=p>0;if(y&&!c){const O=M()?"paddingLeft":"paddingRight";this._element.style[O]=`${p}px`}if(!y&&c){const O=M()?"paddingRight":"paddingLeft";this._element.style[O]=`${p}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(c,p){return this.each(function(){const y=Ir.getOrCreateInstance(this,c);if(typeof c=="string"){if(y[c]===void 0)throw new TypeError(`No method named "${c}"`);y[c](p)}})}}Y.on(document,PA,'[data-bs-toggle="modal"]',function(_){const c=q.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&_.preventDefault(),Y.one(c,Lm,y=>{y.defaultPrevented||Y.one(c,xm,()=>{h(this)&&this.focus()})});const p=q.findOne(".modal.show");p&&Ir.getInstance(p).hide(),Ir.getOrCreateInstance(c).toggle(this)}),ie(Ir),U(Ir);const Ys=".bs.offcanvas",$m=".data-api",NA=`load${Ys}${$m}`,Fm="show",Um="showing",jm="hiding",Bm=".offcanvas.show",kA=`show${Ys}`,xA=`shown${Ys}`,LA=`hide${Ys}`,Hm=`hidePrevented${Ys}`,qm=`hidden${Ys}`,VA=`resize${Ys}`,MA=`click${Ys}${$m}`,$A=`keydown.dismiss${Ys}`,FA={backdrop:!0,keyboard:!0,scroll:!1},UA={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Qs extends Je{constructor(c,p){super(c,p),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return FA}static get DefaultType(){return UA}static get NAME(){return"offcanvas"}toggle(c){return this._isShown?this.hide():this.show(c)}show(c){this._isShown||Y.trigger(this._element,kA,{relatedTarget:c}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new od().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Um),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Fm),this._element.classList.remove(Um),Y.trigger(this._element,xA,{relatedTarget:c})},this._element,!0))}hide(){this._isShown&&(Y.trigger(this._element,LA).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(jm),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Fm,jm),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new od().reset(),Y.trigger(this._element,qm)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const c=!!this._config.backdrop;return new Rm({className:"offcanvas-backdrop",isVisible:c,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:c?()=>{this._config.backdrop!=="static"?this.hide():Y.trigger(this._element,Hm)}:null})}_initializeFocusTrap(){return new Om({trapElement:this._element})}_addEventListeners(){Y.on(this._element,$A,c=>{c.key==="Escape"&&(this._config.keyboard?this.hide():Y.trigger(this._element,Hm))})}static jQueryInterface(c){return this.each(function(){const p=Qs.getOrCreateInstance(this,c);if(typeof c=="string"){if(p[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);p[c](this)}})}}Y.on(document,MA,'[data-bs-toggle="offcanvas"]',function(_){const c=q.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&_.preventDefault(),d(this))return;Y.one(c,qm,()=>{h(this)&&this.focus()});const p=q.findOne(Bm);p&&p!==c&&Qs.getInstance(p).hide(),Qs.getOrCreateInstance(c).toggle(this)}),Y.on(window,NA,()=>{for(const _ of q.find(Bm))Qs.getOrCreateInstance(_).show()}),Y.on(window,VA,()=>{for(const _ of q.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(_).position!=="fixed"&&Qs.getOrCreateInstance(_).hide()}),ie(Qs),U(Qs);const Wm={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},jA=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),BA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,HA=(_,c)=>{const p=_.nodeName.toLowerCase();return c.includes(p)?!jA.has(p)||!!BA.test(_.nodeValue):c.filter(y=>y instanceof RegExp).some(y=>y.test(p))},qA={allowList:Wm,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},WA={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},zA={entry:"(string|element|function|null)",selector:"(string|element)"};class KA extends yt{constructor(c){super(),this._config=this._getConfig(c)}static get Default(){return qA}static get DefaultType(){return WA}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(c=>this._resolvePossibleFunction(c)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(c){return this._checkContent(c),this._config.content={...this._config.content,...c},this}toHtml(){const c=document.createElement("div");c.innerHTML=this._maybeSanitize(this._config.template);for(const[O,N]of Object.entries(this._config.content))this._setContent(c,N,O);const p=c.children[0],y=this._resolvePossibleFunction(this._config.extraClass);return y&&p.classList.add(...y.split(" ")),p}_typeCheckConfig(c){super._typeCheckConfig(c),this._checkContent(c.content)}_checkContent(c){for(const[p,y]of Object.entries(c))super._typeCheckConfig({selector:p,entry:y},zA)}_setContent(c,p,y){const O=q.findOne(y,c);O&&((p=this._resolvePossibleFunction(p))?l(p)?this._putElementInTemplate(u(p),O):this._config.html?O.innerHTML=this._maybeSanitize(p):O.textContent=p:O.remove())}_maybeSanitize(c){return this._config.sanitize?function(p,y,O){if(!p.length)return p;if(O&&typeof O=="function")return O(p);const N=new window.DOMParser().parseFromString(p,"text/html"),B=[].concat(...N.body.querySelectorAll("*"));for(const Z of B){const oe=Z.nodeName.toLowerCase();if(!Object.keys(y).includes(oe)){Z.remove();continue}const pe=[].concat(...Z.attributes),ge=[].concat(y["*"]||[],y[oe]||[]);for(const ue of pe)HA(ue,ge)||Z.removeAttribute(ue.nodeName)}return N.body.innerHTML}(c,this._config.allowList,this._config.sanitizeFn):c}_resolvePossibleFunction(c){return F(c,[void 0,this])}_putElementInTemplate(c,p){if(this._config.html)return p.innerHTML="",void p.append(c);p.textContent=c.textContent}}const GA=new Set(["sanitize","allowList","sanitizeFn"]),ld="fade",$c="show",YA=".tooltip-inner",zm=".modal",Km="hide.bs.modal",Za="hover",cd="focus",QA={AUTO:"auto",TOP:"top",RIGHT:M()?"left":"right",BOTTOM:"bottom",LEFT:M()?"right":"left"},XA={allowList:Wm,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},JA={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Cr extends Je{constructor(c,p){if(wr===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(c,p),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return XA}static get DefaultType(){return JA}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),Y.off(this._element.closest(zm),Km,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const c=Y.trigger(this._element,this.constructor.eventName("show")),p=(g(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(c.defaultPrevented||!p)return;this._disposePopper();const y=this._getTipElement();this._element.setAttribute("aria-describedby",y.getAttribute("id"));const{container:O}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(O.append(y),Y.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(y),y.classList.add($c),"ontouchstart"in document.documentElement)for(const N of[].concat(...document.body.children))Y.on(N,"mouseover",v);this._queueCallback(()=>{Y.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Y.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove($c),"ontouchstart"in document.documentElement)for(const c of[].concat(...document.body.children))Y.off(c,"mouseover",v);this._activeTrigger.click=!1,this._activeTrigger[cd]=!1,this._activeTrigger[Za]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Y.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(c){const p=this._getTemplateFactory(c).toHtml();if(!p)return null;p.classList.remove(ld,$c),p.classList.add(`bs-${this.constructor.NAME}-auto`);const y=(O=>{do O+=Math.floor(1e6*Math.random());while(document.getElementById(O));return O})(this.constructor.NAME).toString();return p.setAttribute("id",y),this._isAnimated()&&p.classList.add(ld),p}setContent(c){this._newContent=c,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(c){return this._templateFactory?this._templateFactory.changeContent(c):this._templateFactory=new KA({...this._config,content:c,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[YA]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(c){return this.constructor.getOrCreateInstance(c.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(ld)}_isShown(){return this.tip&&this.tip.classList.contains($c)}_createPopper(c){const p=F(this._config.placement,[this,c,this._element]),y=QA[p.toUpperCase()];return To(this._element,c,this._getPopperConfig(y))}_getOffset(){const{offset:c}=this._config;return typeof c=="string"?c.split(",").map(p=>Number.parseInt(p,10)):typeof c=="function"?p=>c(p,this._element):c}_resolvePossibleFunction(c){return F(c,[this._element,this._element])}_getPopperConfig(c){const p={placement:c,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:y=>{this._getTipElement().setAttribute("data-popper-placement",y.state.placement)}}]};return{...p,...F(this._config.popperConfig,[void 0,p])}}_setListeners(){const c=this._config.trigger.split(" ");for(const p of c)if(p==="click")Y.on(this._element,this.constructor.eventName("click"),this._config.selector,y=>{this._initializeOnDelegatedTarget(y).toggle()});else if(p!=="manual"){const y=p===Za?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),O=p===Za?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");Y.on(this._element,y,this._config.selector,N=>{const B=this._initializeOnDelegatedTarget(N);B._activeTrigger[N.type==="focusin"?cd:Za]=!0,B._enter()}),Y.on(this._element,O,this._config.selector,N=>{const B=this._initializeOnDelegatedTarget(N);B._activeTrigger[N.type==="focusout"?cd:Za]=B._element.contains(N.relatedTarget),B._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Y.on(this._element.closest(zm),Km,this._hideModalHandler)}_fixTitle(){const c=this._element.getAttribute("title");c&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",c),this._element.setAttribute("data-bs-original-title",c),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(c,p){clearTimeout(this._timeout),this._timeout=setTimeout(c,p)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(c){const p=vt.getDataAttributes(this._element);for(const y of Object.keys(p))GA.has(y)&&delete p[y];return c={...p,...typeof c=="object"&&c?c:{}},c=this._mergeConfigObj(c),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}_configAfterMerge(c){return c.container=c.container===!1?document.body:u(c.container),typeof c.delay=="number"&&(c.delay={show:c.delay,hide:c.delay}),typeof c.title=="number"&&(c.title=c.title.toString()),typeof c.content=="number"&&(c.content=c.content.toString()),c}_getDelegateConfig(){const c={};for(const[p,y]of Object.entries(this._config))this.constructor.Default[p]!==y&&(c[p]=y);return c.selector=!1,c.trigger="manual",c}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(c){return this.each(function(){const p=Cr.getOrCreateInstance(this,c);if(typeof c=="string"){if(p[c]===void 0)throw new TypeError(`No method named "${c}"`);p[c]()}})}}U(Cr);const ZA=".popover-header",eI=".popover-body",tI={...Cr.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},nI={...Cr.DefaultType,content:"(null|string|element|function)"};class Fc extends Cr{static get Default(){return tI}static get DefaultType(){return nI}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[ZA]:this._getTitle(),[eI]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(c){return this.each(function(){const p=Fc.getOrCreateInstance(this,c);if(typeof c=="string"){if(p[c]===void 0)throw new TypeError(`No method named "${c}"`);p[c]()}})}}U(Fc);const ud=".bs.scrollspy",sI=`activate${ud}`,Gm=`click${ud}`,iI=`load${ud}.data-api`,Io="active",hd="[href]",Ym=".nav-link",rI=`${Ym}, .nav-item > ${Ym}, .list-group-item`,oI={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},aI={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class el extends Je{constructor(c,p){super(c,p),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return oI}static get DefaultType(){return aI}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const c of this._observableSections.values())this._observer.observe(c)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(c){return c.target=u(c.target)||document.body,c.rootMargin=c.offset?`${c.offset}px 0px -30%`:c.rootMargin,typeof c.threshold=="string"&&(c.threshold=c.threshold.split(",").map(p=>Number.parseFloat(p))),c}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Y.off(this._config.target,Gm),Y.on(this._config.target,Gm,hd,c=>{const p=this._observableSections.get(c.target.hash);if(p){c.preventDefault();const y=this._rootElement||window,O=p.offsetTop-this._element.offsetTop;if(y.scrollTo)return void y.scrollTo({top:O,behavior:"smooth"});y.scrollTop=O}}))}_getNewObserver(){const c={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(p=>this._observerCallback(p),c)}_observerCallback(c){const p=B=>this._targetLinks.get(`#${B.target.id}`),y=B=>{this._previousScrollData.visibleEntryTop=B.target.offsetTop,this._process(p(B))},O=(this._rootElement||document.documentElement).scrollTop,N=O>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=O;for(const B of c){if(!B.isIntersecting){this._activeTarget=null,this._clearActiveClass(p(B));continue}const Z=B.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(N&&Z){if(y(B),!O)return}else N||Z||y(B)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const c=q.find(hd,this._config.target);for(const p of c){if(!p.hash||d(p))continue;const y=q.findOne(decodeURI(p.hash),this._element);h(y)&&(this._targetLinks.set(decodeURI(p.hash),p),this._observableSections.set(p.hash,y))}}_process(c){this._activeTarget!==c&&(this._clearActiveClass(this._config.target),this._activeTarget=c,c.classList.add(Io),this._activateParents(c),Y.trigger(this._element,sI,{relatedTarget:c}))}_activateParents(c){if(c.classList.contains("dropdown-item"))q.findOne(".dropdown-toggle",c.closest(".dropdown")).classList.add(Io);else for(const p of q.parents(c,".nav, .list-group"))for(const y of q.prev(p,rI))y.classList.add(Io)}_clearActiveClass(c){c.classList.remove(Io);const p=q.find(`${hd}.${Io}`,c);for(const y of p)y.classList.remove(Io)}static jQueryInterface(c){return this.each(function(){const p=el.getOrCreateInstance(this,c);if(typeof c=="string"){if(p[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);p[c]()}})}}Y.on(window,iI,()=>{for(const _ of q.find('[data-bs-spy="scroll"]'))el.getOrCreateInstance(_)}),U(el);const Sr=".bs.tab",lI=`hide${Sr}`,cI=`hidden${Sr}`,uI=`show${Sr}`,hI=`shown${Sr}`,dI=`click${Sr}`,fI=`keydown${Sr}`,pI=`load${Sr}`,mI="ArrowLeft",Qm="ArrowRight",gI="ArrowUp",Xm="ArrowDown",dd="Home",Jm="End",Rr="active",Zm="fade",fd="show",eg=".dropdown-toggle",pd=`:not(${eg})`,tg='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',md=`.nav-link${pd}, .list-group-item${pd}, [role="tab"]${pd}, ${tg}`,_I=`.${Rr}[data-bs-toggle="tab"], .${Rr}[data-bs-toggle="pill"], .${Rr}[data-bs-toggle="list"]`;class Pr extends Je{constructor(c){super(c),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Y.on(this._element,fI,p=>this._keydown(p)))}static get NAME(){return"tab"}show(){const c=this._element;if(this._elemIsActive(c))return;const p=this._getActiveElem(),y=p?Y.trigger(p,lI,{relatedTarget:c}):null;Y.trigger(c,uI,{relatedTarget:p}).defaultPrevented||y&&y.defaultPrevented||(this._deactivate(p,c),this._activate(c,p))}_activate(c,p){c&&(c.classList.add(Rr),this._activate(q.getElementFromSelector(c)),this._queueCallback(()=>{c.getAttribute("role")==="tab"?(c.removeAttribute("tabindex"),c.setAttribute("aria-selected",!0),this._toggleDropDown(c,!0),Y.trigger(c,hI,{relatedTarget:p})):c.classList.add(fd)},c,c.classList.contains(Zm)))}_deactivate(c,p){c&&(c.classList.remove(Rr),c.blur(),this._deactivate(q.getElementFromSelector(c)),this._queueCallback(()=>{c.getAttribute("role")==="tab"?(c.setAttribute("aria-selected",!1),c.setAttribute("tabindex","-1"),this._toggleDropDown(c,!1),Y.trigger(c,cI,{relatedTarget:p})):c.classList.remove(fd)},c,c.classList.contains(Zm)))}_keydown(c){if(![mI,Qm,gI,Xm,dd,Jm].includes(c.key))return;c.stopPropagation(),c.preventDefault();const p=this._getChildren().filter(O=>!d(O));let y;if([dd,Jm].includes(c.key))y=p[c.key===dd?0:p.length-1];else{const O=[Qm,Xm].includes(c.key);y=H(p,c.target,O,!0)}y&&(y.focus({preventScroll:!0}),Pr.getOrCreateInstance(y).show())}_getChildren(){return q.find(md,this._parent)}_getActiveElem(){return this._getChildren().find(c=>this._elemIsActive(c))||null}_setInitialAttributes(c,p){this._setAttributeIfNotExists(c,"role","tablist");for(const y of p)this._setInitialAttributesOnChild(y)}_setInitialAttributesOnChild(c){c=this._getInnerElement(c);const p=this._elemIsActive(c),y=this._getOuterElement(c);c.setAttribute("aria-selected",p),y!==c&&this._setAttributeIfNotExists(y,"role","presentation"),p||c.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(c,"role","tab"),this._setInitialAttributesOnTargetPanel(c)}_setInitialAttributesOnTargetPanel(c){const p=q.getElementFromSelector(c);p&&(this._setAttributeIfNotExists(p,"role","tabpanel"),c.id&&this._setAttributeIfNotExists(p,"aria-labelledby",`${c.id}`))}_toggleDropDown(c,p){const y=this._getOuterElement(c);if(!y.classList.contains("dropdown"))return;const O=(N,B)=>{const Z=q.findOne(N,y);Z&&Z.classList.toggle(B,p)};O(eg,Rr),O(".dropdown-menu",fd),y.setAttribute("aria-expanded",p)}_setAttributeIfNotExists(c,p,y){c.hasAttribute(p)||c.setAttribute(p,y)}_elemIsActive(c){return c.classList.contains(Rr)}_getInnerElement(c){return c.matches(md)?c:q.findOne(md,c)}_getOuterElement(c){return c.closest(".nav-item, .list-group-item")||c}static jQueryInterface(c){return this.each(function(){const p=Pr.getOrCreateInstance(this);if(typeof c=="string"){if(p[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);p[c]()}})}}Y.on(document,dI,tg,function(_){["A","AREA"].includes(this.tagName)&&_.preventDefault(),d(this)||Pr.getOrCreateInstance(this).show()}),Y.on(window,pI,()=>{for(const _ of q.find(_I))Pr.getOrCreateInstance(_)}),U(Pr);const Di=".bs.toast",vI=`mouseover${Di}`,yI=`mouseout${Di}`,EI=`focusin${Di}`,bI=`focusout${Di}`,TI=`hide${Di}`,wI=`hidden${Di}`,AI=`show${Di}`,II=`shown${Di}`,ng="hide",Uc="show",jc="showing",CI={animation:"boolean",autohide:"boolean",delay:"number"},SI={animation:!0,autohide:!0,delay:5e3};class tl extends Je{constructor(c,p){super(c,p),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return SI}static get DefaultType(){return CI}static get NAME(){return"toast"}show(){Y.trigger(this._element,AI).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(ng),b(this._element),this._element.classList.add(Uc,jc),this._queueCallback(()=>{this._element.classList.remove(jc),Y.trigger(this._element,II),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(Y.trigger(this._element,TI).defaultPrevented||(this._element.classList.add(jc),this._queueCallback(()=>{this._element.classList.add(ng),this._element.classList.remove(jc,Uc),Y.trigger(this._element,wI)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Uc),super.dispose()}isShown(){return this._element.classList.contains(Uc)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(c,p){switch(c.type){case"mouseover":case"mouseout":this._hasMouseInteraction=p;break;case"focusin":case"focusout":this._hasKeyboardInteraction=p}if(p)return void this._clearTimeout();const y=c.relatedTarget;this._element===y||this._element.contains(y)||this._maybeScheduleHide()}_setListeners(){Y.on(this._element,vI,c=>this._onInteraction(c,!0)),Y.on(this._element,yI,c=>this._onInteraction(c,!1)),Y.on(this._element,EI,c=>this._onInteraction(c,!0)),Y.on(this._element,bI,c=>this._onInteraction(c,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(c){return this.each(function(){const p=tl.getOrCreateInstance(this,c);if(typeof c=="string"){if(p[c]===void 0)throw new TypeError(`No method named "${c}"`);p[c](this)}})}}return ie(tl),U(tl),{Alert:C,Button:z,Carousel:Bs,Collapse:fn,Dropdown:Kt,Modal:Ir,Offcanvas:Qs,Popover:Fc,ScrollSpy:el,Tab:Pr,Toast:tl,Tooltip:Cr}})}(Au)),Au.exports}sL();const uc=(n,e)=>{const t=n.__vccOpts||n;for(const[s,i]of e)t[s]=i;return t},iL={props:{text:{type:String,required:!0},maxLength:{type:Number,default:100}},computed:{truncatedText(){return this.text.length<=this.maxLength?this.text:this.text.slice(0,this.maxLength).trim()+"..."}}};function rL(n,e,t,s,i,r){return et(),tt("div",null,[$("p",null,cn(r.truncatedText),1)])}const oL=uc(iL,[["render",rL]]),aL={class:"container-fluid py-2 commentaires"},lL={class:"font-weight-light"},cL={class:"media-scroller snaps-inline comms",id:"commentairesIn"},uL={class:"comm-card"},hL={class:"small"},dL={class:"user"},fL=["src","alt"],pL={class:"username"},mL={class:"stars"},gL={__name:"Comments",setup(n){const e=Nt([{id:1,username:"xXDarkSasukeDu44Xx",picture:"/assets/img/gtavi.png",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"1"},{id:2,username:"xXDarkSasukeDu44Xx",picture:"",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"2"},{id:3,username:"xXDarkSasukeDu44Xx",picture:"",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"3"},{id:4,username:"xXDarkSasukeDu44Xx",picture:"",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"5"},{id:5,username:"xXDarkSasukeDu44Xx",picture:"",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"3"},{id:6,username:"xXDarkSasukeDu44Xx",picture:"",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"3"}]);return(t,s)=>(et(),tt("div",aL,[$("h2",lL,cn(e.value.length)+" Commentaires :",1),$("div",null,[$("ul",cL,[(et(!0),tt(Lt,null,Hr(e.value,i=>(et(),tt("li",{key:i.id},[$("div",uL,[$("div",hL,[$("div",dL,[$("img",{src:i.picture,alt:i.username},null,8,fL),$("h3",pL,cn(i.username),1)]),$("div",mL,[(et(),tt(Lt,null,Hr(5,(r,o)=>$("span",{key:o},cn(o<i.rating?"":""),1)),64))])]),s[0]||(s[0]=$("div",{class:"texte"},null,-1)),$("h4",null,[qe(oL,{text:i.text,maxLength:80},null,8,["text"])]),s[1]||(s[1]=$("h2",null,null,-1))])]))),128))])])]))}},_L={class:"container-fluid py-2"},vL={class:"media-scroller snaps-inline"},yL={class:"game-card"},EL=["href"],bL=["src","alt"],TL={class:"game-text"},wL={class:"titre"},AL={class:"prix"},IL={__name:"Promo",setup(n){const e=Nt([]),t=["kn9pH1dkwMBBF3YOvmvN","sTIYDzvGIubJuR7DOIaD","NUSTlf7nbt76DKvcEFmv"],s=async()=>{const i=bT(cc,"games"),r=DT(i,NT("__name__","in",t));try{const o=await xT(r);e.value=[],o.forEach(l=>{const u=l.data();e.value.push({id:l.id,titre:u.name,link:u.link,image:u.image,price:`${u.price}`})})}catch(o){console.error("Erreur lors de la rcupration des jeux :",o)}};return Xl(()=>{s()}),console.log("Rsultat Firestore:",e.value),(i,r)=>(et(),tt("div",_L,[r[1]||(r[1]=$("h2",{class:"font-weight-light"},"Les jeux de la semaine",-1)),$("div",null,[$("ul",vL,[(et(!0),tt(Lt,null,Hr(e.value,o=>(et(),tt("li",{key:o.id},[$("div",yL,[$("a",{href:o.link},[$("img",{src:`/assets/img/preview/${o.image}`,alt:o.titre},null,8,bL)],8,EL),$("div",TL,[$("h3",wL,cn(o.titre)+" :",1),$("h3",AL,cn(o.price),1)]),r[0]||(r[0]=$("h2",null,null,-1))])]))),128))])])]))}};var wn="top",jn="bottom",Bn="right",An="left",Wh="auto",Ia=[wn,jn,Bn,An],Qr="start",ua="end",mw="clippingParents",um="viewport",Vo="popper",gw="reference",Hf=Ia.reduce(function(n,e){return n.concat([e+"-"+Qr,e+"-"+ua])},[]),hm=[].concat(Ia,[Wh]).reduce(function(n,e){return n.concat([e,e+"-"+Qr,e+"-"+ua])},[]),_w="beforeRead",vw="read",yw="afterRead",Ew="beforeMain",bw="main",Tw="afterMain",ww="beforeWrite",Aw="write",Iw="afterWrite",Cw=[_w,vw,yw,Ew,bw,Tw,ww,Aw,Iw];function Us(n){return n?(n.nodeName||"").toLowerCase():null}function Hn(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Xr(n){var e=Hn(n).Element;return n instanceof e||n instanceof Element}function Zn(n){var e=Hn(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function dm(n){if(typeof ShadowRoot>"u")return!1;var e=Hn(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function CL(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var s=e.styles[t]||{},i=e.attributes[t]||{},r=e.elements[t];!Zn(r)||!Us(r)||(Object.assign(r.style,s),Object.keys(i).forEach(function(o){var l=i[o];l===!1?r.removeAttribute(o):r.setAttribute(o,l===!0?"":l)}))})}function SL(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(s){var i=e.elements[s],r=e.attributes[s]||{},o=Object.keys(e.styles.hasOwnProperty(s)?e.styles[s]:t[s]),l=o.reduce(function(u,h){return u[h]="",u},{});!Zn(i)||!Us(i)||(Object.assign(i.style,l),Object.keys(r).forEach(function(u){i.removeAttribute(u)}))})}}const fm={name:"applyStyles",enabled:!0,phase:"write",fn:CL,effect:SL,requires:["computeStyles"]};function Ls(n){return n.split("-")[0]}var jr=Math.max,rh=Math.min,ha=Math.round;function qf(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Sw(){return!/^((?!chrome|android).)*safari/i.test(qf())}function da(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var s=n.getBoundingClientRect(),i=1,r=1;e&&Zn(n)&&(i=n.offsetWidth>0&&ha(s.width)/n.offsetWidth||1,r=n.offsetHeight>0&&ha(s.height)/n.offsetHeight||1);var o=Xr(n)?Hn(n):window,l=o.visualViewport,u=!Sw()&&t,h=(s.left+(u&&l?l.offsetLeft:0))/i,d=(s.top+(u&&l?l.offsetTop:0))/r,g=s.width/i,v=s.height/r;return{width:g,height:v,top:d,right:h+g,bottom:d+v,left:h,x:h,y:d}}function pm(n){var e=da(n),t=n.offsetWidth,s=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:s}}function Rw(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&dm(t)){var s=e;do{if(s&&n.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function fi(n){return Hn(n).getComputedStyle(n)}function RL(n){return["table","td","th"].indexOf(Us(n))>=0}function cr(n){return((Xr(n)?n.ownerDocument:n.document)||window.document).documentElement}function zh(n){return Us(n)==="html"?n:n.assignedSlot||n.parentNode||(dm(n)?n.host:null)||cr(n)}function jv(n){return!Zn(n)||fi(n).position==="fixed"?null:n.offsetParent}function PL(n){var e=/firefox/i.test(qf()),t=/Trident/i.test(qf());if(t&&Zn(n)){var s=fi(n);if(s.position==="fixed")return null}var i=zh(n);for(dm(i)&&(i=i.host);Zn(i)&&["html","body"].indexOf(Us(i))<0;){var r=fi(i);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||e&&r.willChange==="filter"||e&&r.filter&&r.filter!=="none")return i;i=i.parentNode}return null}function hc(n){for(var e=Hn(n),t=jv(n);t&&RL(t)&&fi(t).position==="static";)t=jv(t);return t&&(Us(t)==="html"||Us(t)==="body"&&fi(t).position==="static")?e:t||PL(n)||e}function mm(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Sl(n,e,t){return jr(n,rh(e,t))}function OL(n,e,t){var s=Sl(n,e,t);return s>t?t:s}function Pw(){return{top:0,right:0,bottom:0,left:0}}function Ow(n){return Object.assign({},Pw(),n)}function Dw(n,e){return e.reduce(function(t,s){return t[s]=n,t},{})}var DL=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,Ow(typeof e!="number"?e:Dw(e,Ia))};function NL(n){var e,t=n.state,s=n.name,i=n.options,r=t.elements.arrow,o=t.modifiersData.popperOffsets,l=Ls(t.placement),u=mm(l),h=[An,Bn].indexOf(l)>=0,d=h?"height":"width";if(!(!r||!o)){var g=DL(i.padding,t),v=pm(r),b=u==="y"?wn:An,k=u==="y"?jn:Bn,L=t.rects.reference[d]+t.rects.reference[u]-o[u]-t.rects.popper[d],M=o[u]-t.rects.reference[u],U=hc(r),F=U?u==="y"?U.clientHeight||0:U.clientWidth||0:0,K=L/2-M/2,H=g[b],ce=F-v[d]-g[k],he=F/2-v[d]/2+K,S=Sl(H,he,ce),T=u;t.modifiersData[s]=(e={},e[T]=S,e.centerOffset=S-he,e)}}function kL(n){var e=n.state,t=n.options,s=t.element,i=s===void 0?"[data-popper-arrow]":s;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Rw(e.elements.popper,i)&&(e.elements.arrow=i))}const Nw={name:"arrow",enabled:!0,phase:"main",fn:NL,effect:kL,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function fa(n){return n.split("-")[1]}var xL={top:"auto",right:"auto",bottom:"auto",left:"auto"};function LL(n,e){var t=n.x,s=n.y,i=e.devicePixelRatio||1;return{x:ha(t*i)/i||0,y:ha(s*i)/i||0}}function Bv(n){var e,t=n.popper,s=n.popperRect,i=n.placement,r=n.variation,o=n.offsets,l=n.position,u=n.gpuAcceleration,h=n.adaptive,d=n.roundOffsets,g=n.isFixed,v=o.x,b=v===void 0?0:v,k=o.y,L=k===void 0?0:k,M=typeof d=="function"?d({x:b,y:L}):{x:b,y:L};b=M.x,L=M.y;var U=o.hasOwnProperty("x"),F=o.hasOwnProperty("y"),K=An,H=wn,ce=window;if(h){var he=hc(t),S="clientHeight",T="clientWidth";if(he===Hn(t)&&(he=cr(t),fi(he).position!=="static"&&l==="absolute"&&(S="scrollHeight",T="scrollWidth")),he=he,i===wn||(i===An||i===Bn)&&r===ua){H=jn;var A=g&&he===ce&&ce.visualViewport?ce.visualViewport.height:he[S];L-=A-s.height,L*=u?1:-1}if(i===An||(i===wn||i===jn)&&r===ua){K=Bn;var R=g&&he===ce&&ce.visualViewport?ce.visualViewport.width:he[T];b-=R-s.width,b*=u?1:-1}}var P=Object.assign({position:l},h&&xL),D=d===!0?LL({x:b,y:L},Hn(t)):{x:b,y:L};if(b=D.x,L=D.y,u){var I;return Object.assign({},P,(I={},I[H]=F?"0":"",I[K]=U?"0":"",I.transform=(ce.devicePixelRatio||1)<=1?"translate("+b+"px, "+L+"px)":"translate3d("+b+"px, "+L+"px, 0)",I))}return Object.assign({},P,(e={},e[H]=F?L+"px":"",e[K]=U?b+"px":"",e.transform="",e))}function VL(n){var e=n.state,t=n.options,s=t.gpuAcceleration,i=s===void 0?!0:s,r=t.adaptive,o=r===void 0?!0:r,l=t.roundOffsets,u=l===void 0?!0:l,h={placement:Ls(e.placement),variation:fa(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Bv(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Bv(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const gm={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:VL,data:{}};var tu={passive:!0};function ML(n){var e=n.state,t=n.instance,s=n.options,i=s.scroll,r=i===void 0?!0:i,o=s.resize,l=o===void 0?!0:o,u=Hn(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&h.forEach(function(d){d.addEventListener("scroll",t.update,tu)}),l&&u.addEventListener("resize",t.update,tu),function(){r&&h.forEach(function(d){d.removeEventListener("scroll",t.update,tu)}),l&&u.removeEventListener("resize",t.update,tu)}}const _m={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ML,data:{}};var $L={left:"right",right:"left",bottom:"top",top:"bottom"};function Iu(n){return n.replace(/left|right|bottom|top/g,function(e){return $L[e]})}var FL={start:"end",end:"start"};function Hv(n){return n.replace(/start|end/g,function(e){return FL[e]})}function vm(n){var e=Hn(n),t=e.pageXOffset,s=e.pageYOffset;return{scrollLeft:t,scrollTop:s}}function ym(n){return da(cr(n)).left+vm(n).scrollLeft}function UL(n,e){var t=Hn(n),s=cr(n),i=t.visualViewport,r=s.clientWidth,o=s.clientHeight,l=0,u=0;if(i){r=i.width,o=i.height;var h=Sw();(h||!h&&e==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}return{width:r,height:o,x:l+ym(n),y:u}}function jL(n){var e,t=cr(n),s=vm(n),i=(e=n.ownerDocument)==null?void 0:e.body,r=jr(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=jr(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-s.scrollLeft+ym(n),u=-s.scrollTop;return fi(i||t).direction==="rtl"&&(l+=jr(t.clientWidth,i?i.clientWidth:0)-r),{width:r,height:o,x:l,y:u}}function Em(n){var e=fi(n),t=e.overflow,s=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+s)}function kw(n){return["html","body","#document"].indexOf(Us(n))>=0?n.ownerDocument.body:Zn(n)&&Em(n)?n:kw(zh(n))}function Rl(n,e){var t;e===void 0&&(e=[]);var s=kw(n),i=s===((t=n.ownerDocument)==null?void 0:t.body),r=Hn(s),o=i?[r].concat(r.visualViewport||[],Em(s)?s:[]):s,l=e.concat(o);return i?l:l.concat(Rl(zh(o)))}function Wf(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function BL(n,e){var t=da(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function qv(n,e,t){return e===um?Wf(UL(n,t)):Xr(e)?BL(e,t):Wf(jL(cr(n)))}function HL(n){var e=Rl(zh(n)),t=["absolute","fixed"].indexOf(fi(n).position)>=0,s=t&&Zn(n)?hc(n):n;return Xr(s)?e.filter(function(i){return Xr(i)&&Rw(i,s)&&Us(i)!=="body"}):[]}function qL(n,e,t,s){var i=e==="clippingParents"?HL(n):[].concat(e),r=[].concat(i,[t]),o=r[0],l=r.reduce(function(u,h){var d=qv(n,h,s);return u.top=jr(d.top,u.top),u.right=rh(d.right,u.right),u.bottom=rh(d.bottom,u.bottom),u.left=jr(d.left,u.left),u},qv(n,o,s));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function xw(n){var e=n.reference,t=n.element,s=n.placement,i=s?Ls(s):null,r=s?fa(s):null,o=e.x+e.width/2-t.width/2,l=e.y+e.height/2-t.height/2,u;switch(i){case wn:u={x:o,y:e.y-t.height};break;case jn:u={x:o,y:e.y+e.height};break;case Bn:u={x:e.x+e.width,y:l};break;case An:u={x:e.x-t.width,y:l};break;default:u={x:e.x,y:e.y}}var h=i?mm(i):null;if(h!=null){var d=h==="y"?"height":"width";switch(r){case Qr:u[h]=u[h]-(e[d]/2-t[d]/2);break;case ua:u[h]=u[h]+(e[d]/2-t[d]/2);break}}return u}function pa(n,e){e===void 0&&(e={});var t=e,s=t.placement,i=s===void 0?n.placement:s,r=t.strategy,o=r===void 0?n.strategy:r,l=t.boundary,u=l===void 0?mw:l,h=t.rootBoundary,d=h===void 0?um:h,g=t.elementContext,v=g===void 0?Vo:g,b=t.altBoundary,k=b===void 0?!1:b,L=t.padding,M=L===void 0?0:L,U=Ow(typeof M!="number"?M:Dw(M,Ia)),F=v===Vo?gw:Vo,K=n.rects.popper,H=n.elements[k?F:v],ce=qL(Xr(H)?H:H.contextElement||cr(n.elements.popper),u,d,o),he=da(n.elements.reference),S=xw({reference:he,element:K,placement:i}),T=Wf(Object.assign({},K,S)),A=v===Vo?T:he,R={top:ce.top-A.top+U.top,bottom:A.bottom-ce.bottom+U.bottom,left:ce.left-A.left+U.left,right:A.right-ce.right+U.right},P=n.modifiersData.offset;if(v===Vo&&P){var D=P[i];Object.keys(R).forEach(function(I){var ft=[Bn,jn].indexOf(I)>=0?1:-1,wt=[wn,jn].indexOf(I)>=0?"y":"x";R[I]+=D[wt]*ft})}return R}function WL(n,e){e===void 0&&(e={});var t=e,s=t.placement,i=t.boundary,r=t.rootBoundary,o=t.padding,l=t.flipVariations,u=t.allowedAutoPlacements,h=u===void 0?hm:u,d=fa(s),g=d?l?Hf:Hf.filter(function(k){return fa(k)===d}):Ia,v=g.filter(function(k){return h.indexOf(k)>=0});v.length===0&&(v=g);var b=v.reduce(function(k,L){return k[L]=pa(n,{placement:L,boundary:i,rootBoundary:r,padding:o})[Ls(L)],k},{});return Object.keys(b).sort(function(k,L){return b[k]-b[L]})}function zL(n){if(Ls(n)===Wh)return[];var e=Iu(n);return[Hv(n),e,Hv(e)]}function KL(n){var e=n.state,t=n.options,s=n.name;if(!e.modifiersData[s]._skip){for(var i=t.mainAxis,r=i===void 0?!0:i,o=t.altAxis,l=o===void 0?!0:o,u=t.fallbackPlacements,h=t.padding,d=t.boundary,g=t.rootBoundary,v=t.altBoundary,b=t.flipVariations,k=b===void 0?!0:b,L=t.allowedAutoPlacements,M=e.options.placement,U=Ls(M),F=U===M,K=u||(F||!k?[Iu(M)]:zL(M)),H=[M].concat(K).reduce(function(vt,yt){return vt.concat(Ls(yt)===Wh?WL(e,{placement:yt,boundary:d,rootBoundary:g,padding:h,flipVariations:k,allowedAutoPlacements:L}):yt)},[]),ce=e.rects.reference,he=e.rects.popper,S=new Map,T=!0,A=H[0],R=0;R<H.length;R++){var P=H[R],D=Ls(P),I=fa(P)===Qr,ft=[wn,jn].indexOf(D)>=0,wt=ft?"width":"height",Be=pa(e,{placement:P,boundary:d,rootBoundary:g,altBoundary:v,padding:h}),we=ft?I?Bn:An:I?jn:wn;ce[wt]>he[wt]&&(we=Iu(we));var xe=Iu(we),bt=[];if(r&&bt.push(Be[D]<=0),l&&bt.push(Be[we]<=0,Be[xe]<=0),bt.every(function(vt){return vt})){A=P,T=!1;break}S.set(P,bt)}if(T)for(var Y=k?3:1,kt=function(yt){var Je=H.find(function(W){var q=S.get(W);if(q)return q.slice(0,yt).every(function(ie){return ie})});if(Je)return A=Je,"break"},Qe=Y;Qe>0;Qe--){var Xe=kt(Qe);if(Xe==="break")break}e.placement!==A&&(e.modifiersData[s]._skip=!0,e.placement=A,e.reset=!0)}}const Lw={name:"flip",enabled:!0,phase:"main",fn:KL,requiresIfExists:["offset"],data:{_skip:!1}};function Wv(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function zv(n){return[wn,Bn,jn,An].some(function(e){return n[e]>=0})}function GL(n){var e=n.state,t=n.name,s=e.rects.reference,i=e.rects.popper,r=e.modifiersData.preventOverflow,o=pa(e,{elementContext:"reference"}),l=pa(e,{altBoundary:!0}),u=Wv(o,s),h=Wv(l,i,r),d=zv(u),g=zv(h);e.modifiersData[t]={referenceClippingOffsets:u,popperEscapeOffsets:h,isReferenceHidden:d,hasPopperEscaped:g},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":g})}const Vw={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:GL};function YL(n,e,t){var s=Ls(n),i=[An,wn].indexOf(s)>=0?-1:1,r=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,o=r[0],l=r[1];return o=o||0,l=(l||0)*i,[An,Bn].indexOf(s)>=0?{x:l,y:o}:{x:o,y:l}}function QL(n){var e=n.state,t=n.options,s=n.name,i=t.offset,r=i===void 0?[0,0]:i,o=hm.reduce(function(d,g){return d[g]=YL(g,e.rects,r),d},{}),l=o[e.placement],u=l.x,h=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=h),e.modifiersData[s]=o}const Mw={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:QL};function XL(n){var e=n.state,t=n.name;e.modifiersData[t]=xw({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const bm={name:"popperOffsets",enabled:!0,phase:"read",fn:XL,data:{}};function JL(n){return n==="x"?"y":"x"}function ZL(n){var e=n.state,t=n.options,s=n.name,i=t.mainAxis,r=i===void 0?!0:i,o=t.altAxis,l=o===void 0?!1:o,u=t.boundary,h=t.rootBoundary,d=t.altBoundary,g=t.padding,v=t.tether,b=v===void 0?!0:v,k=t.tetherOffset,L=k===void 0?0:k,M=pa(e,{boundary:u,rootBoundary:h,padding:g,altBoundary:d}),U=Ls(e.placement),F=fa(e.placement),K=!F,H=mm(U),ce=JL(H),he=e.modifiersData.popperOffsets,S=e.rects.reference,T=e.rects.popper,A=typeof L=="function"?L(Object.assign({},e.rects,{placement:e.placement})):L,R=typeof A=="number"?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),P=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,D={x:0,y:0};if(he){if(r){var I,ft=H==="y"?wn:An,wt=H==="y"?jn:Bn,Be=H==="y"?"height":"width",we=he[H],xe=we+M[ft],bt=we-M[wt],Y=b?-T[Be]/2:0,kt=F===Qr?S[Be]:T[Be],Qe=F===Qr?-T[Be]:-S[Be],Xe=e.elements.arrow,vt=b&&Xe?pm(Xe):{width:0,height:0},yt=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Pw(),Je=yt[ft],W=yt[wt],q=Sl(0,S[Be],vt[Be]),ie=K?S[Be]/2-Y-q-Je-R.mainAxis:kt-q-Je-R.mainAxis,fe=K?-S[Be]/2+Y+q+W+R.mainAxis:Qe+q+W+R.mainAxis,Ue=e.elements.arrow&&hc(e.elements.arrow),w=Ue?H==="y"?Ue.clientTop||0:Ue.clientLeft||0:0,C=(I=P==null?void 0:P[H])!=null?I:0,x=we+ie-C-w,z=we+fe-C,G=Sl(b?rh(xe,x):xe,we,b?jr(bt,z):bt);he[H]=G,D[H]=G-we}if(l){var Q,ae=H==="x"?wn:An,se=H==="x"?jn:Bn,ne=he[ce],ee=ce==="y"?"height":"width",Ee=ne+M[ae],le=ne-M[se],me=[wn,An].indexOf(U)!==-1,ve=(Q=P==null?void 0:P[ce])!=null?Q:0,ye=me?Ee:ne-S[ee]-T[ee]-ve+R.altAxis,Re=me?ne+S[ee]+T[ee]-ve-R.altAxis:le,$e=b&&me?OL(ye,ne,Re):Sl(b?ye:Ee,ne,b?Re:le);he[ce]=$e,D[ce]=$e-ne}e.modifiersData[s]=D}}const $w={name:"preventOverflow",enabled:!0,phase:"main",fn:ZL,requiresIfExists:["offset"]};function eV(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function tV(n){return n===Hn(n)||!Zn(n)?vm(n):eV(n)}function nV(n){var e=n.getBoundingClientRect(),t=ha(e.width)/n.offsetWidth||1,s=ha(e.height)/n.offsetHeight||1;return t!==1||s!==1}function sV(n,e,t){t===void 0&&(t=!1);var s=Zn(e),i=Zn(e)&&nV(e),r=cr(e),o=da(n,i,t),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(s||!s&&!t)&&((Us(e)!=="body"||Em(r))&&(l=tV(e)),Zn(e)?(u=da(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):r&&(u.x=ym(r))),{x:o.left+l.scrollLeft-u.x,y:o.top+l.scrollTop-u.y,width:o.width,height:o.height}}function iV(n){var e=new Map,t=new Set,s=[];n.forEach(function(r){e.set(r.name,r)});function i(r){t.add(r.name);var o=[].concat(r.requires||[],r.requiresIfExists||[]);o.forEach(function(l){if(!t.has(l)){var u=e.get(l);u&&i(u)}}),s.push(r)}return n.forEach(function(r){t.has(r.name)||i(r)}),s}function rV(n){var e=iV(n);return Cw.reduce(function(t,s){return t.concat(e.filter(function(i){return i.phase===s}))},[])}function oV(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function aV(n){var e=n.reduce(function(t,s){var i=t[s.name];return t[s.name]=i?Object.assign({},i,s,{options:Object.assign({},i.options,s.options),data:Object.assign({},i.data,s.data)}):s,t},{});return Object.keys(e).map(function(t){return e[t]})}var Kv={placement:"bottom",modifiers:[],strategy:"absolute"};function Gv(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function Kh(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,s=t===void 0?[]:t,i=e.defaultOptions,r=i===void 0?Kv:i;return function(l,u,h){h===void 0&&(h=r);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},Kv,r),modifiersData:{},elements:{reference:l,popper:u},attributes:{},styles:{}},g=[],v=!1,b={state:d,setOptions:function(U){var F=typeof U=="function"?U(d.options):U;L(),d.options=Object.assign({},r,d.options,F),d.scrollParents={reference:Xr(l)?Rl(l):l.contextElement?Rl(l.contextElement):[],popper:Rl(u)};var K=rV(aV([].concat(s,d.options.modifiers)));return d.orderedModifiers=K.filter(function(H){return H.enabled}),k(),b.update()},forceUpdate:function(){if(!v){var U=d.elements,F=U.reference,K=U.popper;if(Gv(F,K)){d.rects={reference:sV(F,hc(K),d.options.strategy==="fixed"),popper:pm(K)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(R){return d.modifiersData[R.name]=Object.assign({},R.data)});for(var H=0;H<d.orderedModifiers.length;H++){if(d.reset===!0){d.reset=!1,H=-1;continue}var ce=d.orderedModifiers[H],he=ce.fn,S=ce.options,T=S===void 0?{}:S,A=ce.name;typeof he=="function"&&(d=he({state:d,options:T,name:A,instance:b})||d)}}}},update:oV(function(){return new Promise(function(M){b.forceUpdate(),M(d)})}),destroy:function(){L(),v=!0}};if(!Gv(l,u))return b;b.setOptions(h).then(function(M){!v&&h.onFirstUpdate&&h.onFirstUpdate(M)});function k(){d.orderedModifiers.forEach(function(M){var U=M.name,F=M.options,K=F===void 0?{}:F,H=M.effect;if(typeof H=="function"){var ce=H({state:d,name:U,instance:b,options:K}),he=function(){};g.push(ce||he)}})}function L(){g.forEach(function(M){return M()}),g=[]}return b}}var lV=Kh(),cV=[_m,bm,gm,fm],uV=Kh({defaultModifiers:cV}),hV=[_m,bm,gm,fm,Mw,Lw,$w,Nw,Vw],Tm=Kh({defaultModifiers:hV});const Fw=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Tw,afterRead:yw,afterWrite:Iw,applyStyles:fm,arrow:Nw,auto:Wh,basePlacements:Ia,beforeMain:Ew,beforeRead:_w,beforeWrite:ww,bottom:jn,clippingParents:mw,computeStyles:gm,createPopper:Tm,createPopperBase:lV,createPopperLite:uV,detectOverflow:pa,end:ua,eventListeners:_m,flip:Lw,hide:Vw,left:An,main:bw,modifierPhases:Cw,offset:Mw,placements:hm,popper:Vo,popperGenerator:Kh,popperOffsets:bm,preventOverflow:$w,read:vw,reference:gw,right:Bn,start:Qr,top:wn,variationPlacements:Hf,viewport:um,write:Aw},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.6 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Li=new Map,Bd={set(n,e,t){Li.has(n)||Li.set(n,new Map);const s=Li.get(n);if(!s.has(e)&&s.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`);return}s.set(e,t)},get(n,e){return Li.has(n)&&Li.get(n).get(e)||null},remove(n,e){if(!Li.has(n))return;const t=Li.get(n);t.delete(e),t.size===0&&Li.delete(n)}},dV=1e6,fV=1e3,zf="transitionend",Uw=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),n),pV=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),mV=n=>{do n+=Math.floor(Math.random()*dV);while(document.getElementById(n));return n},gV=n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n);const s=Number.parseFloat(e),i=Number.parseFloat(t);return!s&&!i?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*fV)},jw=n=>{n.dispatchEvent(new Event(zf))},ai=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),sr=n=>ai(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(Uw(n)):null,Ca=n=>{if(!ai(n)||n.getClientRects().length===0)return!1;const e=getComputedStyle(n).getPropertyValue("visibility")==="visible",t=n.closest("details:not([open])");if(!t)return e;if(t!==n){const s=n.closest("summary");if(s&&s.parentNode!==t||s===null)return!1}return e},ir=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",Bw=n=>{if(!document.documentElement.attachShadow)return null;if(typeof n.getRootNode=="function"){const e=n.getRootNode();return e instanceof ShadowRoot?e:null}return n instanceof ShadowRoot?n:n.parentNode?Bw(n.parentNode):null},oh=()=>{},dc=n=>{n.offsetHeight},Hw=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Hd=[],_V=n=>{document.readyState==="loading"?(Hd.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of Hd)e()}),Hd.push(n)):n()},ns=()=>document.documentElement.dir==="rtl",is=n=>{_V(()=>{const e=Hw();if(e){const t=n.NAME,s=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=s,n.jQueryInterface)}})},Pn=(n,e=[],t=n)=>typeof n=="function"?n.call(...e):t,qw=(n,e,t=!0)=>{if(!t){Pn(n);return}const i=gV(e)+5;let r=!1;const o=({target:l})=>{l===e&&(r=!0,e.removeEventListener(zf,o),Pn(n))};e.addEventListener(zf,o),setTimeout(()=>{r||jw(e)},i)},wm=(n,e,t,s)=>{const i=n.length;let r=n.indexOf(e);return r===-1?!t&&s?n[i-1]:n[0]:(r+=t?1:-1,s&&(r=(r+i)%i),n[Math.max(0,Math.min(r,i-1))])},vV=/[^.]*(?=\..*)\.|.*/,yV=/\..*/,EV=/::\d+$/,qd={};let Yv=1;const Ww={mouseenter:"mouseover",mouseleave:"mouseout"},bV=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function zw(n,e){return e&&`${e}::${Yv++}`||n.uidEvent||Yv++}function Kw(n){const e=zw(n);return n.uidEvent=e,qd[e]=qd[e]||{},qd[e]}function TV(n,e){return function t(s){return Am(s,{delegateTarget:n}),t.oneOff&&te.off(n,s.type,e),e.apply(n,[s])}}function wV(n,e,t){return function s(i){const r=n.querySelectorAll(e);for(let{target:o}=i;o&&o!==this;o=o.parentNode)for(const l of r)if(l===o)return Am(i,{delegateTarget:o}),s.oneOff&&te.off(n,i.type,e,t),t.apply(o,[i])}}function Gw(n,e,t=null){return Object.values(n).find(s=>s.callable===e&&s.delegationSelector===t)}function Yw(n,e,t){const s=typeof e=="string",i=s?t:e||t;let r=Qw(n);return bV.has(r)||(r=n),[s,i,r]}function Qv(n,e,t,s,i){if(typeof e!="string"||!n)return;let[r,o,l]=Yw(e,t,s);e in Ww&&(o=(k=>function(L){if(!L.relatedTarget||L.relatedTarget!==L.delegateTarget&&!L.delegateTarget.contains(L.relatedTarget))return k.call(this,L)})(o));const u=Kw(n),h=u[l]||(u[l]={}),d=Gw(h,o,r?t:null);if(d){d.oneOff=d.oneOff&&i;return}const g=zw(o,e.replace(vV,"")),v=r?wV(n,t,o):TV(n,o);v.delegationSelector=r?t:null,v.callable=o,v.oneOff=i,v.uidEvent=g,h[g]=v,n.addEventListener(l,v,r)}function Kf(n,e,t,s,i){const r=Gw(e[t],s,i);r&&(n.removeEventListener(t,r,!!i),delete e[t][r.uidEvent])}function AV(n,e,t,s){const i=e[t]||{};for(const[r,o]of Object.entries(i))r.includes(s)&&Kf(n,e,t,o.callable,o.delegationSelector)}function Qw(n){return n=n.replace(yV,""),Ww[n]||n}const te={on(n,e,t,s){Qv(n,e,t,s,!1)},one(n,e,t,s){Qv(n,e,t,s,!0)},off(n,e,t,s){if(typeof e!="string"||!n)return;const[i,r,o]=Yw(e,t,s),l=o!==e,u=Kw(n),h=u[o]||{},d=e.startsWith(".");if(typeof r<"u"){if(!Object.keys(h).length)return;Kf(n,u,o,r,i?t:null);return}if(d)for(const g of Object.keys(u))AV(n,u,g,e.slice(1));for(const[g,v]of Object.entries(h)){const b=g.replace(EV,"");(!l||e.includes(b))&&Kf(n,u,o,v.callable,v.delegationSelector)}},trigger(n,e,t){if(typeof e!="string"||!n)return null;const s=Hw(),i=Qw(e),r=e!==i;let o=null,l=!0,u=!0,h=!1;r&&s&&(o=s.Event(e,t),s(n).trigger(o),l=!o.isPropagationStopped(),u=!o.isImmediatePropagationStopped(),h=o.isDefaultPrevented());const d=Am(new Event(e,{bubbles:l,cancelable:!0}),t);return h&&d.preventDefault(),u&&n.dispatchEvent(d),d.defaultPrevented&&o&&o.preventDefault(),d}};function Am(n,e={}){for(const[t,s]of Object.entries(e))try{n[t]=s}catch{Object.defineProperty(n,t,{configurable:!0,get(){return s}})}return n}function Xv(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function Wd(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const li={setDataAttribute(n,e,t){n.setAttribute(`data-bs-${Wd(e)}`,t)},removeDataAttribute(n,e){n.removeAttribute(`data-bs-${Wd(e)}`)},getDataAttributes(n){if(!n)return{};const e={},t=Object.keys(n.dataset).filter(s=>s.startsWith("bs")&&!s.startsWith("bsConfig"));for(const s of t){let i=s.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1),e[i]=Xv(n.dataset[s])}return e},getDataAttribute(n,e){return Xv(n.getAttribute(`data-bs-${Wd(e)}`))}};class fc{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const s=ai(t)?li.getDataAttribute(t,"config"):{};return{...this.constructor.Default,...typeof s=="object"?s:{},...ai(t)?li.getDataAttributes(t):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[s,i]of Object.entries(t)){const r=e[s],o=ai(r)?"element":pV(r);if(!new RegExp(i).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${s}" provided type "${o}" but expected type "${i}".`)}}}const IV="5.3.6";class gs extends fc{constructor(e,t){super(),e=sr(e),e&&(this._element=e,this._config=this._getConfig(t),Bd.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Bd.remove(this._element,this.constructor.DATA_KEY),te.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,s=!0){qw(e,t,s)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Bd.get(sr(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return IV}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const zd=n=>{let e=n.getAttribute("data-bs-target");if(!e||e==="#"){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e?e.split(",").map(t=>Uw(t)).join(","):null},Te={find(n,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,n))},findOne(n,e=document.documentElement){return Element.prototype.querySelector.call(e,n)},children(n,e){return[].concat(...n.children).filter(t=>t.matches(e))},parents(n,e){const t=[];let s=n.parentNode.closest(e);for(;s;)t.push(s),s=s.parentNode.closest(e);return t},prev(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,n).filter(t=>!ir(t)&&Ca(t))},getSelectorFromElement(n){const e=zd(n);return e&&Te.findOne(e)?e:null},getElementFromSelector(n){const e=zd(n);return e?Te.findOne(e):null},getMultipleElementsFromSelector(n){const e=zd(n);return e?Te.find(e):[]}},Gh=(n,e="hide")=>{const t=`click.dismiss${n.EVENT_KEY}`,s=n.NAME;te.on(document,t,`[data-bs-dismiss="${s}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),ir(this))return;const r=Te.getElementFromSelector(this)||this.closest(`.${s}`);n.getOrCreateInstance(r)[e]()})},CV="alert",SV="bs.alert",Xw=`.${SV}`,RV=`close${Xw}`,PV=`closed${Xw}`,OV="fade",DV="show";class Yh extends gs{static get NAME(){return CV}close(){if(te.trigger(this._element,RV).defaultPrevented)return;this._element.classList.remove(DV);const t=this._element.classList.contains(OV);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),te.trigger(this._element,PV),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=Yh.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Gh(Yh,"close");is(Yh);const NV="button",kV="bs.button",xV=`.${kV}`,LV=".data-api",VV="active",Jv='[data-bs-toggle="button"]',MV=`click${xV}${LV}`;class Qh extends gs{static get NAME(){return NV}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(VV))}static jQueryInterface(e){return this.each(function(){const t=Qh.getOrCreateInstance(this);e==="toggle"&&t[e]()})}}te.on(document,MV,Jv,n=>{n.preventDefault();const e=n.target.closest(Jv);Qh.getOrCreateInstance(e).toggle()});is(Qh);const $V="swipe",Sa=".bs.swipe",FV=`touchstart${Sa}`,UV=`touchmove${Sa}`,jV=`touchend${Sa}`,BV=`pointerdown${Sa}`,HV=`pointerup${Sa}`,qV="touch",WV="pen",zV="pointer-event",KV=40,GV={endCallback:null,leftCallback:null,rightCallback:null},YV={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ah extends fc{constructor(e,t){super(),this._element=e,!(!e||!ah.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return GV}static get DefaultType(){return YV}static get NAME(){return $V}dispose(){te.off(this._element,Sa)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Pn(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=KV)return;const t=e/this._deltaX;this._deltaX=0,t&&Pn(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(te.on(this._element,BV,e=>this._start(e)),te.on(this._element,HV,e=>this._end(e)),this._element.classList.add(zV)):(te.on(this._element,FV,e=>this._start(e)),te.on(this._element,UV,e=>this._move(e)),te.on(this._element,jV,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===WV||e.pointerType===qV)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const QV="carousel",XV="bs.carousel",ur=`.${XV}`,Jw=".data-api",JV="ArrowLeft",ZV="ArrowRight",eM=500,rl="next",Ro="prev",Mo="left",Cu="right",tM=`slide${ur}`,Kd=`slid${ur}`,nM=`keydown${ur}`,sM=`mouseenter${ur}`,iM=`mouseleave${ur}`,rM=`dragstart${ur}`,oM=`load${ur}${Jw}`,aM=`click${ur}${Jw}`,Zw="carousel",nu="active",lM="slide",cM="carousel-item-end",uM="carousel-item-start",hM="carousel-item-next",dM="carousel-item-prev",eA=".active",tA=".carousel-item",fM=eA+tA,pM=".carousel-item img",mM=".carousel-indicators",gM="[data-bs-slide], [data-bs-slide-to]",_M='[data-bs-ride="carousel"]',vM={[JV]:Cu,[ZV]:Mo},yM={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},EM={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class pc extends gs{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Te.findOne(mM,this._element),this._addEventListeners(),this._config.ride===Zw&&this.cycle()}static get Default(){return yM}static get DefaultType(){return EM}static get NAME(){return QV}next(){this._slide(rl)}nextWhenVisible(){!document.hidden&&Ca(this._element)&&this.next()}prev(){this._slide(Ro)}pause(){this._isSliding&&jw(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){te.one(this._element,Kd,()=>this.cycle());return}this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){te.one(this._element,Kd,()=>this.to(e));return}const s=this._getItemIndex(this._getActive());if(s===e)return;const i=e>s?rl:Ro;this._slide(i,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&te.on(this._element,nM,e=>this._keydown(e)),this._config.pause==="hover"&&(te.on(this._element,sM,()=>this.pause()),te.on(this._element,iM,()=>this._maybeEnableCycle())),this._config.touch&&ah.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const s of Te.find(pM,this._element))te.on(s,rM,i=>i.preventDefault());const t={leftCallback:()=>this._slide(this._directionToOrder(Mo)),rightCallback:()=>this._slide(this._directionToOrder(Cu)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),eM+this._config.interval))}};this._swipeHelper=new ah(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=vM[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=Te.findOne(eA,this._indicatorsElement);t.classList.remove(nu),t.removeAttribute("aria-current");const s=Te.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);s&&(s.classList.add(nu),s.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const s=this._getActive(),i=e===rl,r=t||wm(this._getItems(),s,i,this._config.wrap);if(r===s)return;const o=this._getItemIndex(r),l=b=>te.trigger(this._element,b,{relatedTarget:r,direction:this._orderToDirection(e),from:this._getItemIndex(s),to:o});if(l(tM).defaultPrevented||!s||!r)return;const h=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=r;const d=i?uM:cM,g=i?hM:dM;r.classList.add(g),dc(r),s.classList.add(d),r.classList.add(d);const v=()=>{r.classList.remove(d,g),r.classList.add(nu),s.classList.remove(nu,g,d),this._isSliding=!1,l(Kd)};this._queueCallback(v,s,this._isAnimated()),h&&this.cycle()}_isAnimated(){return this._element.classList.contains(lM)}_getActive(){return Te.findOne(fM,this._element)}_getItems(){return Te.find(tA,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return ns()?e===Mo?Ro:rl:e===Mo?rl:Ro}_orderToDirection(e){return ns()?e===Ro?Mo:Cu:e===Ro?Cu:Mo}static jQueryInterface(e){return this.each(function(){const t=pc.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}te.on(document,aM,gM,function(n){const e=Te.getElementFromSelector(this);if(!e||!e.classList.contains(Zw))return;n.preventDefault();const t=pc.getOrCreateInstance(e),s=this.getAttribute("data-bs-slide-to");if(s){t.to(s),t._maybeEnableCycle();return}if(li.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});te.on(window,oM,()=>{const n=Te.find(_M);for(const e of n)pc.getOrCreateInstance(e)});is(pc);const bM="collapse",TM="bs.collapse",mc=`.${TM}`,wM=".data-api",AM=`show${mc}`,IM=`shown${mc}`,CM=`hide${mc}`,SM=`hidden${mc}`,RM=`click${mc}${wM}`,Gd="show",Fo="collapse",su="collapsing",PM="collapsed",OM=`:scope .${Fo} .${Fo}`,DM="collapse-horizontal",NM="width",kM="height",xM=".collapse.show, .collapse.collapsing",Gf='[data-bs-toggle="collapse"]',LM={parent:null,toggle:!0},VM={parent:"(null|element)",toggle:"boolean"};class ma extends gs{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const s=Te.find(Gf);for(const i of s){const r=Te.getSelectorFromElement(i),o=Te.find(r).filter(l=>l===this._element);r!==null&&o.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return LM}static get DefaultType(){return VM}static get NAME(){return bM}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(xM).filter(l=>l!==this._element).map(l=>ma.getOrCreateInstance(l,{toggle:!1}))),e.length&&e[0]._isTransitioning||te.trigger(this._element,AM).defaultPrevented)return;for(const l of e)l.hide();const s=this._getDimension();this._element.classList.remove(Fo),this._element.classList.add(su),this._element.style[s]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(su),this._element.classList.add(Fo,Gd),this._element.style[s]="",te.trigger(this._element,IM)},o=`scroll${s[0].toUpperCase()+s.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[s]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||te.trigger(this._element,CM).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,dc(this._element),this._element.classList.add(su),this._element.classList.remove(Fo,Gd);for(const i of this._triggerArray){const r=Te.getElementFromSelector(i);r&&!this._isShown(r)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(su),this._element.classList.add(Fo),te.trigger(this._element,SM)};this._element.style[t]="",this._queueCallback(s,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Gd)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=sr(e.parent),e}_getDimension(){return this._element.classList.contains(DM)?NM:kM}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Gf);for(const t of e){const s=Te.getElementFromSelector(t);s&&this._addAriaAndCollapsedClass([t],this._isShown(s))}}_getFirstLevelChildren(e){const t=Te.find(OM,this._config.parent);return Te.find(e,this._config.parent).filter(s=>!t.includes(s))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const s of e)s.classList.toggle(PM,!t),s.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const s=ma.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e]()}})}}te.on(document,RM,Gf,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();for(const e of Te.getMultipleElementsFromSelector(this))ma.getOrCreateInstance(e,{toggle:!1}).toggle()});is(ma);const Zv="dropdown",MM="bs.dropdown",io=`.${MM}`,Im=".data-api",$M="Escape",ey="Tab",FM="ArrowUp",ty="ArrowDown",UM=2,jM=`hide${io}`,BM=`hidden${io}`,HM=`show${io}`,qM=`shown${io}`,nA=`click${io}${Im}`,sA=`keydown${io}${Im}`,WM=`keyup${io}${Im}`,$o="show",zM="dropup",KM="dropend",GM="dropstart",YM="dropup-center",QM="dropdown-center",$r='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',XM=`${$r}.${$o}`,Su=".dropdown-menu",JM=".navbar",ZM=".navbar-nav",e2=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",t2=ns()?"top-end":"top-start",n2=ns()?"top-start":"top-end",s2=ns()?"bottom-end":"bottom-start",i2=ns()?"bottom-start":"bottom-end",r2=ns()?"left-start":"right-start",o2=ns()?"right-start":"left-start",a2="top",l2="bottom",c2={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},u2={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Vs extends gs{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=Te.next(this._element,Su)[0]||Te.prev(this._element,Su)[0]||Te.findOne(Su,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return c2}static get DefaultType(){return u2}static get NAME(){return Zv}toggle(){return this._isShown()?this.hide():this.show()}show(){if(ir(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!te.trigger(this._element,HM,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(ZM))for(const s of[].concat(...document.body.children))te.on(s,"mouseover",oh);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add($o),this._element.classList.add($o),te.trigger(this._element,qM,e)}}hide(){if(ir(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!te.trigger(this._element,jM,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))te.off(s,"mouseover",oh);this._popper&&this._popper.destroy(),this._menu.classList.remove($o),this._element.classList.remove($o),this._element.setAttribute("aria-expanded","false"),li.removeDataAttribute(this._menu,"popper"),te.trigger(this._element,BM,e),this._element.focus()}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!ai(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${Zv.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof Fw>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let e=this._element;this._config.reference==="parent"?e=this._parent:ai(this._config.reference)?e=sr(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=Tm(e,this._menu,t)}_isShown(){return this._menu.classList.contains($o)}_getPlacement(){const e=this._parent;if(e.classList.contains(KM))return r2;if(e.classList.contains(GM))return o2;if(e.classList.contains(YM))return a2;if(e.classList.contains(QM))return l2;const t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(zM)?t?n2:t2:t?i2:s2}_detectNavbar(){return this._element.closest(JM)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(li.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...Pn(this._config.popperConfig,[void 0,e])}}_selectMenuItem({key:e,target:t}){const s=Te.find(e2,this._menu).filter(i=>Ca(i));s.length&&wm(s,t,e===ty,!s.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=Vs.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===UM||e.type==="keyup"&&e.key!==ey)return;const t=Te.find(XM);for(const s of t){const i=Vs.getInstance(s);if(!i||i._config.autoClose===!1)continue;const r=e.composedPath(),o=r.includes(i._menu);if(r.includes(i._element)||i._config.autoClose==="inside"&&!o||i._config.autoClose==="outside"&&o||i._menu.contains(e.target)&&(e.type==="keyup"&&e.key===ey||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const l={relatedTarget:i._element};e.type==="click"&&(l.clickEvent=e),i._completeHide(l)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),s=e.key===$M,i=[FM,ty].includes(e.key);if(!i&&!s||t&&!s)return;e.preventDefault();const r=this.matches($r)?this:Te.prev(this,$r)[0]||Te.next(this,$r)[0]||Te.findOne($r,e.delegateTarget.parentNode),o=Vs.getOrCreateInstance(r);if(i){e.stopPropagation(),o.show(),o._selectMenuItem(e);return}o._isShown()&&(e.stopPropagation(),o.hide(),r.focus())}}te.on(document,sA,$r,Vs.dataApiKeydownHandler);te.on(document,sA,Su,Vs.dataApiKeydownHandler);te.on(document,nA,Vs.clearMenus);te.on(document,WM,Vs.clearMenus);te.on(document,nA,$r,function(n){n.preventDefault(),Vs.getOrCreateInstance(this).toggle()});is(Vs);const iA="backdrop",h2="fade",ny="show",sy=`mousedown.bs.${iA}`,d2={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},f2={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class rA extends fc{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return d2}static get DefaultType(){return f2}static get NAME(){return iA}show(e){if(!this._config.isVisible){Pn(e);return}this._append();const t=this._getElement();this._config.isAnimated&&dc(t),t.classList.add(ny),this._emulateAnimation(()=>{Pn(e)})}hide(e){if(!this._config.isVisible){Pn(e);return}this._getElement().classList.remove(ny),this._emulateAnimation(()=>{this.dispose(),Pn(e)})}dispose(){this._isAppended&&(te.off(this._element,sy),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(h2),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=sr(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),te.on(e,sy,()=>{Pn(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){qw(e,this._getElement(),this._config.isAnimated)}}const p2="focustrap",m2="bs.focustrap",lh=`.${m2}`,g2=`focusin${lh}`,_2=`keydown.tab${lh}`,v2="Tab",y2="forward",iy="backward",E2={autofocus:!0,trapElement:null},b2={autofocus:"boolean",trapElement:"element"};class oA extends fc{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return E2}static get DefaultType(){return b2}static get NAME(){return p2}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),te.off(document,lh),te.on(document,g2,e=>this._handleFocusin(e)),te.on(document,_2,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,te.off(document,lh))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const s=Te.focusableChildren(t);s.length===0?t.focus():this._lastTabNavDirection===iy?s[s.length-1].focus():s[0].focus()}_handleKeydown(e){e.key===v2&&(this._lastTabNavDirection=e.shiftKey?iy:y2)}}const ry=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",oy=".sticky-top",iu="padding-right",ay="margin-right";class Yf{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,iu,t=>t+e),this._setElementAttributes(ry,iu,t=>t+e),this._setElementAttributes(oy,ay,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,iu),this._resetElementAttributes(ry,iu),this._resetElementAttributes(oy,ay)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,s){const i=this.getWidth(),r=o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+i)return;this._saveInitialAttribute(o,t);const l=window.getComputedStyle(o).getPropertyValue(t);o.style.setProperty(t,`${s(Number.parseFloat(l))}px`)};this._applyManipulationCallback(e,r)}_saveInitialAttribute(e,t){const s=e.style.getPropertyValue(t);s&&li.setDataAttribute(e,t,s)}_resetElementAttributes(e,t){const s=i=>{const r=li.getDataAttribute(i,t);if(r===null){i.style.removeProperty(t);return}li.removeDataAttribute(i,t),i.style.setProperty(t,r)};this._applyManipulationCallback(e,s)}_applyManipulationCallback(e,t){if(ai(e)){t(e);return}for(const s of Te.find(e,this._element))t(s)}}const T2="modal",w2="bs.modal",ss=`.${w2}`,A2=".data-api",I2="Escape",C2=`hide${ss}`,S2=`hidePrevented${ss}`,aA=`hidden${ss}`,lA=`show${ss}`,R2=`shown${ss}`,P2=`resize${ss}`,O2=`click.dismiss${ss}`,D2=`mousedown.dismiss${ss}`,N2=`keydown.dismiss${ss}`,k2=`click${ss}${A2}`,ly="modal-open",x2="fade",cy="show",Yd="modal-static",L2=".modal.show",V2=".modal-dialog",M2=".modal-body",$2='[data-bs-toggle="modal"]',F2={backdrop:!0,focus:!0,keyboard:!0},U2={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Jr extends gs{constructor(e,t){super(e,t),this._dialog=Te.findOne(V2,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Yf,this._addEventListeners()}static get Default(){return F2}static get DefaultType(){return U2}static get NAME(){return T2}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||te.trigger(this._element,lA,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(ly),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||te.trigger(this._element,C2).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(cy),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){te.off(window,ss),te.off(this._dialog,ss),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new rA({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new oA({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=Te.findOne(M2,this._dialog);t&&(t.scrollTop=0),dc(this._element),this._element.classList.add(cy);const s=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,te.trigger(this._element,R2,{relatedTarget:e})};this._queueCallback(s,this._dialog,this._isAnimated())}_addEventListeners(){te.on(this._element,N2,e=>{if(e.key===I2){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),te.on(window,P2,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),te.on(this._element,D2,e=>{te.one(this._element,O2,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(ly),this._resetAdjustments(),this._scrollBar.reset(),te.trigger(this._element,aA)})}_isAnimated(){return this._element.classList.contains(x2)}_triggerBackdropTransition(){if(te.trigger(this._element,S2).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,s=this._element.style.overflowY;s==="hidden"||this._element.classList.contains(Yd)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(Yd),this._queueCallback(()=>{this._element.classList.remove(Yd),this._queueCallback(()=>{this._element.style.overflowY=s},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),s=t>0;if(s&&!e){const i=ns()?"paddingLeft":"paddingRight";this._element.style[i]=`${t}px`}if(!s&&e){const i=ns()?"paddingRight":"paddingLeft";this._element.style[i]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const s=Jr.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e](t)}})}}te.on(document,k2,$2,function(n){const e=Te.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),te.one(e,lA,i=>{i.defaultPrevented||te.one(e,aA,()=>{Ca(this)&&this.focus()})});const t=Te.findOne(L2);t&&Jr.getInstance(t).hide(),Jr.getOrCreateInstance(e).toggle(this)});Gh(Jr);is(Jr);const j2="offcanvas",B2="bs.offcanvas",yi=`.${B2}`,cA=".data-api",H2=`load${yi}${cA}`,q2="Escape",uy="show",hy="showing",dy="hiding",W2="offcanvas-backdrop",uA=".offcanvas.show",z2=`show${yi}`,K2=`shown${yi}`,G2=`hide${yi}`,fy=`hidePrevented${yi}`,hA=`hidden${yi}`,Y2=`resize${yi}`,Q2=`click${yi}${cA}`,X2=`keydown.dismiss${yi}`,J2='[data-bs-toggle="offcanvas"]',Z2={backdrop:!0,keyboard:!0,scroll:!1},e$={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class rr extends gs{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Z2}static get DefaultType(){return e$}static get NAME(){return j2}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||te.trigger(this._element,z2,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Yf().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(hy);const s=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(uy),this._element.classList.remove(hy),te.trigger(this._element,K2,{relatedTarget:e})};this._queueCallback(s,this._element,!0)}hide(){if(!this._isShown||te.trigger(this._element,G2).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(dy),this._backdrop.hide();const t=()=>{this._element.classList.remove(uy,dy),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Yf().reset(),te.trigger(this._element,hA)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){te.trigger(this._element,fy);return}this.hide()},t=!!this._config.backdrop;return new rA({className:W2,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new oA({trapElement:this._element})}_addEventListeners(){te.on(this._element,X2,e=>{if(e.key===q2){if(this._config.keyboard){this.hide();return}te.trigger(this._element,fy)}})}static jQueryInterface(e){return this.each(function(){const t=rr.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}te.on(document,Q2,J2,function(n){const e=Te.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),ir(this))return;te.one(e,hA,()=>{Ca(this)&&this.focus()});const t=Te.findOne(uA);t&&t!==e&&rr.getInstance(t).hide(),rr.getOrCreateInstance(e).toggle(this)});te.on(window,H2,()=>{for(const n of Te.find(uA))rr.getOrCreateInstance(n).show()});te.on(window,Y2,()=>{for(const n of Te.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(n).position!=="fixed"&&rr.getOrCreateInstance(n).hide()});Gh(rr);is(rr);const t$=/^aria-[\w-]*$/i,dA={"*":["class","dir","id","lang","role",t$],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},n$=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),s$=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,i$=(n,e)=>{const t=n.nodeName.toLowerCase();return e.includes(t)?n$.has(t)?!!s$.test(n.nodeValue):!0:e.filter(s=>s instanceof RegExp).some(s=>s.test(t))};function r$(n,e,t){if(!n.length)return n;if(t&&typeof t=="function")return t(n);const i=new window.DOMParser().parseFromString(n,"text/html"),r=[].concat(...i.body.querySelectorAll("*"));for(const o of r){const l=o.nodeName.toLowerCase();if(!Object.keys(e).includes(l)){o.remove();continue}const u=[].concat(...o.attributes),h=[].concat(e["*"]||[],e[l]||[]);for(const d of u)i$(d,h)||o.removeAttribute(d.nodeName)}return i.body.innerHTML}const o$="TemplateFactory",a$={allowList:dA,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},l$={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},c$={entry:"(string|element|function|null)",selector:"(string|element)"};class u$ extends fc{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return a$}static get DefaultType(){return l$}static get NAME(){return o$}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[i,r]of Object.entries(this._config.content))this._setContent(e,r,i);const t=e.children[0],s=this._resolvePossibleFunction(this._config.extraClass);return s&&t.classList.add(...s.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,s]of Object.entries(e))super._typeCheckConfig({selector:t,entry:s},c$)}_setContent(e,t,s){const i=Te.findOne(s,e);if(i){if(t=this._resolvePossibleFunction(t),!t){i.remove();return}if(ai(t)){this._putElementInTemplate(sr(t),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(t);return}i.textContent=t}}_maybeSanitize(e){return this._config.sanitize?r$(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return Pn(e,[void 0,this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}}const h$="tooltip",d$=new Set(["sanitize","allowList","sanitizeFn"]),Qd="fade",f$="modal",ru="show",p$=".tooltip-inner",py=`.${f$}`,my="hide.bs.modal",ol="hover",Xd="focus",m$="click",g$="manual",_$="hide",v$="hidden",y$="show",E$="shown",b$="inserted",T$="click",w$="focusin",A$="focusout",I$="mouseenter",C$="mouseleave",S$={AUTO:"auto",TOP:"top",RIGHT:ns()?"left":"right",BOTTOM:"bottom",LEFT:ns()?"right":"left"},R$={allowList:dA,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},P$={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Ra extends gs{constructor(e,t){if(typeof Fw>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return R$}static get DefaultType(){return P$}static get NAME(){return h$}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),te.off(this._element.closest(py),my,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=te.trigger(this._element,this.constructor.eventName(y$)),s=(Bw(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!s)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(i),te.trigger(this._element,this.constructor.eventName(b$))),this._popper=this._createPopper(i),i.classList.add(ru),"ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))te.on(l,"mouseover",oh);const o=()=>{te.trigger(this._element,this.constructor.eventName(E$)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(o,this.tip,this._isAnimated())}hide(){if(!this._isShown()||te.trigger(this._element,this.constructor.eventName(_$)).defaultPrevented)return;if(this._getTipElement().classList.remove(ru),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))te.off(i,"mouseover",oh);this._activeTrigger[m$]=!1,this._activeTrigger[Xd]=!1,this._activeTrigger[ol]=!1,this._isHovered=null;const s=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),te.trigger(this._element,this.constructor.eventName(v$)))};this._queueCallback(s,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(Qd,ru),t.classList.add(`bs-${this.constructor.NAME}-auto`);const s=mV(this.constructor.NAME).toString();return t.setAttribute("id",s),this._isAnimated()&&t.classList.add(Qd),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new u$({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[p$]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Qd)}_isShown(){return this.tip&&this.tip.classList.contains(ru)}_createPopper(e){const t=Pn(this._config.placement,[this,e,this._element]),s=S$[t.toUpperCase()];return Tm(this._element,e,this._getPopperConfig(s))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return Pn(e,[this._element,this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:s=>{this._getTipElement().setAttribute("data-popper-placement",s.state.placement)}}]};return{...t,...Pn(this._config.popperConfig,[void 0,t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if(t==="click")te.on(this._element,this.constructor.eventName(T$),this._config.selector,s=>{this._initializeOnDelegatedTarget(s).toggle()});else if(t!==g$){const s=t===ol?this.constructor.eventName(I$):this.constructor.eventName(w$),i=t===ol?this.constructor.eventName(C$):this.constructor.eventName(A$);te.on(this._element,s,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger[r.type==="focusin"?Xd:ol]=!0,o._enter()}),te.on(this._element,i,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger[r.type==="focusout"?Xd:ol]=o._element.contains(r.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},te.on(this._element.closest(py),my,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=li.getDataAttributes(this._element);for(const s of Object.keys(t))d$.has(s)&&delete t[s];return e={...t,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:sr(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,s]of Object.entries(this._config))this.constructor.Default[t]!==s&&(e[t]=s);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=Ra.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}is(Ra);const O$="popover",D$=".popover-header",N$=".popover-body",k$={...Ra.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},x$={...Ra.DefaultType,content:"(null|string|element|function)"};class Cm extends Ra{static get Default(){return k$}static get DefaultType(){return x$}static get NAME(){return O$}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[D$]:this._getTitle(),[N$]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=Cm.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}is(Cm);const L$="scrollspy",V$="bs.scrollspy",Sm=`.${V$}`,M$=".data-api",$$=`activate${Sm}`,gy=`click${Sm}`,F$=`load${Sm}${M$}`,U$="dropdown-item",Po="active",j$='[data-bs-spy="scroll"]',Jd="[href]",B$=".nav, .list-group",_y=".nav-link",H$=".nav-item",q$=".list-group-item",W$=`${_y}, ${H$} > ${_y}, ${q$}`,z$=".dropdown",K$=".dropdown-toggle",G$={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Y$={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Xh extends gs{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return G$}static get DefaultType(){return Y$}static get NAME(){return L$}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=sr(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(te.off(this._config.target,gy),te.on(this._config.target,gy,Jd,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const s=this._rootElement||window,i=t.offsetTop-this._element.offsetTop;if(s.scrollTo){s.scrollTo({top:i,behavior:"smooth"});return}s.scrollTop=i}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){const t=o=>this._targetLinks.get(`#${o.target.id}`),s=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(t(o))},i=(this._rootElement||document.documentElement).scrollTop,r=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const o of e){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(o));continue}const l=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&l){if(s(o),!i)return;continue}!r&&!l&&s(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=Te.find(Jd,this._config.target);for(const t of e){if(!t.hash||ir(t))continue;const s=Te.findOne(decodeURI(t.hash),this._element);Ca(s)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,s))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Po),this._activateParents(e),te.trigger(this._element,$$,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(U$)){Te.findOne(K$,e.closest(z$)).classList.add(Po);return}for(const t of Te.parents(e,B$))for(const s of Te.prev(t,W$))s.classList.add(Po)}_clearActiveClass(e){e.classList.remove(Po);const t=Te.find(`${Jd}.${Po}`,e);for(const s of t)s.classList.remove(Po)}static jQueryInterface(e){return this.each(function(){const t=Xh.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}te.on(window,F$,()=>{for(const n of Te.find(j$))Xh.getOrCreateInstance(n)});is(Xh);const Q$="tab",X$="bs.tab",ro=`.${X$}`,J$=`hide${ro}`,Z$=`hidden${ro}`,eF=`show${ro}`,tF=`shown${ro}`,nF=`click${ro}`,sF=`keydown${ro}`,iF=`load${ro}`,rF="ArrowLeft",vy="ArrowRight",oF="ArrowUp",yy="ArrowDown",Zd="Home",Ey="End",Fr="active",by="fade",ef="show",aF="dropdown",fA=".dropdown-toggle",lF=".dropdown-menu",tf=`:not(${fA})`,cF='.list-group, .nav, [role="tablist"]',uF=".nav-item, .list-group-item",hF=`.nav-link${tf}, .list-group-item${tf}, [role="tab"]${tf}`,pA='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',nf=`${hF}, ${pA}`,dF=`.${Fr}[data-bs-toggle="tab"], .${Fr}[data-bs-toggle="pill"], .${Fr}[data-bs-toggle="list"]`;class ga extends gs{constructor(e){super(e),this._parent=this._element.closest(cF),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),te.on(this._element,sF,t=>this._keydown(t)))}static get NAME(){return Q$}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),s=t?te.trigger(t,J$,{relatedTarget:e}):null;te.trigger(e,eF,{relatedTarget:t}).defaultPrevented||s&&s.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(Fr),this._activate(Te.getElementFromSelector(e));const s=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(ef);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),te.trigger(e,tF,{relatedTarget:t})};this._queueCallback(s,e,e.classList.contains(by))}_deactivate(e,t){if(!e)return;e.classList.remove(Fr),e.blur(),this._deactivate(Te.getElementFromSelector(e));const s=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(ef);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),te.trigger(e,Z$,{relatedTarget:t})};this._queueCallback(s,e,e.classList.contains(by))}_keydown(e){if(![rF,vy,oF,yy,Zd,Ey].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(i=>!ir(i));let s;if([Zd,Ey].includes(e.key))s=t[e.key===Zd?0:t.length-1];else{const i=[vy,yy].includes(e.key);s=wm(t,e.target,i,!0)}s&&(s.focus({preventScroll:!0}),ga.getOrCreateInstance(s).show())}_getChildren(){return Te.find(nf,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const s of t)this._setInitialAttributesOnChild(s)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),s=this._getOuterElement(e);e.setAttribute("aria-selected",t),s!==e&&this._setAttributeIfNotExists(s,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=Te.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const s=this._getOuterElement(e);if(!s.classList.contains(aF))return;const i=(r,o)=>{const l=Te.findOne(r,s);l&&l.classList.toggle(o,t)};i(fA,Fr),i(lF,ef),s.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,s){e.hasAttribute(t)||e.setAttribute(t,s)}_elemIsActive(e){return e.classList.contains(Fr)}_getInnerElement(e){return e.matches(nf)?e:Te.findOne(nf,e)}_getOuterElement(e){return e.closest(uF)||e}static jQueryInterface(e){return this.each(function(){const t=ga.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}te.on(document,nF,pA,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!ir(this)&&ga.getOrCreateInstance(this).show()});te.on(window,iF,()=>{for(const n of Te.find(dF))ga.getOrCreateInstance(n)});is(ga);const fF="toast",pF="bs.toast",hr=`.${pF}`,mF=`mouseover${hr}`,gF=`mouseout${hr}`,_F=`focusin${hr}`,vF=`focusout${hr}`,yF=`hide${hr}`,EF=`hidden${hr}`,bF=`show${hr}`,TF=`shown${hr}`,wF="fade",Ty="hide",ou="show",au="showing",AF={animation:"boolean",autohide:"boolean",delay:"number"},IF={animation:!0,autohide:!0,delay:5e3};class Jh extends gs{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return IF}static get DefaultType(){return AF}static get NAME(){return fF}show(){if(te.trigger(this._element,bF).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(wF);const t=()=>{this._element.classList.remove(au),te.trigger(this._element,TF),this._maybeScheduleHide()};this._element.classList.remove(Ty),dc(this._element),this._element.classList.add(ou,au),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||te.trigger(this._element,yF).defaultPrevented)return;const t=()=>{this._element.classList.add(Ty),this._element.classList.remove(au,ou),te.trigger(this._element,EF)};this._element.classList.add(au),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ou),super.dispose()}isShown(){return this._element.classList.contains(ou)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}const s=e.relatedTarget;this._element===s||this._element.contains(s)||this._maybeScheduleHide()}_setListeners(){te.on(this._element,mF,e=>this._onInteraction(e,!0)),te.on(this._element,gF,e=>this._onInteraction(e,!1)),te.on(this._element,_F,e=>this._onInteraction(e,!0)),te.on(this._element,vF,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=Jh.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Gh(Jh);is(Jh);const CF={name:"Footer",data(){return{modalInstance:null,selectedLangue:"fr",selectedDevise:"EUR",langues:[{value:"fr",text:"Franais"},{value:"en",text:"Anglais"},{value:"es",text:"Espagnol"}],devises:[{value:"EUR",text:"Euro ()"},{value:"USD",text:"Dollar ($)"},{value:"GBP",text:"Livre ()"}]}},mounted(){const n=this.$refs.preferencesModal;this.modalInstance=new Jr(n);const e=localStorage.getItem("langue"),t=localStorage.getItem("devise");e&&(this.selectedLangue=e),t&&(this.selectedDevise=t)},methods:{getLangueText(n){const e=this.langues.find(t=>t.value===n);return e?e.text:"Langue"},getDeviseText(n){const e=this.devises.find(t=>t.value===n);return e?e.text:"Devise"},openModal(){this.modalInstance&&this.modalInstance.show()},appliquerPreferences(){localStorage.setItem("langue",this.selectedLangue),localStorage.setItem("devise",this.selectedDevise),this.modalInstance&&this.modalInstance.hide()}}},SF={class:"modal fade",id:"preferencesModal",ref:"preferencesModal",tabindex:"-1","aria-labelledby":"preferencesModalLabel","aria-hidden":"true"},RF={class:"modal-dialog modal-dialog-centered"},PF={class:"modal-content"},OF={class:"modal-body"},DF={class:"mb-3"},NF=["value"],kF={class:"mb-3"},xF=["value"],LF={class:"modal-footer"};function VF(n,e,t,s,i,r){return et(),tt("footer",null,[e[8]||(e[8]=EC('<p class="footer-text" data-v-e9c248da> 2025 Instant Geek</p><div class="footer-links" data-v-e9c248da><a class="footer-link" href="/about" data-v-e9c248da> propos</a> | <a class="footer-link" href="/privacy-policy" data-v-e9c248da>Politique de confidentialit</a> | <a class="footer-link" href="/terms-of-service" data-v-e9c248da>Conditions de ventes</a> | <a class="footer-link" href="/contact" data-v-e9c248da>Nous Contacter</a></div>',2)),$("div",null,[$("button",{class:"footer-button btn btn-primary",onClick:e[0]||(e[0]=(...o)=>r.openModal&&r.openModal(...o))},cn(r.getLangueText(i.selectedLangue))+" | "+cn(r.getDeviseText(i.selectedDevise)),1)]),$("div",SF,[$("div",RF,[$("div",PF,[e[7]||(e[7]=$("div",{class:"modal-header"},[$("h5",{class:"modal-title",id:"preferencesModalLabel"},"Prfrences"),$("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),$("div",OF,[$("form",null,[$("div",DF,[e[4]||(e[4]=$("label",{for:"langueSelect",class:"form-label"},"Langue :",-1)),Rs($("select",{class:"form-select",id:"langueSelect","onUpdate:modelValue":e[1]||(e[1]=o=>i.selectedLangue=o)},[(et(!0),tt(Lt,null,Hr(i.langues,o=>(et(),tt("option",{key:o.value,value:o.value},cn(o.text),9,NF))),128))],512),[[qg,i.selectedLangue]])]),$("div",kF,[e[5]||(e[5]=$("label",{for:"deviseSelect",class:"form-label"},"Devise :",-1)),Rs($("select",{class:"form-select",id:"deviseSelect","onUpdate:modelValue":e[2]||(e[2]=o=>i.selectedDevise=o)},[(et(!0),tt(Lt,null,Hr(i.devises,o=>(et(),tt("option",{key:o.value,value:o.value},cn(o.text),9,xF))),128))],512),[[qg,i.selectedDevise]])])])]),$("div",LF,[e[6]||(e[6]=$("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Annuler",-1)),$("button",{type:"button",class:"btn btn-primary",onClick:e[3]||(e[3]=(...o)=>r.appliquerPreferences&&r.appliquerPreferences(...o))},"Appliquer")])])])],512)])}const Zh=uc(CF,[["render",VF],["__scopeId","data-v-e9c248da"]]),MF="/assets/img/Logo.png",$F="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23ffffff'%3e%3cpath%20d='M480-360q50%200%2085-35t35-85q0-50-35-85t-85-35q-50%200-85%2035t-35%2085q0%2050%2035%2085t85%2035Zm0%2080q-83%200-141.5-58.5T280-480q0-83%2058.5-141.5T480-680q83%200%20141.5%2058.5T680-480q0%2083-58.5%20141.5T480-280ZM200-440H40v-80h160v80Zm720%200H760v-80h160v80ZM440-760v-160h80v160h-80Zm0%20720v-160h80v160h-80ZM256-650l-101-97%2057-59%2096%20100-52%2056Zm492%20496-97-101%2053-55%20101%2097-57%2059Zm-98-550%2097-101%2059%2057-100%2096-56-52ZM154-212l101-97%2055%2053-97%20101-59-57Zm326-268Z'/%3e%3c/svg%3e",FF="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23000000'%3e%3cpath%20d='M480-120q-150%200-255-105T120-480q0-150%20105-255t255-105q14%200%2027.5%201t26.5%203q-41%2029-65.5%2075.5T444-660q0%2090%2063%20153t153%2063q55%200%20101-24.5t75-65.5q2%2013%203%2026.5t1%2027.5q0%20150-105%20255T480-120Zm0-80q88%200%20158-48.5T740-375q-20%205-40%208t-40%203q-123%200-209.5-86.5T364-660q0-20%203-40t8-40q-78%2032-126.5%20102T200-480q0%20116%2082%20198t198%2082Zm-10-270Z'/%3e%3c/svg%3e",UF={class:"navbar navbar-expand-lg navbar-light bg-white shadow-sm"},jF={class:"container-fluid"},BF=["aria-expanded"],HF={class:"navbar-nav mx-auto mb-2 mb-lg-0"},qF={class:"nav-item"},WF={class:"nav-item"},zF={class:"nav-item"},KF={class:"d-flex align-items-center"},GF={key:0,src:$F,alt:"Light mode",width:"24",height:"24"},YF={key:1,src:FF,alt:"Dark mode",width:"24",height:"24"},QF={__name:"Navbar",setup(n){const e=Nt(null);let t=null;const s=Nt(!1),i=Nt(!0),r=()=>{i.value=!i.value,o()},o=()=>{i.value?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode")};Xl(()=>{e.value&&(t=new ma(e.value,{toggle:!1})),o()});const l=()=>{t&&(e.value.classList.contains("show")?(t.hide(),s.value=!1):(t.show(),s.value=!0))};return(u,h)=>{const d=yh("router-link");return et(),tt("nav",UF,[$("div",jF,[qe(d,{class:"navbar-brand fw-bold me-auto",to:"/"},{default:cs(()=>h[0]||(h[0]=[$("img",{src:MF,alt:"Logo",width:"150",height:"50",class:"d-inline-block align-text-top"},null,-1)])),_:1}),$("button",{class:"navbar-toggler",type:"button",onClick:l,"aria-controls":"navbarSupportedContent","aria-expanded":s.value?"true":"false","aria-label":"Toggle navigation"},h[1]||(h[1]=[$("span",{class:"navbar-toggler-icon"},null,-1)]),8,BF),$("div",{class:"collapse navbar-collapse",id:"navbarSupportedContent",ref_key:"collapseElement",ref:e},[$("ul",HF,[$("li",qF,[qe(d,{class:"nav-link",to:"/nouveautes"},{default:cs(()=>h[2]||(h[2]=[Ko("Nouveauts")])),_:1})]),$("li",WF,[qe(d,{class:"nav-link",to:"/precommandes"},{default:cs(()=>h[3]||(h[3]=[Ko("Prcommandes")])),_:1})]),$("li",zF,[qe(d,{class:"nav-link",to:"/prochaines-sorties"},{default:cs(()=>h[4]||(h[4]=[Ko("Prochaines sorties")])),_:1})])]),$("div",KF,[h[7]||(h[7]=$("form",{class:"d-none d-lg-flex me-3",role:"search"},[$("input",{class:"form-control me-2",type:"search",placeholder:"Rechercher...","aria-label":"Search"}),$("button",{class:"btn btn-outline-secondary",type:"submit"},[$("i",{class:"bi bi-search"})])],-1)),qe(d,{class:"nav-link fs-5 text ms-2",to:"/connexion"},{default:cs(()=>h[5]||(h[5]=[$("i",{class:"bi bi-person-circle"},null,-1)])),_:1}),qe(d,{class:"nav-link fs-5 text ms-2",to:"/panier"},{default:cs(()=>h[6]||(h[6]=[$("i",{class:"bi bi-cart3"},null,-1)])),_:1}),$("button",{id:"theme_btn",class:"btn btn-primary",onClick:r},[i.value?(et(),tt("img",GF)):(et(),tt("img",YF))])])],512)])])}}},ed=uc(QF,[["__scopeId","data-v-49276f28"]]),XF={__name:"Accueil",setup(n){return(e,t)=>(et(),tt(Lt,null,[qe(ed),qe(AR),qe(tL),qe(gL),qe(IL),qe(Zh)],64))}},JF={__name:"Nouveautes",setup(n){return(e,t)=>(et(),tt(Lt,null,[qe(ed),t[0]||(t[0]=$("div",null,[$("h1",null,"Nouveauts"),$("p",null,"Dcouvrez ici les dernires nouveauts.")],-1)),qe(Zh)],64))}},ZF={__name:"Precommandes",setup(n){return(e,t)=>(et(),tt(Lt,null,[qe(ed),t[0]||(t[0]=$("div",null,[$("h1",null,"Prcommandes"),$("p",null,"Rservez ds maintenant les articles  venir.")],-1)),qe(Zh)],64))}},e4={__name:"ProchainesSorties",setup(n){return(e,t)=>(et(),tt(Lt,null,[qe(ed),t[0]||(t[0]=$("div",null,[$("h1",null,"Prochaines sorties"),$("p",null,"Consultez la liste de nos prochaines sorties.")],-1)),qe(Zh)],64))}},t4="/assets/img/inscription.jpg";async function n4(n,e){const s=(await Ok(qh,n,e)).user;return await Jp(Up(cc,"users",s.uid),{email:s.email,createdAt:new Date}),s}async function s4(n,e){return(await Dk(qh,n,e)).user}async function i4(){const n=new ni,t=(await Zk(qh,n)).user;return await Jp(Up(cc,"users",t.uid),{email:t.email,displayName:t.displayName,createdAt:new Date},{merge:!0}),t}async function r4(n){await Pk(qh,n)}const o4={class:"login-page-wrapper vh-100 d-flex align-items-center justify-content-center"},a4={class:"login-card-container d-flex shadow-lg"},l4={class:"login-form-section p-4 d-flex flex-column justify-content-center align-items-center text-center"},c4={class:"form-group mb-3 text-start"},u4={class:"form-group mb-3 text-start"},h4={class:"form-group mb-3 text-start"},d4={class:"form-group mb-3 text-start"},f4={class:"form-group mb-3 text-start"},p4={class:"form-group mb-4 text-start"},m4={class:"d-flex justify-content-center w-100 mt-4 small-links"},g4={class:"login-image-section d-none d-md-flex align-items-center justify-content-center p-0"},_4={__name:"Inscription",setup(n){const e=Nt(""),t=Nt(""),s=Nt(""),i=Nt(""),r=Nt(""),o=Nt(""),l=FE();async function u(){try{const h=await n4(e.value,t.value);if(h&&h.uid)await Jp(Up(cc,"users",h.uid),{email:e.value,username:s.value,firstname:i.value,birthdate:r.value,country:o.value,createdAt:new Date},{merge:!0}),alert("Compte cr avec succs !"),l.push("/");else throw new Error("L'utilisateur n'a pas t cr correctement par Firebase.")}catch(h){alert("Erreur lors de l'inscription : "+h.message)}}return(h,d)=>{const g=yh("router-link");return et(),tt("div",o4,[$("div",a4,[$("div",l4,[d[14]||(d[14]=$("h2",{class:"login-title mb-4 text-white"},"inscription",-1)),$("form",{onSubmit:mf(u,["prevent"]),class:"w-100"},[$("div",c4,[d[6]||(d[6]=$("label",{for:"email",class:"form-label text-uppercase text-white-50"},"Email",-1)),Rs($("input",{id:"email","onUpdate:modelValue":d[0]||(d[0]=v=>e.value=v),type:"email",class:"form-control login-input",required:"","aria-label":"Email"},null,512),[[$i,e.value]])]),$("div",u4,[d[7]||(d[7]=$("label",{for:"password",class:"form-label text-uppercase text-white-50"},"Mot de passe",-1)),Rs($("input",{id:"password","onUpdate:modelValue":d[1]||(d[1]=v=>t.value=v),type:"password",class:"form-control login-input",required:"","aria-label":"Mot de passe"},null,512),[[$i,t.value]])]),$("div",h4,[d[8]||(d[8]=$("label",{for:"username",class:"form-label text-uppercase text-white-50"},"Nom",-1)),Rs($("input",{id:"username","onUpdate:modelValue":d[2]||(d[2]=v=>s.value=v),type:"text",class:"form-control login-input",required:"","aria-label":"Nom d'utilisateur"},null,512),[[$i,s.value]])]),$("div",d4,[d[9]||(d[9]=$("label",{for:"firstname",class:"form-label text-uppercase text-white-50"},"Prnom",-1)),Rs($("input",{id:"firstname","onUpdate:modelValue":d[3]||(d[3]=v=>i.value=v),type:"text",class:"form-control login-input",required:"","aria-label":"Prnom"},null,512),[[$i,i.value]])]),$("div",f4,[d[10]||(d[10]=$("label",{for:"birthdate",class:"form-label text-uppercase text-white-50"},"Date de naissance",-1)),Rs($("input",{id:"birthdate","onUpdate:modelValue":d[4]||(d[4]=v=>r.value=v),type:"date",class:"form-control login-input",required:"","aria-label":"Date de naissance"},null,512),[[$i,r.value]])]),$("div",p4,[d[11]||(d[11]=$("label",{for:"country",class:"form-label text-uppercase text-white-50"},"Pays",-1)),Rs($("input",{id:"country","onUpdate:modelValue":d[5]||(d[5]=v=>o.value=v),type:"text",class:"form-control login-input",required:"","aria-label":"Pays"},null,512),[[$i,o.value]])]),d[12]||(d[12]=$("button",{type:"submit",class:"btn login-btn w-100"},"valider",-1))],32),$("div",m4,[qe(g,{to:"/connexion",class:"text-decoration-none text-white-50"},{default:cs(()=>d[13]||(d[13]=[$("i",{class:"bi bi-arrow-left me-2"},null,-1),Ko(" RETOUR ")])),_:1})])]),$("div",g4,[qe(g,{to:"/",class:"close-button","aria-label":"Retour  l'accueil"},{default:cs(()=>d[15]||(d[15]=[$("i",{class:"bi bi-x-lg"},null,-1)])),_:1}),d[16]||(d[16]=$("img",{src:t4,alt:"Illustration de jeux vido pour l'inscription",class:"img-fluid login-background-image"},null,-1))])])])}}},v4=uc(_4,[["__scopeId","data-v-826e79dc"]]),y4="/assets/img/connexion.jpg",E4={class:"login-page-wrapper vh-100 d-flex align-items-center justify-content-center"},b4={class:"login-card-container d-flex shadow-lg"},T4={class:"login-form-section p-4 d-flex flex-column justify-content-center align-items-center text-center"},w4={class:"form-group mb-3 text-start"},A4={class:"form-group mb-4 text-start"},I4={class:"d-flex justify-content-between w-100 mt-3 small-links"},C4={class:"login-image-section d-none d-md-flex align-items-center justify-content-center p-0"},S4={__name:"Connexion",setup(n){const e=Nt(""),t=Nt(""),s=FE();async function i(){try{await s4(e.value,t.value),alert("Connexion russie !"),s.push("/")}catch(l){alert("Erreur lors de la connexion : "+l.message)}}async function r(){try{await i4(),alert("Connexion Google russie !"),s.push("/")}catch(l){alert("Erreur avec Google : "+l.message)}}async function o(){if(!e.value){alert('Veuillez entrer votre adresse email dans le champ "Email" pour rinitialiser votre mot de passe.');return}try{await r4(e.value),alert("Un e-mail de rinitialisation de mot de passe a t envoy  "+e.value+". Veuillez vrifier votre bote de rception.")}catch(l){alert("Erreur lors de l'envoi de l'e-mail de rinitialisation : "+l.message)}}return(l,u)=>{const h=yh("router-link");return et(),tt("div",E4,[$("div",b4,[$("div",T4,[u[9]||(u[9]=$("h2",{class:"login-title mb-4"},"Se connecter",-1)),$("div",{class:"social-icons d-flex justify-content-center w-100 mb-4"},[$("button",{onClick:r,class:"btn social-icon-btn google-btn me-3","aria-label":"Se connecter avec Google"},u[2]||(u[2]=[$("i",{class:"bi bi-google"},null,-1)])),u[3]||(u[3]=$("button",{class:"btn social-icon-btn discord-btn me-3","aria-label":"Se connecter avec Discord"},[$("i",{class:"bi bi-discord"})],-1)),u[4]||(u[4]=$("button",{class:"btn social-icon-btn facebook-btn","aria-label":"Se connecter avec Facebook"},[$("i",{class:"bi bi-facebook"})],-1))]),u[10]||(u[10]=$("div",{class:"social-login-separator my-3"}," ou ",-1)),$("form",{onSubmit:mf(i,["prevent"]),class:"w-100"},[$("div",w4,[u[5]||(u[5]=$("label",{for:"email",class:"form-label text-uppercase"},"Email",-1)),Rs($("input",{id:"email","onUpdate:modelValue":u[0]||(u[0]=d=>e.value=d),type:"email",class:"form-control login-input",required:"","aria-label":"Email"},null,512),[[$i,e.value]])]),$("div",A4,[u[6]||(u[6]=$("label",{for:"password",class:"form-label text-uppercase"},"Mot de passe",-1)),Rs($("input",{id:"password","onUpdate:modelValue":u[1]||(u[1]=d=>t.value=d),type:"password",class:"form-control login-input",required:"","aria-label":"Mot de passe"},null,512),[[$i,t.value]])]),u[7]||(u[7]=$("button",{type:"submit",class:"btn login-btn w-100"},"Se connecter",-1))],32),$("div",I4,[qe(h,{to:"/inscription",class:"text-decoration-none"},{default:cs(()=>u[8]||(u[8]=[Ko(" J'ai besoin de compte ? ")])),_:1}),$("a",{href:"#",onClick:mf(o,["prevent"]),class:"text-decoration-none"}," Mot de passe oubli ? ")])]),$("div",C4,[qe(h,{to:"/",class:"close-button","aria-label":"Retour  l'accueil"},{default:cs(()=>u[11]||(u[11]=[$("i",{class:"bi bi-x-lg"},null,-1)])),_:1}),u[12]||(u[12]=$("img",{src:y4,alt:"Illustration de jeux vido",class:"img-fluid login-background-image"},null,-1))])])])}}},R4=uc(S4,[["__scopeId","data-v-6422ba25"]]),P4=cR({history:$S("/"),routes:[{path:"/",name:"accueil",component:XF},{path:"/nouveautes",name:"nouveautes",component:JF},{path:"/precommandes",name:"precommandes",component:ZF},{path:"/prochaines-sorties",name:"prochaines-sorties",component:e4},{path:"/inscription",name:"inscription",component:v4},{path:"/connexion",name:"connexion",component:R4}],linkActiveClass:"active"}),mA=nS(aS);mA.use(P4);mA.mount("#app");
