(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Xf(n){const e=Object.create(null);for(const t of n.split(","))e[t]=1;return t=>t in e}const dt={},Bo=[],Os=()=>{},jI=()=>!1,uh=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),Jf=n=>n.startsWith("onUpdate:"),hn=Object.assign,Zf=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},BI=Object.prototype.hasOwnProperty,it=(n,e)=>BI.call(n,e),Se=Array.isArray,Ho=n=>Jl(n)==="[object Map]",hh=n=>Jl(n)==="[object Set]",Eg=n=>Jl(n)==="[object Date]",Le=n=>typeof n=="function",Mt=n=>typeof n=="string",Ms=n=>typeof n=="symbol",_t=n=>n!==null&&typeof n=="object",Oy=n=>(_t(n)||Le(n))&&Le(n.then)&&Le(n.catch),Dy=Object.prototype.toString,Jl=n=>Dy.call(n),HI=n=>Jl(n).slice(8,-1),Ny=n=>Jl(n)==="[object Object]",ep=n=>Mt(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,gl=Xf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),dh=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},qI=/-(\w)/g,es=dh(n=>n.replace(qI,(e,t)=>t?t.toUpperCase():"")),WI=/\B([A-Z])/g,to=dh(n=>n.replace(WI,"-$1").toLowerCase()),fh=dh(n=>n.charAt(0).toUpperCase()+n.slice(1)),Ed=dh(n=>n?`on${fh(n)}`:""),zi=(n,e)=>!Object.is(n,e),lu=(n,...e)=>{for(let t=0;t<n.length;t++)n[t](...e)},ky=(n,e,t,s=!1)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,writable:s,value:t})},Ru=n=>{const e=parseFloat(n);return isNaN(e)?n:e};let bg;const ph=()=>bg||(bg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Nl(n){if(Se(n)){const e={};for(let t=0;t<n.length;t++){const s=n[t],i=Mt(s)?YI(s):Nl(s);if(i)for(const r in i)e[r]=i[r]}return e}else if(Mt(n)||_t(n))return n}const zI=/;(?![^(]*\))/g,KI=/:([^]+)/,GI=/\/\*[^]*?\*\//g;function YI(n){const e={};return n.replace(GI,"").split(zI).forEach(t=>{if(t){const s=t.split(KI);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function qo(n){let e="";if(Mt(n))e=n;else if(Se(n))for(let t=0;t<n.length;t++){const s=qo(n[t]);s&&(e+=s+" ")}else if(_t(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}const QI="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",XI=Xf(QI);function xy(n){return!!n||n===""}function JI(n,e){if(n.length!==e.length)return!1;let t=!0;for(let s=0;t&&s<n.length;s++)t=mh(n[s],e[s]);return t}function mh(n,e){if(n===e)return!0;let t=Eg(n),s=Eg(e);if(t||s)return t&&s?n.getTime()===e.getTime():!1;if(t=Ms(n),s=Ms(e),t||s)return n===e;if(t=Se(n),s=Se(e),t||s)return t&&s?JI(n,e):!1;if(t=_t(n),s=_t(e),t||s){if(!t||!s)return!1;const i=Object.keys(n).length,r=Object.keys(e).length;if(i!==r)return!1;for(const o in n){const l=n.hasOwnProperty(o),u=e.hasOwnProperty(o);if(l&&!u||!l&&u||!mh(n[o],e[o]))return!1}}return String(n)===String(e)}function ZI(n,e){return n.findIndex(t=>mh(t,e))}const Ly=n=>!!(n&&n.__v_isRef===!0),Bt=n=>Mt(n)?n:n==null?"":Se(n)||_t(n)&&(n.toString===Dy||!Le(n.toString))?Ly(n)?Bt(n.value):JSON.stringify(n,Vy,2):String(n),Vy=(n,e)=>Ly(e)?Vy(n,e.value):Ho(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[s,i],r)=>(t[bd(s,r)+" =>"]=i,t),{})}:hh(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>bd(t))}:Ms(e)?bd(e):_t(e)&&!Se(e)&&!Ny(e)?String(e):e,bd=(n,e="")=>{var t;return Ms(n)?`Symbol(${(t=n.description)!=null?t:e})`:n};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ln;class e0{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ln,!e&&Ln&&(this.index=(Ln.scopes||(Ln.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=Ln;try{return Ln=this,e()}finally{Ln=t}}}on(){Ln=this}off(){Ln=this.parent}stop(e){if(this._active){this._active=!1;let t,s;for(t=0,s=this.effects.length;t<s;t++)this.effects[t].stop();for(this.effects.length=0,t=0,s=this.cleanups.length;t<s;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function t0(){return Ln}let gt;const Td=new WeakSet;class My{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ln&&Ln.active&&Ln.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Td.has(this)&&(Td.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Fy(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Tg(this),Uy(this);const e=gt,t=ds;gt=this,ds=!0;try{return this.fn()}finally{jy(this),gt=e,ds=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)sp(e);this.deps=this.depsTail=void 0,Tg(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Td.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){rf(this)&&this.run()}get dirty(){return rf(this)}}let $y=0,_l,vl;function Fy(n,e=!1){if(n.flags|=8,e){n.next=vl,vl=n;return}n.next=_l,_l=n}function tp(){$y++}function np(){if(--$y>0)return;if(vl){let e=vl;for(vl=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let n;for(;_l;){let e=_l;for(_l=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){n||(n=s)}e=t}}if(n)throw n}function Uy(n){for(let e=n.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function jy(n){let e,t=n.depsTail,s=t;for(;s;){const i=s.prevDep;s.version===-1?(s===t&&(t=i),sp(s),n0(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}n.deps=e,n.depsTail=t}function rf(n){for(let e=n.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(By(e.dep.computed)||e.dep.version!==e.version))return!0;return!!n._dirty}function By(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===kl))return;n.globalVersion=kl;const e=n.dep;if(n.flags|=2,e.version>0&&!n.isSSR&&n.deps&&!rf(n)){n.flags&=-3;return}const t=gt,s=ds;gt=n,ds=!0;try{Uy(n);const i=n.fn(n._value);(e.version===0||zi(i,n._value))&&(n._value=i,e.version++)}catch(i){throw e.version++,i}finally{gt=t,ds=s,jy(n),n.flags&=-3}}function sp(n,e=!1){const{dep:t,prevSub:s,nextSub:i}=n;if(s&&(s.nextSub=i,n.prevSub=void 0),i&&(i.prevSub=s,n.nextSub=void 0),t.subs===n&&(t.subs=s,!s&&t.computed)){t.computed.flags&=-5;for(let r=t.computed.deps;r;r=r.nextDep)sp(r,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function n0(n){const{prevDep:e,nextDep:t}=n;e&&(e.nextDep=t,n.prevDep=void 0),t&&(t.prevDep=e,n.nextDep=void 0)}let ds=!0;const Hy=[];function cr(){Hy.push(ds),ds=!1}function ur(){const n=Hy.pop();ds=n===void 0?!0:n}function Tg(n){const{cleanup:e}=n;if(n.cleanup=void 0,e){const t=gt;gt=void 0;try{e()}finally{gt=t}}}let kl=0;class s0{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ip{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!gt||!ds||gt===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==gt)t=this.activeLink=new s0(gt,this),gt.deps?(t.prevDep=gt.depsTail,gt.depsTail.nextDep=t,gt.depsTail=t):gt.deps=gt.depsTail=t,qy(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const s=t.nextDep;s.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=s),t.prevDep=gt.depsTail,t.nextDep=void 0,gt.depsTail.nextDep=t,gt.depsTail=t,gt.deps===t&&(gt.deps=s)}return t}trigger(e){this.version++,kl++,this.notify(e)}notify(e){tp();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{np()}}}function qy(n){if(n.dep.sc++,n.sub.flags&4){const e=n.dep.computed;if(e&&!n.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)qy(s)}const t=n.dep.subs;t!==n&&(n.prevSub=t,t&&(t.nextSub=n)),n.dep.subs=n}}const of=new WeakMap,Hr=Symbol(""),af=Symbol(""),xl=Symbol("");function on(n,e,t){if(ds&&gt){let s=of.get(n);s||of.set(n,s=new Map);let i=s.get(t);i||(s.set(t,i=new ip),i.map=s,i.key=t),i.track()}}function ti(n,e,t,s,i,r){const o=of.get(n);if(!o){kl++;return}const l=u=>{u&&u.trigger()};if(tp(),e==="clear")o.forEach(l);else{const u=Se(n),h=u&&ep(t);if(u&&t==="length"){const f=Number(s);o.forEach((g,v)=>{(v==="length"||v===xl||!Ms(v)&&v>=f)&&l(g)})}else switch((t!==void 0||o.has(void 0))&&l(o.get(t)),h&&l(o.get(xl)),e){case"add":u?h&&l(o.get("length")):(l(o.get(Hr)),Ho(n)&&l(o.get(af)));break;case"delete":u||(l(o.get(Hr)),Ho(n)&&l(o.get(af)));break;case"set":Ho(n)&&l(o.get(Hr));break}}np()}function Po(n){const e=st(n);return e===n?e:(on(e,"iterate",xl),Jn(n)?e:e.map(an))}function gh(n){return on(n=st(n),"iterate",xl),n}const i0={__proto__:null,[Symbol.iterator](){return wd(this,Symbol.iterator,an)},concat(...n){return Po(this).concat(...n.map(e=>Se(e)?Po(e):e))},entries(){return wd(this,"entries",n=>(n[1]=an(n[1]),n))},every(n,e){return Js(this,"every",n,e,void 0,arguments)},filter(n,e){return Js(this,"filter",n,e,t=>t.map(an),arguments)},find(n,e){return Js(this,"find",n,e,an,arguments)},findIndex(n,e){return Js(this,"findIndex",n,e,void 0,arguments)},findLast(n,e){return Js(this,"findLast",n,e,an,arguments)},findLastIndex(n,e){return Js(this,"findLastIndex",n,e,void 0,arguments)},forEach(n,e){return Js(this,"forEach",n,e,void 0,arguments)},includes(...n){return Ad(this,"includes",n)},indexOf(...n){return Ad(this,"indexOf",n)},join(n){return Po(this).join(n)},lastIndexOf(...n){return Ad(this,"lastIndexOf",n)},map(n,e){return Js(this,"map",n,e,void 0,arguments)},pop(){return rl(this,"pop")},push(...n){return rl(this,"push",n)},reduce(n,...e){return wg(this,"reduce",n,e)},reduceRight(n,...e){return wg(this,"reduceRight",n,e)},shift(){return rl(this,"shift")},some(n,e){return Js(this,"some",n,e,void 0,arguments)},splice(...n){return rl(this,"splice",n)},toReversed(){return Po(this).toReversed()},toSorted(n){return Po(this).toSorted(n)},toSpliced(...n){return Po(this).toSpliced(...n)},unshift(...n){return rl(this,"unshift",n)},values(){return wd(this,"values",an)}};function wd(n,e,t){const s=gh(n),i=s[e]();return s!==n&&!Jn(n)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.value&&(r.value=t(r.value)),r}),i}const r0=Array.prototype;function Js(n,e,t,s,i,r){const o=gh(n),l=o!==n&&!Jn(n),u=o[e];if(u!==r0[e]){const g=u.apply(n,r);return l?an(g):g}let h=t;o!==n&&(l?h=function(g,v){return t.call(this,an(g),v,n)}:t.length>2&&(h=function(g,v){return t.call(this,g,v,n)}));const f=u.call(o,h,s);return l&&i?i(f):f}function wg(n,e,t,s){const i=gh(n);let r=t;return i!==n&&(Jn(n)?t.length>3&&(r=function(o,l,u){return t.call(this,o,l,u,n)}):r=function(o,l,u){return t.call(this,o,an(l),u,n)}),i[e](r,...s)}function Ad(n,e,t){const s=st(n);on(s,"iterate",xl);const i=s[e](...t);return(i===-1||i===!1)&&ap(t[0])?(t[0]=st(t[0]),s[e](...t)):i}function rl(n,e,t=[]){cr(),tp();const s=st(n)[e].apply(n,t);return np(),ur(),s}const o0=Xf("__proto__,__v_isRef,__isVue"),Wy=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(Ms));function a0(n){Ms(n)||(n=String(n));const e=st(this);return on(e,"has",n),e.hasOwnProperty(n)}class zy{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,s){if(t==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(t==="__v_isReactive")return!i;if(t==="__v_isReadonly")return i;if(t==="__v_isShallow")return r;if(t==="__v_raw")return s===(i?r?_0:Qy:r?Yy:Gy).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=Se(e);if(!i){let u;if(o&&(u=i0[t]))return u;if(t==="hasOwnProperty")return a0}const l=Reflect.get(e,t,un(e)?e:s);return(Ms(t)?Wy.has(t):o0(t))||(i||on(e,"get",t),r)?l:un(l)?o&&ep(t)?l:l.value:_t(l)?i?Jy(l):_h(l):l}}class Ky extends zy{constructor(e=!1){super(!1,e)}set(e,t,s,i){let r=e[t];if(!this._isShallow){const u=Wr(r);if(!Jn(s)&&!Wr(s)&&(r=st(r),s=st(s)),!Se(e)&&un(r)&&!un(s))return u?!1:(r.value=s,!0)}const o=Se(e)&&ep(t)?Number(t)<e.length:it(e,t),l=Reflect.set(e,t,s,un(e)?e:i);return e===st(i)&&(o?zi(s,r)&&ti(e,"set",t,s):ti(e,"add",t,s)),l}deleteProperty(e,t){const s=it(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&s&&ti(e,"delete",t,void 0),i}has(e,t){const s=Reflect.has(e,t);return(!Ms(t)||!Wy.has(t))&&on(e,"has",t),s}ownKeys(e){return on(e,"iterate",Se(e)?"length":Hr),Reflect.ownKeys(e)}}class l0 extends zy{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const c0=new Ky,u0=new l0,h0=new Ky(!0);const lf=n=>n,Wc=n=>Reflect.getPrototypeOf(n);function d0(n,e,t){return function(...s){const i=this.__v_raw,r=st(i),o=Ho(r),l=n==="entries"||n===Symbol.iterator&&o,u=n==="keys"&&o,h=i[n](...s),f=t?lf:e?cf:an;return!e&&on(r,"iterate",u?af:Hr),{next(){const{value:g,done:v}=h.next();return v?{value:g,done:v}:{value:l?[f(g[0]),f(g[1])]:f(g),done:v}},[Symbol.iterator](){return this}}}}function zc(n){return function(...e){return n==="delete"?!1:n==="clear"?void 0:this}}function f0(n,e){const t={get(i){const r=this.__v_raw,o=st(r),l=st(i);n||(zi(i,l)&&on(o,"get",i),on(o,"get",l));const{has:u}=Wc(o),h=e?lf:n?cf:an;if(u.call(o,i))return h(r.get(i));if(u.call(o,l))return h(r.get(l));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!n&&on(st(i),"iterate",Hr),Reflect.get(i,"size",i)},has(i){const r=this.__v_raw,o=st(r),l=st(i);return n||(zi(i,l)&&on(o,"has",i),on(o,"has",l)),i===l?r.has(i):r.has(i)||r.has(l)},forEach(i,r){const o=this,l=o.__v_raw,u=st(l),h=e?lf:n?cf:an;return!n&&on(u,"iterate",Hr),l.forEach((f,g)=>i.call(r,h(f),h(g),o))}};return hn(t,n?{add:zc("add"),set:zc("set"),delete:zc("delete"),clear:zc("clear")}:{add(i){!e&&!Jn(i)&&!Wr(i)&&(i=st(i));const r=st(this);return Wc(r).has.call(r,i)||(r.add(i),ti(r,"add",i,i)),this},set(i,r){!e&&!Jn(r)&&!Wr(r)&&(r=st(r));const o=st(this),{has:l,get:u}=Wc(o);let h=l.call(o,i);h||(i=st(i),h=l.call(o,i));const f=u.call(o,i);return o.set(i,r),h?zi(r,f)&&ti(o,"set",i,r):ti(o,"add",i,r),this},delete(i){const r=st(this),{has:o,get:l}=Wc(r);let u=o.call(r,i);u||(i=st(i),u=o.call(r,i)),l&&l.call(r,i);const h=r.delete(i);return u&&ti(r,"delete",i,void 0),h},clear(){const i=st(this),r=i.size!==0,o=i.clear();return r&&ti(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=d0(i,n,e)}),t}function rp(n,e){const t=f0(n,e);return(s,i,r)=>i==="__v_isReactive"?!n:i==="__v_isReadonly"?n:i==="__v_raw"?s:Reflect.get(it(t,i)&&i in s?t:s,i,r)}const p0={get:rp(!1,!1)},m0={get:rp(!1,!0)},g0={get:rp(!0,!1)};const Gy=new WeakMap,Yy=new WeakMap,Qy=new WeakMap,_0=new WeakMap;function v0(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function y0(n){return n.__v_skip||!Object.isExtensible(n)?0:v0(HI(n))}function _h(n){return Wr(n)?n:op(n,!1,c0,p0,Gy)}function Xy(n){return op(n,!1,h0,m0,Yy)}function Jy(n){return op(n,!0,u0,g0,Qy)}function op(n,e,t,s,i){if(!_t(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const r=i.get(n);if(r)return r;const o=y0(n);if(o===0)return n;const l=new Proxy(n,o===2?s:t);return i.set(n,l),l}function Wo(n){return Wr(n)?Wo(n.__v_raw):!!(n&&n.__v_isReactive)}function Wr(n){return!!(n&&n.__v_isReadonly)}function Jn(n){return!!(n&&n.__v_isShallow)}function ap(n){return n?!!n.__v_raw:!1}function st(n){const e=n&&n.__v_raw;return e?st(e):n}function E0(n){return!it(n,"__v_skip")&&Object.isExtensible(n)&&ky(n,"__v_skip",!0),n}const an=n=>_t(n)?_h(n):n,cf=n=>_t(n)?Jy(n):n;function un(n){return n?n.__v_isRef===!0:!1}function At(n){return Zy(n,!1)}function b0(n){return Zy(n,!0)}function Zy(n,e){return un(n)?n:new T0(n,e)}class T0{constructor(e,t){this.dep=new ip,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:st(e),this._value=t?e:an(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,s=this.__v_isShallow||Jn(e)||Wr(e);e=s?e:st(e),zi(e,t)&&(this._rawValue=e,this._value=s?e:an(e),this.dep.trigger())}}function oi(n){return un(n)?n.value:n}const w0={get:(n,e,t)=>e==="__v_raw"?n:oi(Reflect.get(n,e,t)),set:(n,e,t,s)=>{const i=n[e];return un(i)&&!un(t)?(i.value=t,!0):Reflect.set(n,e,t,s)}};function eE(n){return Wo(n)?n:new Proxy(n,w0)}class A0{constructor(e,t,s){this.fn=e,this.setter=t,this._value=void 0,this.dep=new ip(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=kl-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&gt!==this)return Fy(this,!0),!0}get value(){const e=this.dep.track();return By(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function I0(n,e,t=!1){let s,i;return Le(n)?s=n:(s=n.get,i=n.set),new A0(s,i,t)}const Kc={},Pu=new WeakMap;let Vr;function C0(n,e=!1,t=Vr){if(t){let s=Pu.get(t);s||Pu.set(t,s=[]),s.push(n)}}function S0(n,e,t=dt){const{immediate:s,deep:i,once:r,scheduler:o,augmentJob:l,call:u}=t,h=H=>i?H:Jn(H)||i===!1||i===0?ni(H,1):ni(H);let f,g,v,b,k=!1,L=!1;if(un(n)?(g=()=>n.value,k=Jn(n)):Wo(n)?(g=()=>h(n),k=!0):Se(n)?(L=!0,k=n.some(H=>Wo(H)||Jn(H)),g=()=>n.map(H=>{if(un(H))return H.value;if(Wo(H))return h(H);if(Le(H))return u?u(H,2):H()})):Le(n)?e?g=u?()=>u(n,2):n:g=()=>{if(v){cr();try{v()}finally{ur()}}const H=Vr;Vr=f;try{return u?u(n,3,[b]):n(b)}finally{Vr=H}}:g=Os,e&&i){const H=g,ce=i===!0?1/0:i;g=()=>ni(H(),ce)}const $=t0(),U=()=>{f.stop(),$&&$.active&&Zf($.effects,f)};if(r&&e){const H=e;e=(...ce)=>{H(...ce),U()}}let F=L?new Array(n.length).fill(Kc):Kc;const K=H=>{if(!(!(f.flags&1)||!f.dirty&&!H))if(e){const ce=f.run();if(i||k||(L?ce.some((he,S)=>zi(he,F[S])):zi(ce,F))){v&&v();const he=Vr;Vr=f;try{const S=[ce,F===Kc?void 0:L&&F[0]===Kc?[]:F,b];u?u(e,3,S):e(...S),F=ce}finally{Vr=he}}}else f.run()};return l&&l(K),f=new My(g),f.scheduler=o?()=>o(K,!1):K,b=H=>C0(H,!1,f),v=f.onStop=()=>{const H=Pu.get(f);if(H){if(u)u(H,4);else for(const ce of H)ce();Pu.delete(f)}},e?s?K(!0):F=f.run():o?o(K.bind(null,!0),!0):f.run(),U.pause=f.pause.bind(f),U.resume=f.resume.bind(f),U.stop=U,U}function ni(n,e=1/0,t){if(e<=0||!_t(n)||n.__v_skip||(t=t||new Set,t.has(n)))return n;if(t.add(n),e--,un(n))ni(n.value,e,t);else if(Se(n))for(let s=0;s<n.length;s++)ni(n[s],e,t);else if(hh(n)||Ho(n))n.forEach(s=>{ni(s,e,t)});else if(Ny(n)){for(const s in n)ni(n[s],e,t);for(const s of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,s)&&ni(n[s],e,t)}return n}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Zl(n,e,t,s){try{return s?n(...s):n()}catch(i){vh(i,e,t)}}function $s(n,e,t,s){if(Le(n)){const i=Zl(n,e,t,s);return i&&Oy(i)&&i.catch(r=>{vh(r,e,t)}),i}if(Se(n)){const i=[];for(let r=0;r<n.length;r++)i.push($s(n[r],e,t,s));return i}}function vh(n,e,t,s=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||dt;if(e){let l=e.parent;const u=e.proxy,h=`https://vuejs.org/error-reference/#runtime-${t}`;for(;l;){const f=l.ec;if(f){for(let g=0;g<f.length;g++)if(f[g](n,u,h)===!1)return}l=l.parent}if(r){cr(),Zl(r,null,10,[n,u,h]),ur();return}}R0(n,t,i,s,o)}function R0(n,e,t,s=!0,i=!1){if(i)throw n;console.error(n)}const bn=[];let Cs=-1;const zo=[];let $i=null,No=0;const tE=Promise.resolve();let Ou=null;function lp(n){const e=Ou||tE;return n?e.then(this?n.bind(this):n):e}function P0(n){let e=Cs+1,t=bn.length;for(;e<t;){const s=e+t>>>1,i=bn[s],r=Ll(i);r<n||r===n&&i.flags&2?e=s+1:t=s}return e}function cp(n){if(!(n.flags&1)){const e=Ll(n),t=bn[bn.length-1];!t||!(n.flags&2)&&e>=Ll(t)?bn.push(n):bn.splice(P0(e),0,n),n.flags|=1,nE()}}function nE(){Ou||(Ou=tE.then(iE))}function O0(n){Se(n)?zo.push(...n):$i&&n.id===-1?$i.splice(No+1,0,n):n.flags&1||(zo.push(n),n.flags|=1),nE()}function Ag(n,e,t=Cs+1){for(;t<bn.length;t++){const s=bn[t];if(s&&s.flags&2){if(n&&s.id!==n.uid)continue;bn.splice(t,1),t--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function sE(n){if(zo.length){const e=[...new Set(zo)].sort((t,s)=>Ll(t)-Ll(s));if(zo.length=0,$i){$i.push(...e);return}for($i=e,No=0;No<$i.length;No++){const t=$i[No];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}$i=null,No=0}}const Ll=n=>n.id==null?n.flags&2?-1:1/0:n.id;function iE(n){try{for(Cs=0;Cs<bn.length;Cs++){const e=bn[Cs];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Zl(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Cs<bn.length;Cs++){const e=bn[Cs];e&&(e.flags&=-2)}Cs=-1,bn.length=0,sE(),Ou=null,(bn.length||zo.length)&&iE()}}let Mn=null,rE=null;function Du(n){const e=Mn;return Mn=n,rE=n&&n.type.__scopeId||null,e}function cs(n,e=Mn,t){if(!e||n._n)return n;const s=(...i)=>{s._d&&xg(-1);const r=Du(e);let o;try{o=n(...i)}finally{Du(r),s._d&&xg(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function Rs(n,e){if(Mn===null)return n;const t=wh(Mn),s=n.dirs||(n.dirs=[]);for(let i=0;i<e.length;i++){let[r,o,l,u=dt]=e[i];r&&(Le(r)&&(r={mounted:r,updated:r}),r.deep&&ni(o),s.push({dir:r,instance:t,value:o,oldValue:void 0,arg:l,modifiers:u}))}return n}function xr(n,e,t,s){const i=n.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const l=i[o];r&&(l.oldValue=r[o].value);let u=l.dir[s];u&&(cr(),$s(u,t,8,[n.el,l,n,e]),ur())}}const D0=Symbol("_vte"),N0=n=>n.__isTeleport;function up(n,e){n.shapeFlag&6&&n.component?(n.transition=e,up(n.component.subTree,e)):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}/*! #__NO_SIDE_EFFECTS__ */function oE(n,e){return Le(n)?hn({name:n.name},e,{setup:n}):n}function aE(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function Nu(n,e,t,s,i=!1){if(Se(n)){n.forEach((k,L)=>Nu(k,e&&(Se(e)?e[L]:e),t,s,i));return}if(yl(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Nu(n,e,t,s.component.subTree);return}const r=s.shapeFlag&4?wh(s.component):s.el,o=i?null:r,{i:l,r:u}=n,h=e&&e.r,f=l.refs===dt?l.refs={}:l.refs,g=l.setupState,v=st(g),b=g===dt?()=>!1:k=>it(v,k);if(h!=null&&h!==u&&(Mt(h)?(f[h]=null,b(h)&&(g[h]=null)):un(h)&&(h.value=null)),Le(u))Zl(u,l,12,[o,f]);else{const k=Mt(u),L=un(u);if(k||L){const $=()=>{if(n.f){const U=k?b(u)?g[u]:f[u]:u.value;i?Se(U)&&Zf(U,r):Se(U)?U.includes(r)||U.push(r):k?(f[u]=[r],b(u)&&(g[u]=f[u])):(u.value=[r],n.k&&(f[n.k]=u.value))}else k?(f[u]=o,b(u)&&(g[u]=o)):L&&(u.value=o,n.k&&(f[n.k]=o))};o?($.id=-1,xn($,t)):$()}}}ph().requestIdleCallback;ph().cancelIdleCallback;const yl=n=>!!n.type.__asyncLoader,lE=n=>n.type.__isKeepAlive;function k0(n,e){cE(n,"a",e)}function x0(n,e){cE(n,"da",e)}function cE(n,e,t=cn){const s=n.__wdc||(n.__wdc=()=>{let i=t;for(;i;){if(i.isDeactivated)return;i=i.parent}return n()});if(yh(e,s,t),t){let i=t.parent;for(;i&&i.parent;)lE(i.parent.vnode)&&L0(s,e,t,i),i=i.parent}}function L0(n,e,t,s){const i=yh(e,n,s,!0);hp(()=>{Zf(s[e],i)},t)}function yh(n,e,t=cn,s=!1){if(t){const i=t[n]||(t[n]=[]),r=e.__weh||(e.__weh=(...o)=>{cr();const l=ec(t),u=$s(e,t,n,o);return l(),ur(),u});return s?i.unshift(r):i.push(r),r}}const gi=n=>(e,t=cn)=>{(!$l||n==="sp")&&yh(n,(...s)=>e(...s),t)},V0=gi("bm"),va=gi("m"),M0=gi("bu"),$0=gi("u"),F0=gi("bum"),hp=gi("um"),U0=gi("sp"),j0=gi("rtg"),B0=gi("rtc");function H0(n,e=cn){yh("ec",n,e)}const q0="components";function Eh(n,e){return z0(q0,n,!0,e)||n}const W0=Symbol.for("v-ndc");function z0(n,e,t=!0,s=!1){const i=Mn||cn;if(i){const r=i.type;{const l=xC(r,!1);if(l&&(l===e||l===es(e)||l===fh(es(e))))return r}const o=Ig(i[n]||r[n],e)||Ig(i.appContext[n],e);return!o&&s?r:o}}function Ig(n,e){return n&&(n[e]||n[es(e)]||n[fh(es(e))])}function Zi(n,e,t,s){let i;const r=t,o=Se(n);if(o||Mt(n)){const l=o&&Wo(n);let u=!1;l&&(u=!Jn(n),n=gh(n)),i=new Array(n.length);for(let h=0,f=n.length;h<f;h++)i[h]=e(u?an(n[h]):n[h],h,void 0,r)}else if(typeof n=="number"){i=new Array(n);for(let l=0;l<n;l++)i[l]=e(l+1,l,void 0,r)}else if(_t(n))if(n[Symbol.iterator])i=Array.from(n,(l,u)=>e(l,u,void 0,r));else{const l=Object.keys(n);i=new Array(l.length);for(let u=0,h=l.length;u<h;u++){const f=l[u];i[u]=e(n[f],f,u,r)}}else i=[];return i}const uf=n=>n?PE(n)?wh(n):uf(n.parent):null,El=hn(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>uf(n.parent),$root:n=>uf(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>hE(n),$forceUpdate:n=>n.f||(n.f=()=>{cp(n.update)}),$nextTick:n=>n.n||(n.n=lp.bind(n.proxy)),$watch:n=>fC.bind(n)}),Id=(n,e)=>n!==dt&&!n.__isScriptSetup&&it(n,e),K0={get({_:n},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:s,data:i,props:r,accessCache:o,type:l,appContext:u}=n;let h;if(e[0]!=="$"){const b=o[e];if(b!==void 0)switch(b){case 1:return s[e];case 2:return i[e];case 4:return t[e];case 3:return r[e]}else{if(Id(s,e))return o[e]=1,s[e];if(i!==dt&&it(i,e))return o[e]=2,i[e];if((h=n.propsOptions[0])&&it(h,e))return o[e]=3,r[e];if(t!==dt&&it(t,e))return o[e]=4,t[e];hf&&(o[e]=0)}}const f=El[e];let g,v;if(f)return e==="$attrs"&&on(n.attrs,"get",""),f(n);if((g=l.__cssModules)&&(g=g[e]))return g;if(t!==dt&&it(t,e))return o[e]=4,t[e];if(v=u.config.globalProperties,it(v,e))return v[e]},set({_:n},e,t){const{data:s,setupState:i,ctx:r}=n;return Id(i,e)?(i[e]=t,!0):s!==dt&&it(s,e)?(s[e]=t,!0):it(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(r[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:s,appContext:i,propsOptions:r}},o){let l;return!!t[o]||n!==dt&&it(n,o)||Id(e,o)||(l=r[0])&&it(l,o)||it(s,o)||it(El,o)||it(i.config.globalProperties,o)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:it(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}};function Cg(n){return Se(n)?n.reduce((e,t)=>(e[t]=null,e),{}):n}let hf=!0;function G0(n){const e=hE(n),t=n.proxy,s=n.ctx;hf=!1,e.beforeCreate&&Sg(e.beforeCreate,n,"bc");const{data:i,computed:r,methods:o,watch:l,provide:u,inject:h,created:f,beforeMount:g,mounted:v,beforeUpdate:b,updated:k,activated:L,deactivated:$,beforeDestroy:U,beforeUnmount:F,destroyed:K,unmounted:H,render:ce,renderTracked:he,renderTriggered:S,errorCaptured:T,serverPrefetch:A,expose:R,inheritAttrs:P,components:D,directives:I,filters:ft}=e;if(h&&Y0(h,s,null),o)for(const we in o){const xe=o[we];Le(xe)&&(s[we]=xe.bind(t))}if(i){const we=i.call(t,t);_t(we)&&(n.data=_h(we))}if(hf=!0,r)for(const we in r){const xe=r[we],bt=Le(xe)?xe.bind(t,t):Le(xe.get)?xe.get.bind(t,t):Os,Y=!Le(xe)&&Le(xe.set)?xe.set.bind(t):Os,xt=Tn({get:bt,set:Y});Object.defineProperty(s,we,{enumerable:!0,configurable:!0,get:()=>xt.value,set:Je=>xt.value=Je})}if(l)for(const we in l)uE(l[we],s,t,we);if(u){const we=Le(u)?u.call(t):u;Reflect.ownKeys(we).forEach(xe=>{cu(xe,we[xe])})}f&&Sg(f,n,"c");function Be(we,xe){Se(xe)?xe.forEach(bt=>we(bt.bind(t))):xe&&we(xe.bind(t))}if(Be(V0,g),Be(va,v),Be(M0,b),Be($0,k),Be(k0,L),Be(x0,$),Be(H0,T),Be(B0,he),Be(j0,S),Be(F0,F),Be(hp,H),Be(U0,A),Se(R))if(R.length){const we=n.exposed||(n.exposed={});R.forEach(xe=>{Object.defineProperty(we,xe,{get:()=>t[xe],set:bt=>t[xe]=bt})})}else n.exposed||(n.exposed={});ce&&n.render===Os&&(n.render=ce),P!=null&&(n.inheritAttrs=P),D&&(n.components=D),I&&(n.directives=I),A&&aE(n)}function Y0(n,e,t=Os){Se(n)&&(n=df(n));for(const s in n){const i=n[s];let r;_t(i)?"default"in i?r=Ds(i.from||s,i.default,!0):r=Ds(i.from||s):r=Ds(i),un(r)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[s]=r}}function Sg(n,e,t){$s(Se(n)?n.map(s=>s.bind(e.proxy)):n.bind(e.proxy),e,t)}function uE(n,e,t,s){let i=s.includes(".")?IE(t,s):()=>t[s];if(Mt(n)){const r=e[n];Le(r)&&uu(i,r)}else if(Le(n))uu(i,n.bind(t));else if(_t(n))if(Se(n))n.forEach(r=>uE(r,e,t,s));else{const r=Le(n.handler)?n.handler.bind(t):e[n.handler];Le(r)&&uu(i,r,n)}}function hE(n){const e=n.type,{mixins:t,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=n.appContext,l=r.get(e);let u;return l?u=l:!i.length&&!t&&!s?u=e:(u={},i.length&&i.forEach(h=>ku(u,h,o,!0)),ku(u,e,o)),_t(e)&&r.set(e,u),u}function ku(n,e,t,s=!1){const{mixins:i,extends:r}=e;r&&ku(n,r,t,!0),i&&i.forEach(o=>ku(n,o,t,!0));for(const o in e)if(!(s&&o==="expose")){const l=Q0[o]||t&&t[o];n[o]=l?l(n[o],e[o]):e[o]}return n}const Q0={data:Rg,props:Pg,emits:Pg,methods:ul,computed:ul,beforeCreate:En,created:En,beforeMount:En,mounted:En,beforeUpdate:En,updated:En,beforeDestroy:En,beforeUnmount:En,destroyed:En,unmounted:En,activated:En,deactivated:En,errorCaptured:En,serverPrefetch:En,components:ul,directives:ul,watch:J0,provide:Rg,inject:X0};function Rg(n,e){return e?n?function(){return hn(Le(n)?n.call(this,this):n,Le(e)?e.call(this,this):e)}:e:n}function X0(n,e){return ul(df(n),df(e))}function df(n){if(Se(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function En(n,e){return n?[...new Set([].concat(n,e))]:e}function ul(n,e){return n?hn(Object.create(null),n,e):e}function Pg(n,e){return n?Se(n)&&Se(e)?[...new Set([...n,...e])]:hn(Object.create(null),Cg(n),Cg(e??{})):e}function J0(n,e){if(!n)return e;if(!e)return n;const t=hn(Object.create(null),n);for(const s in e)t[s]=En(n[s],e[s]);return t}function dE(){return{app:null,config:{isNativeTag:jI,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Z0=0;function eC(n,e){return function(s,i=null){Le(s)||(s=hn({},s)),i!=null&&!_t(i)&&(i=null);const r=dE(),o=new WeakSet,l=[];let u=!1;const h=r.app={_uid:Z0++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:VC,get config(){return r.config},set config(f){},use(f,...g){return o.has(f)||(f&&Le(f.install)?(o.add(f),f.install(h,...g)):Le(f)&&(o.add(f),f(h,...g))),h},mixin(f){return r.mixins.includes(f)||r.mixins.push(f),h},component(f,g){return g?(r.components[f]=g,h):r.components[f]},directive(f,g){return g?(r.directives[f]=g,h):r.directives[f]},mount(f,g,v){if(!u){const b=h._ceVNode||He(s,i);return b.appContext=r,v===!0?v="svg":v===!1&&(v=void 0),n(b,f,v),u=!0,h._container=f,f.__vue_app__=h,wh(b.component)}},onUnmount(f){l.push(f)},unmount(){u&&($s(l,h._instance,16),n(null,h._container),delete h._container.__vue_app__)},provide(f,g){return r.provides[f]=g,h},runWithContext(f){const g=Ko;Ko=h;try{return f()}finally{Ko=g}}};return h}}let Ko=null;function cu(n,e){if(cn){let t=cn.provides;const s=cn.parent&&cn.parent.provides;s===t&&(t=cn.provides=Object.create(s)),t[n]=e}}function Ds(n,e,t=!1){const s=cn||Mn;if(s||Ko){const i=Ko?Ko._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&n in i)return i[n];if(arguments.length>1)return t&&Le(e)?e.call(s&&s.proxy):e}}const fE={},pE=()=>Object.create(fE),mE=n=>Object.getPrototypeOf(n)===fE;function tC(n,e,t,s=!1){const i={},r=pE();n.propsDefaults=Object.create(null),gE(n,e,i,r);for(const o in n.propsOptions[0])o in i||(i[o]=void 0);t?n.props=s?i:Xy(i):n.type.props?n.props=i:n.props=r,n.attrs=r}function nC(n,e,t,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=n,l=st(i),[u]=n.propsOptions;let h=!1;if((s||o>0)&&!(o&16)){if(o&8){const f=n.vnode.dynamicProps;for(let g=0;g<f.length;g++){let v=f[g];if(bh(n.emitsOptions,v))continue;const b=e[v];if(u)if(it(r,v))b!==r[v]&&(r[v]=b,h=!0);else{const k=es(v);i[k]=ff(u,l,k,b,n,!1)}else b!==r[v]&&(r[v]=b,h=!0)}}}else{gE(n,e,i,r)&&(h=!0);let f;for(const g in l)(!e||!it(e,g)&&((f=to(g))===g||!it(e,f)))&&(u?t&&(t[g]!==void 0||t[f]!==void 0)&&(i[g]=ff(u,l,g,void 0,n,!0)):delete i[g]);if(r!==l)for(const g in r)(!e||!it(e,g))&&(delete r[g],h=!0)}h&&ti(n.attrs,"set","")}function gE(n,e,t,s){const[i,r]=n.propsOptions;let o=!1,l;if(e)for(let u in e){if(gl(u))continue;const h=e[u];let f;i&&it(i,f=es(u))?!r||!r.includes(f)?t[f]=h:(l||(l={}))[f]=h:bh(n.emitsOptions,u)||(!(u in s)||h!==s[u])&&(s[u]=h,o=!0)}if(r){const u=st(t),h=l||dt;for(let f=0;f<r.length;f++){const g=r[f];t[g]=ff(i,u,g,h[g],n,!it(h,g))}}return o}function ff(n,e,t,s,i,r){const o=n[t];if(o!=null){const l=it(o,"default");if(l&&s===void 0){const u=o.default;if(o.type!==Function&&!o.skipFactory&&Le(u)){const{propsDefaults:h}=i;if(t in h)s=h[t];else{const f=ec(i);s=h[t]=u.call(null,e),f()}}else s=u;i.ce&&i.ce._setProp(t,s)}o[0]&&(r&&!l?s=!1:o[1]&&(s===""||s===to(t))&&(s=!0))}return s}const sC=new WeakMap;function _E(n,e,t=!1){const s=t?sC:e.propsCache,i=s.get(n);if(i)return i;const r=n.props,o={},l=[];let u=!1;if(!Le(n)){const f=g=>{u=!0;const[v,b]=_E(g,e,!0);hn(o,v),b&&l.push(...b)};!t&&e.mixins.length&&e.mixins.forEach(f),n.extends&&f(n.extends),n.mixins&&n.mixins.forEach(f)}if(!r&&!u)return _t(n)&&s.set(n,Bo),Bo;if(Se(r))for(let f=0;f<r.length;f++){const g=es(r[f]);Og(g)&&(o[g]=dt)}else if(r)for(const f in r){const g=es(f);if(Og(g)){const v=r[f],b=o[g]=Se(v)||Le(v)?{type:v}:hn({},v),k=b.type;let L=!1,$=!0;if(Se(k))for(let U=0;U<k.length;++U){const F=k[U],K=Le(F)&&F.name;if(K==="Boolean"){L=!0;break}else K==="String"&&($=!1)}else L=Le(k)&&k.name==="Boolean";b[0]=L,b[1]=$,(L||it(b,"default"))&&l.push(g)}}const h=[o,l];return _t(n)&&s.set(n,h),h}function Og(n){return n[0]!=="$"&&!gl(n)}const vE=n=>n[0]==="_"||n==="$stable",dp=n=>Se(n)?n.map(Ps):[Ps(n)],iC=(n,e,t)=>{if(e._n)return e;const s=cs((...i)=>dp(e(...i)),t);return s._c=!1,s},yE=(n,e,t)=>{const s=n._ctx;for(const i in n){if(vE(i))continue;const r=n[i];if(Le(r))e[i]=iC(i,r,s);else if(r!=null){const o=dp(r);e[i]=()=>o}}},EE=(n,e)=>{const t=dp(e);n.slots.default=()=>t},bE=(n,e,t)=>{for(const s in e)(t||s!=="_")&&(n[s]=e[s])},rC=(n,e,t)=>{const s=n.slots=pE();if(n.vnode.shapeFlag&32){const i=e._;i?(bE(s,e,t),t&&ky(s,"_",i,!0)):yE(e,s)}else e&&EE(n,e)},oC=(n,e,t)=>{const{vnode:s,slots:i}=n;let r=!0,o=dt;if(s.shapeFlag&32){const l=e._;l?t&&l===1?r=!1:bE(i,e,t):(r=!e.$stable,yE(e,i)),o=e}else e&&(EE(n,e),o={default:1});if(r)for(const l in i)!vE(l)&&o[l]==null&&delete i[l]},xn=EC;function aC(n){return lC(n)}function lC(n,e){const t=ph();t.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:l,createComment:u,setText:h,setElementText:f,parentNode:g,nextSibling:v,setScopeId:b=Os,insertStaticContent:k}=n,L=(w,C,x,z=null,G=null,Q=null,ae=void 0,se=null,ne=!!C.dynamicChildren)=>{if(w===C)return;w&&!ol(w,C)&&(z=W(w),Je(w,G,Q,!0),w=null),C.patchFlag===-2&&(ne=!1,C.dynamicChildren=null);const{type:ee,ref:Ee,shapeFlag:le}=C;switch(ee){case Th:$(w,C,x,z);break;case Vl:U(w,C,x,z);break;case hu:w==null&&F(C,x,z,ae);break;case kt:D(w,C,x,z,G,Q,ae,se,ne);break;default:le&1?ce(w,C,x,z,G,Q,ae,se,ne):le&6?I(w,C,x,z,G,Q,ae,se,ne):(le&64||le&128)&&ee.process(w,C,x,z,G,Q,ae,se,ne,fe)}Ee!=null&&G&&Nu(Ee,w&&w.ref,Q,C||w,!C)},$=(w,C,x,z)=>{if(w==null)s(C.el=l(C.children),x,z);else{const G=C.el=w.el;C.children!==w.children&&h(G,C.children)}},U=(w,C,x,z)=>{w==null?s(C.el=u(C.children||""),x,z):C.el=w.el},F=(w,C,x,z)=>{[w.el,w.anchor]=k(w.children,C,x,z,w.el,w.anchor)},K=({el:w,anchor:C},x,z)=>{let G;for(;w&&w!==C;)G=v(w),s(w,x,z),w=G;s(C,x,z)},H=({el:w,anchor:C})=>{let x;for(;w&&w!==C;)x=v(w),i(w),w=x;i(C)},ce=(w,C,x,z,G,Q,ae,se,ne)=>{C.type==="svg"?ae="svg":C.type==="math"&&(ae="mathml"),w==null?he(C,x,z,G,Q,ae,se,ne):A(w,C,G,Q,ae,se,ne)},he=(w,C,x,z,G,Q,ae,se)=>{let ne,ee;const{props:Ee,shapeFlag:le,transition:me,dirs:ve}=w;if(ne=w.el=o(w.type,Q,Ee&&Ee.is,Ee),le&8?f(ne,w.children):le&16&&T(w.children,ne,null,z,G,Cd(w,Q),ae,se),ve&&xr(w,null,z,"created"),S(ne,w,w.scopeId,ae,z),Ee){for(const Re in Ee)Re!=="value"&&!gl(Re)&&r(ne,Re,null,Ee[Re],Q,z);"value"in Ee&&r(ne,"value",null,Ee.value,Q),(ee=Ee.onVnodeBeforeMount)&&Is(ee,z,w)}ve&&xr(w,null,z,"beforeMount");const ye=cC(G,me);ye&&me.beforeEnter(ne),s(ne,C,x),((ee=Ee&&Ee.onVnodeMounted)||ye||ve)&&xn(()=>{ee&&Is(ee,z,w),ye&&me.enter(ne),ve&&xr(w,null,z,"mounted")},G)},S=(w,C,x,z,G)=>{if(x&&b(w,x),z)for(let Q=0;Q<z.length;Q++)b(w,z[Q]);if(G){let Q=G.subTree;if(C===Q||SE(Q.type)&&(Q.ssContent===C||Q.ssFallback===C)){const ae=G.vnode;S(w,ae,ae.scopeId,ae.slotScopeIds,G.parent)}}},T=(w,C,x,z,G,Q,ae,se,ne=0)=>{for(let ee=ne;ee<w.length;ee++){const Ee=w[ee]=se?Fi(w[ee]):Ps(w[ee]);L(null,Ee,C,x,z,G,Q,ae,se)}},A=(w,C,x,z,G,Q,ae)=>{const se=C.el=w.el;let{patchFlag:ne,dynamicChildren:ee,dirs:Ee}=C;ne|=w.patchFlag&16;const le=w.props||dt,me=C.props||dt;let ve;if(x&&Lr(x,!1),(ve=me.onVnodeBeforeUpdate)&&Is(ve,x,C,w),Ee&&xr(C,w,x,"beforeUpdate"),x&&Lr(x,!0),(le.innerHTML&&me.innerHTML==null||le.textContent&&me.textContent==null)&&f(se,""),ee?R(w.dynamicChildren,ee,se,x,z,Cd(C,G),Q):ae||xe(w,C,se,null,x,z,Cd(C,G),Q,!1),ne>0){if(ne&16)P(se,le,me,x,G);else if(ne&2&&le.class!==me.class&&r(se,"class",null,me.class,G),ne&4&&r(se,"style",le.style,me.style,G),ne&8){const ye=C.dynamicProps;for(let Re=0;Re<ye.length;Re++){const $e=ye[Re],Ct=le[$e],Tt=me[$e];(Tt!==Ct||$e==="value")&&r(se,$e,Ct,Tt,G,x)}}ne&1&&w.children!==C.children&&f(se,C.children)}else!ae&&ee==null&&P(se,le,me,x,G);((ve=me.onVnodeUpdated)||Ee)&&xn(()=>{ve&&Is(ve,x,C,w),Ee&&xr(C,w,x,"updated")},z)},R=(w,C,x,z,G,Q,ae)=>{for(let se=0;se<C.length;se++){const ne=w[se],ee=C[se],Ee=ne.el&&(ne.type===kt||!ol(ne,ee)||ne.shapeFlag&70)?g(ne.el):x;L(ne,ee,Ee,null,z,G,Q,ae,!0)}},P=(w,C,x,z,G)=>{if(C!==x){if(C!==dt)for(const Q in C)!gl(Q)&&!(Q in x)&&r(w,Q,C[Q],null,G,z);for(const Q in x){if(gl(Q))continue;const ae=x[Q],se=C[Q];ae!==se&&Q!=="value"&&r(w,Q,se,ae,G,z)}"value"in x&&r(w,"value",C.value,x.value,G)}},D=(w,C,x,z,G,Q,ae,se,ne)=>{const ee=C.el=w?w.el:l(""),Ee=C.anchor=w?w.anchor:l("");let{patchFlag:le,dynamicChildren:me,slotScopeIds:ve}=C;ve&&(se=se?se.concat(ve):ve),w==null?(s(ee,x,z),s(Ee,x,z),T(C.children||[],x,Ee,G,Q,ae,se,ne)):le>0&&le&64&&me&&w.dynamicChildren?(R(w.dynamicChildren,me,x,G,Q,ae,se),(C.key!=null||G&&C===G.subTree)&&TE(w,C,!0)):xe(w,C,x,Ee,G,Q,ae,se,ne)},I=(w,C,x,z,G,Q,ae,se,ne)=>{C.slotScopeIds=se,w==null?C.shapeFlag&512?G.ctx.activate(C,x,z,ae,ne):ft(C,x,z,G,Q,ae,ne):wt(w,C,ne)},ft=(w,C,x,z,G,Q,ae)=>{const se=w.component=PC(w,z,G);if(lE(w)&&(se.ctx.renderer=fe),OC(se,!1,ae),se.asyncDep){if(G&&G.registerDep(se,Be,ae),!w.el){const ne=se.subTree=He(Vl);U(null,ne,C,x)}}else Be(se,w,C,x,G,Q,ae)},wt=(w,C,x)=>{const z=C.component=w.component;if(vC(w,C,x))if(z.asyncDep&&!z.asyncResolved){we(z,C,x);return}else z.next=C,z.update();else C.el=w.el,z.vnode=C},Be=(w,C,x,z,G,Q,ae)=>{const se=()=>{if(w.isMounted){let{next:le,bu:me,u:ve,parent:ye,vnode:Re}=w;{const Pt=wE(w);if(Pt){le&&(le.el=Re.el,we(w,le,ae)),Pt.asyncDep.then(()=>{w.isUnmounted||se()});return}}let $e=le,Ct;Lr(w,!1),le?(le.el=Re.el,we(w,le,ae)):le=Re,me&&lu(me),(Ct=le.props&&le.props.onVnodeBeforeUpdate)&&Is(Ct,ye,le,Re),Lr(w,!0);const Tt=Ng(w),$t=w.subTree;w.subTree=Tt,L($t,Tt,g($t.el),W($t),w,G,Q),le.el=Tt.el,$e===null&&yC(w,Tt.el),ve&&xn(ve,G),(Ct=le.props&&le.props.onVnodeUpdated)&&xn(()=>Is(Ct,ye,le,Re),G)}else{let le;const{el:me,props:ve}=C,{bm:ye,m:Re,parent:$e,root:Ct,type:Tt}=w,$t=yl(C);Lr(w,!1),ye&&lu(ye),!$t&&(le=ve&&ve.onVnodeBeforeMount)&&Is(le,$e,C),Lr(w,!0);{Ct.ce&&Ct.ce._injectChildStyle(Tt);const Pt=w.subTree=Ng(w);L(null,Pt,x,z,w,G,Q),C.el=Pt.el}if(Re&&xn(Re,G),!$t&&(le=ve&&ve.onVnodeMounted)){const Pt=C;xn(()=>Is(le,$e,Pt),G)}(C.shapeFlag&256||$e&&yl($e.vnode)&&$e.vnode.shapeFlag&256)&&w.a&&xn(w.a,G),w.isMounted=!0,C=x=z=null}};w.scope.on();const ne=w.effect=new My(se);w.scope.off();const ee=w.update=ne.run.bind(ne),Ee=w.job=ne.runIfDirty.bind(ne);Ee.i=w,Ee.id=w.uid,ne.scheduler=()=>cp(Ee),Lr(w,!0),ee()},we=(w,C,x)=>{C.component=w;const z=w.vnode.props;w.vnode=C,w.next=null,nC(w,C.props,z,x),oC(w,C.children,x),cr(),Ag(w),ur()},xe=(w,C,x,z,G,Q,ae,se,ne=!1)=>{const ee=w&&w.children,Ee=w?w.shapeFlag:0,le=C.children,{patchFlag:me,shapeFlag:ve}=C;if(me>0){if(me&128){Y(ee,le,x,z,G,Q,ae,se,ne);return}else if(me&256){bt(ee,le,x,z,G,Q,ae,se,ne);return}}ve&8?(Ee&16&&et(ee,G,Q),le!==ee&&f(x,le)):Ee&16?ve&16?Y(ee,le,x,z,G,Q,ae,se,ne):et(ee,G,Q,!0):(Ee&8&&f(x,""),ve&16&&T(le,x,z,G,Q,ae,se,ne))},bt=(w,C,x,z,G,Q,ae,se,ne)=>{w=w||Bo,C=C||Bo;const ee=w.length,Ee=C.length,le=Math.min(ee,Ee);let me;for(me=0;me<le;me++){const ve=C[me]=ne?Fi(C[me]):Ps(C[me]);L(w[me],ve,x,null,G,Q,ae,se,ne)}ee>Ee?et(w,G,Q,!0,!1,le):T(C,x,z,G,Q,ae,se,ne,le)},Y=(w,C,x,z,G,Q,ae,se,ne)=>{let ee=0;const Ee=C.length;let le=w.length-1,me=Ee-1;for(;ee<=le&&ee<=me;){const ve=w[ee],ye=C[ee]=ne?Fi(C[ee]):Ps(C[ee]);if(ol(ve,ye))L(ve,ye,x,null,G,Q,ae,se,ne);else break;ee++}for(;ee<=le&&ee<=me;){const ve=w[le],ye=C[me]=ne?Fi(C[me]):Ps(C[me]);if(ol(ve,ye))L(ve,ye,x,null,G,Q,ae,se,ne);else break;le--,me--}if(ee>le){if(ee<=me){const ve=me+1,ye=ve<Ee?C[ve].el:z;for(;ee<=me;)L(null,C[ee]=ne?Fi(C[ee]):Ps(C[ee]),x,ye,G,Q,ae,se,ne),ee++}}else if(ee>me)for(;ee<=le;)Je(w[ee],G,Q,!0),ee++;else{const ve=ee,ye=ee,Re=new Map;for(ee=ye;ee<=me;ee++){const Ft=C[ee]=ne?Fi(C[ee]):Ps(C[ee]);Ft.key!=null&&Re.set(Ft.key,ee)}let $e,Ct=0;const Tt=me-ye+1;let $t=!1,Pt=0;const _s=new Array(Tt);for(ee=0;ee<Tt;ee++)_s[ee]=0;for(ee=ve;ee<=le;ee++){const Ft=w[ee];if(Ct>=Tt){Je(Ft,G,Q,!0);continue}let In;if(Ft.key!=null)In=Re.get(Ft.key);else for($e=ye;$e<=me;$e++)if(_s[$e-ye]===0&&ol(Ft,C[$e])){In=$e;break}In===void 0?Je(Ft,G,Q,!0):(_s[In-ye]=ee+1,In>=Pt?Pt=In:$t=!0,L(Ft,C[In],x,null,G,Q,ae,se,ne),Ct++)}const Bs=$t?uC(_s):Bo;for($e=Bs.length-1,ee=Tt-1;ee>=0;ee--){const Ft=ye+ee,In=C[Ft],lo=Ft+1<Ee?C[Ft+1].el:z;_s[ee]===0?L(null,In,x,lo,G,Q,ae,se,ne):$t&&($e<0||ee!==Bs[$e]?xt(In,x,lo,2):$e--)}}},xt=(w,C,x,z,G=null)=>{const{el:Q,type:ae,transition:se,children:ne,shapeFlag:ee}=w;if(ee&6){xt(w.component.subTree,C,x,z);return}if(ee&128){w.suspense.move(C,x,z);return}if(ee&64){ae.move(w,C,x,fe);return}if(ae===kt){s(Q,C,x);for(let le=0;le<ne.length;le++)xt(ne[le],C,x,z);s(w.anchor,C,x);return}if(ae===hu){K(w,C,x);return}if(z!==2&&ee&1&&se)if(z===0)se.beforeEnter(Q),s(Q,C,x),xn(()=>se.enter(Q),G);else{const{leave:le,delayLeave:me,afterLeave:ve}=se,ye=()=>s(Q,C,x),Re=()=>{le(Q,()=>{ye(),ve&&ve()})};me?me(Q,ye,Re):Re()}else s(Q,C,x)},Je=(w,C,x,z=!1,G=!1)=>{const{type:Q,props:ae,ref:se,children:ne,dynamicChildren:ee,shapeFlag:Ee,patchFlag:le,dirs:me,cacheIndex:ve}=w;if(le===-2&&(G=!1),se!=null&&Nu(se,null,x,w,!0),ve!=null&&(C.renderCache[ve]=void 0),Ee&256){C.ctx.deactivate(w);return}const ye=Ee&1&&me,Re=!yl(w);let $e;if(Re&&($e=ae&&ae.onVnodeBeforeUnmount)&&Is($e,C,w),Ee&6)yt(w.component,x,z);else{if(Ee&128){w.suspense.unmount(x,z);return}ye&&xr(w,null,C,"beforeUnmount"),Ee&64?w.type.remove(w,C,x,fe,z):ee&&!ee.hasOnce&&(Q!==kt||le>0&&le&64)?et(ee,C,x,!1,!0):(Q===kt&&le&384||!G&&Ee&16)&&et(ne,C,x),z&&Ze(w)}(Re&&($e=ae&&ae.onVnodeUnmounted)||ye)&&xn(()=>{$e&&Is($e,C,w),ye&&xr(w,null,C,"unmounted")},x)},Ze=w=>{const{type:C,el:x,anchor:z,transition:G}=w;if(C===kt){vt(x,z);return}if(C===hu){H(w);return}const Q=()=>{i(x),G&&!G.persisted&&G.afterLeave&&G.afterLeave()};if(w.shapeFlag&1&&G&&!G.persisted){const{leave:ae,delayLeave:se}=G,ne=()=>ae(x,Q);se?se(w.el,Q,ne):ne()}else Q()},vt=(w,C)=>{let x;for(;w!==C;)x=v(w),i(w),w=x;i(C)},yt=(w,C,x)=>{const{bum:z,scope:G,job:Q,subTree:ae,um:se,m:ne,a:ee}=w;Dg(ne),Dg(ee),z&&lu(z),G.stop(),Q&&(Q.flags|=8,Je(ae,w,C,x)),se&&xn(se,C),xn(()=>{w.isUnmounted=!0},C),C&&C.pendingBranch&&!C.isUnmounted&&w.asyncDep&&!w.asyncResolved&&w.suspenseId===C.pendingId&&(C.deps--,C.deps===0&&C.resolve())},et=(w,C,x,z=!1,G=!1,Q=0)=>{for(let ae=Q;ae<w.length;ae++)Je(w[ae],C,x,z,G)},W=w=>{if(w.shapeFlag&6)return W(w.component.subTree);if(w.shapeFlag&128)return w.suspense.next();const C=v(w.anchor||w.el),x=C&&C[D0];return x?v(x):C};let q=!1;const ie=(w,C,x)=>{w==null?C._vnode&&Je(C._vnode,null,null,!0):L(C._vnode||null,w,C,null,null,null,x),C._vnode=w,q||(q=!0,Ag(),sE(),q=!1)},fe={p:L,um:Je,m:xt,r:Ze,mt:ft,mc:T,pc:xe,pbc:R,n:W,o:n};return{render:ie,hydrate:void 0,createApp:eC(ie)}}function Cd({type:n,props:e},t){return t==="svg"&&n==="foreignObject"||t==="mathml"&&n==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function Lr({effect:n,job:e},t){t?(n.flags|=32,e.flags|=4):(n.flags&=-33,e.flags&=-5)}function cC(n,e){return(!n||n&&!n.pendingBranch)&&e&&!e.persisted}function TE(n,e,t=!1){const s=n.children,i=e.children;if(Se(s)&&Se(i))for(let r=0;r<s.length;r++){const o=s[r];let l=i[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[r]=Fi(i[r]),l.el=o.el),!t&&l.patchFlag!==-2&&TE(o,l)),l.type===Th&&(l.el=o.el)}}function uC(n){const e=n.slice(),t=[0];let s,i,r,o,l;const u=n.length;for(s=0;s<u;s++){const h=n[s];if(h!==0){if(i=t[t.length-1],n[i]<h){e[s]=i,t.push(s);continue}for(r=0,o=t.length-1;r<o;)l=r+o>>1,n[t[l]]<h?r=l+1:o=l;h<n[t[r]]&&(r>0&&(e[s]=t[r-1]),t[r]=s)}}for(r=t.length,o=t[r-1];r-- >0;)t[r]=o,o=e[o];return t}function wE(n){const e=n.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:wE(e)}function Dg(n){if(n)for(let e=0;e<n.length;e++)n[e].flags|=8}const hC=Symbol.for("v-scx"),dC=()=>Ds(hC);function uu(n,e,t){return AE(n,e,t)}function AE(n,e,t=dt){const{immediate:s,deep:i,flush:r,once:o}=t,l=hn({},t),u=e&&s||!e&&r!=="post";let h;if($l){if(r==="sync"){const b=dC();h=b.__watcherHandles||(b.__watcherHandles=[])}else if(!u){const b=()=>{};return b.stop=Os,b.resume=Os,b.pause=Os,b}}const f=cn;l.call=(b,k,L)=>$s(b,f,k,L);let g=!1;r==="post"?l.scheduler=b=>{xn(b,f&&f.suspense)}:r!=="sync"&&(g=!0,l.scheduler=(b,k)=>{k?b():cp(b)}),l.augmentJob=b=>{e&&(b.flags|=4),g&&(b.flags|=2,f&&(b.id=f.uid,b.i=f))};const v=S0(n,e,l);return $l&&(h?h.push(v):u&&v()),v}function fC(n,e,t){const s=this.proxy,i=Mt(n)?n.includes(".")?IE(s,n):()=>s[n]:n.bind(s,s);let r;Le(e)?r=e:(r=e.handler,t=e);const o=ec(this),l=AE(i,r.bind(s),t);return o(),l}function IE(n,e){const t=e.split(".");return()=>{let s=n;for(let i=0;i<t.length&&s;i++)s=s[t[i]];return s}}const pC=(n,e)=>e==="modelValue"||e==="model-value"?n.modelModifiers:n[`${e}Modifiers`]||n[`${es(e)}Modifiers`]||n[`${to(e)}Modifiers`];function mC(n,e,...t){if(n.isUnmounted)return;const s=n.vnode.props||dt;let i=t;const r=e.startsWith("update:"),o=r&&pC(s,e.slice(7));o&&(o.trim&&(i=t.map(f=>Mt(f)?f.trim():f)),o.number&&(i=t.map(Ru)));let l,u=s[l=Ed(e)]||s[l=Ed(es(e))];!u&&r&&(u=s[l=Ed(to(e))]),u&&$s(u,n,6,i);const h=s[l+"Once"];if(h){if(!n.emitted)n.emitted={};else if(n.emitted[l])return;n.emitted[l]=!0,$s(h,n,6,i)}}function CE(n,e,t=!1){const s=e.emitsCache,i=s.get(n);if(i!==void 0)return i;const r=n.emits;let o={},l=!1;if(!Le(n)){const u=h=>{const f=CE(h,e,!0);f&&(l=!0,hn(o,f))};!t&&e.mixins.length&&e.mixins.forEach(u),n.extends&&u(n.extends),n.mixins&&n.mixins.forEach(u)}return!r&&!l?(_t(n)&&s.set(n,null),null):(Se(r)?r.forEach(u=>o[u]=null):hn(o,r),_t(n)&&s.set(n,o),o)}function bh(n,e){return!n||!uh(e)?!1:(e=e.slice(2).replace(/Once$/,""),it(n,e[0].toLowerCase()+e.slice(1))||it(n,to(e))||it(n,e))}function Ng(n){const{type:e,vnode:t,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:l,emit:u,render:h,renderCache:f,props:g,data:v,setupState:b,ctx:k,inheritAttrs:L}=n,$=Du(n);let U,F;try{if(t.shapeFlag&4){const H=i||s,ce=H;U=Ps(h.call(ce,H,f,g,b,v,k)),F=l}else{const H=e;U=Ps(H.length>1?H(g,{attrs:l,slots:o,emit:u}):H(g,null)),F=e.props?l:gC(l)}}catch(H){bl.length=0,vh(H,n,1),U=He(Vl)}let K=U;if(F&&L!==!1){const H=Object.keys(F),{shapeFlag:ce}=K;H.length&&ce&7&&(r&&H.some(Jf)&&(F=_C(F,r)),K=ea(K,F,!1,!0))}return t.dirs&&(K=ea(K,null,!1,!0),K.dirs=K.dirs?K.dirs.concat(t.dirs):t.dirs),t.transition&&up(K,t.transition),U=K,Du($),U}const gC=n=>{let e;for(const t in n)(t==="class"||t==="style"||uh(t))&&((e||(e={}))[t]=n[t]);return e},_C=(n,e)=>{const t={};for(const s in n)(!Jf(s)||!(s.slice(9)in e))&&(t[s]=n[s]);return t};function vC(n,e,t){const{props:s,children:i,component:r}=n,{props:o,children:l,patchFlag:u}=e,h=r.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&u>=0){if(u&1024)return!0;if(u&16)return s?kg(s,o,h):!!o;if(u&8){const f=e.dynamicProps;for(let g=0;g<f.length;g++){const v=f[g];if(o[v]!==s[v]&&!bh(h,v))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:s===o?!1:s?o?kg(s,o,h):!0:!!o;return!1}function kg(n,e,t){const s=Object.keys(e);if(s.length!==Object.keys(n).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==n[r]&&!bh(t,r))return!0}return!1}function yC({vnode:n,parent:e},t){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===n&&(s.el=n.el),s===n)(n=e.vnode).el=t,e=e.parent;else break}}const SE=n=>n.__isSuspense;function EC(n,e){e&&e.pendingBranch?Se(n)?e.effects.push(...n):e.effects.push(n):O0(n)}const kt=Symbol.for("v-fgt"),Th=Symbol.for("v-txt"),Vl=Symbol.for("v-cmt"),hu=Symbol.for("v-stc"),bl=[];let $n=null;function Ye(n=!1){bl.push($n=n?null:[])}function bC(){bl.pop(),$n=bl[bl.length-1]||null}let Ml=1;function xg(n,e=!1){Ml+=n,n<0&&$n&&e&&($n.hasOnce=!0)}function TC(n){return n.dynamicChildren=Ml>0?$n||Bo:null,bC(),Ml>0&&$n&&$n.push(n),n}function Qe(n,e,t,s,i,r){return TC(M(n,e,t,s,i,r,!0))}function xu(n){return n?n.__v_isVNode===!0:!1}function ol(n,e){return n.type===e.type&&n.key===e.key}const RE=({key:n})=>n??null,du=({ref:n,ref_key:e,ref_for:t})=>(typeof n=="number"&&(n=""+n),n!=null?Mt(n)||un(n)||Le(n)?{i:Mn,r:n,k:e,f:!!t}:n:null);function M(n,e=null,t=null,s=0,i=null,r=n===kt?0:1,o=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&RE(e),ref:e&&du(e),scopeId:rE,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Mn};return l?(fp(u,t),r&128&&n.normalize(u)):t&&(u.shapeFlag|=Mt(t)?8:16),Ml>0&&!o&&$n&&(u.patchFlag>0||r&6)&&u.patchFlag!==32&&$n.push(u),u}const He=wC;function wC(n,e=null,t=null,s=0,i=null,r=!1){if((!n||n===W0)&&(n=Vl),xu(n)){const l=ea(n,e,!0);return t&&fp(l,t),Ml>0&&!r&&$n&&(l.shapeFlag&6?$n[$n.indexOf(n)]=l:$n.push(l)),l.patchFlag=-2,l}if(LC(n)&&(n=n.__vccOpts),e){e=AC(e);let{class:l,style:u}=e;l&&!Mt(l)&&(e.class=qo(l)),_t(u)&&(ap(u)&&!Se(u)&&(u=hn({},u)),e.style=Nl(u))}const o=Mt(n)?1:SE(n)?128:N0(n)?64:_t(n)?4:Le(n)?2:0;return M(n,e,t,s,i,o,r,!0)}function AC(n){return n?ap(n)||mE(n)?hn({},n):n:null}function ea(n,e,t=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:l,transition:u}=n,h=e?CC(i||{},e):i,f={__v_isVNode:!0,__v_skip:!0,type:n.type,props:h,key:h&&RE(h),ref:e&&e.ref?t&&r?Se(r)?r.concat(du(e)):[r,du(e)]:du(e):r,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:l,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==kt?o===-1?16:o|16:o,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:u,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&ea(n.ssContent),ssFallback:n.ssFallback&&ea(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return u&&s&&up(f,u.clone(f)),f}function Go(n=" ",e=0){return He(Th,null,n,e)}function IC(n,e){const t=He(hu,null,n);return t.staticCount=e,t}function Ps(n){return n==null||typeof n=="boolean"?He(Vl):Se(n)?He(kt,null,n.slice()):xu(n)?Fi(n):He(Th,null,String(n))}function Fi(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:ea(n)}function fp(n,e){let t=0;const{shapeFlag:s}=n;if(e==null)e=null;else if(Se(e))t=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),fp(n,i()),i._c&&(i._d=!0));return}else{t=32;const i=e._;!i&&!mE(e)?e._ctx=Mn:i===3&&Mn&&(Mn.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else Le(e)?(e={default:e,_ctx:Mn},t=32):(e=String(e),s&64?(t=16,e=[Go(e)]):t=8);n.children=e,n.shapeFlag|=t}function CC(...n){const e={};for(let t=0;t<n.length;t++){const s=n[t];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=qo([e.class,s.class]));else if(i==="style")e.style=Nl([e.style,s.style]);else if(uh(i)){const r=e[i],o=s[i];o&&r!==o&&!(Se(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function Is(n,e,t,s=null){$s(n,e,7,[t,s])}const SC=dE();let RC=0;function PC(n,e,t){const s=n.type,i=(e?e.appContext:n.appContext)||SC,r={uid:RC++,vnode:n,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new e0(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:_E(s,i),emitsOptions:CE(s,i),emit:null,emitted:null,propsDefaults:dt,inheritAttrs:s.inheritAttrs,ctx:dt,data:dt,props:dt,attrs:dt,slots:dt,refs:dt,setupState:dt,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=mC.bind(null,r),n.ce&&n.ce(r),r}let cn=null,Lu,pf;{const n=ph(),e=(t,s)=>{let i;return(i=n[t])||(i=n[t]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};Lu=e("__VUE_INSTANCE_SETTERS__",t=>cn=t),pf=e("__VUE_SSR_SETTERS__",t=>$l=t)}const ec=n=>{const e=cn;return Lu(n),n.scope.on(),()=>{n.scope.off(),Lu(e)}},Lg=()=>{cn&&cn.scope.off(),Lu(null)};function PE(n){return n.vnode.shapeFlag&4}let $l=!1;function OC(n,e=!1,t=!1){e&&pf(e);const{props:s,children:i}=n.vnode,r=PE(n);tC(n,s,r,e),rC(n,i,t);const o=r?DC(n,e):void 0;return e&&pf(!1),o}function DC(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,K0);const{setup:s}=t;if(s){cr();const i=n.setupContext=s.length>1?kC(n):null,r=ec(n),o=Zl(s,n,0,[n.props,i]),l=Oy(o);if(ur(),r(),(l||n.sp)&&!yl(n)&&aE(n),l){if(o.then(Lg,Lg),e)return o.then(u=>{Vg(n,u)}).catch(u=>{vh(u,n,0)});n.asyncDep=o}else Vg(n,o)}else OE(n)}function Vg(n,e,t){Le(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:_t(e)&&(n.setupState=eE(e)),OE(n)}function OE(n,e,t){const s=n.type;n.render||(n.render=s.render||Os);{const i=ec(n);cr();try{G0(n)}finally{ur(),i()}}}const NC={get(n,e){return on(n,"get",""),n[e]}};function kC(n){const e=t=>{n.exposed=t||{}};return{attrs:new Proxy(n.attrs,NC),slots:n.slots,emit:n.emit,expose:e}}function wh(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(eE(E0(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in El)return El[t](n)},has(e,t){return t in e||t in El}})):n.proxy}function xC(n,e=!0){return Le(n)?n.displayName||n.name:n.name||e&&n.__name}function LC(n){return Le(n)&&"__vccOpts"in n}const Tn=(n,e)=>I0(n,e,$l);function DE(n,e,t){const s=arguments.length;return s===2?_t(e)&&!Se(e)?xu(e)?He(n,null,[e]):He(n,e):He(n,null,e):(s>3?t=Array.prototype.slice.call(arguments,2):s===3&&xu(t)&&(t=[t]),He(n,e,t))}const VC="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let mf;const Mg=typeof window<"u"&&window.trustedTypes;if(Mg)try{mf=Mg.createPolicy("vue",{createHTML:n=>n})}catch{}const NE=mf?n=>mf.createHTML(n):n=>n,MC="http://www.w3.org/2000/svg",$C="http://www.w3.org/1998/Math/MathML",ei=typeof document<"u"?document:null,$g=ei&&ei.createElement("template"),FC={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,s)=>{const i=e==="svg"?ei.createElementNS(MC,n):e==="mathml"?ei.createElementNS($C,n):t?ei.createElement(n,{is:t}):ei.createElement(n);return n==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:n=>ei.createTextNode(n),createComment:n=>ei.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>ei.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,t,s,i,r){const o=t?t.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),t),!(i===r||!(i=i.nextSibling)););else{$g.innerHTML=NE(s==="svg"?`<svg>${n}</svg>`:s==="mathml"?`<math>${n}</math>`:n);const l=$g.content;if(s==="svg"||s==="mathml"){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}e.insertBefore(l,t)}return[o?o.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},UC=Symbol("_vtc");function jC(n,e,t){const s=n[UC];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}const Fg=Symbol("_vod"),BC=Symbol("_vsh"),HC=Symbol(""),qC=/(^|;)\s*display\s*:/;function WC(n,e,t){const s=n.style,i=Mt(t);let r=!1;if(t&&!i){if(e)if(Mt(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();t[l]==null&&fu(s,l,"")}else for(const o in e)t[o]==null&&fu(s,o,"");for(const o in t)o==="display"&&(r=!0),fu(s,o,t[o])}else if(i){if(e!==t){const o=s[HC];o&&(t+=";"+o),s.cssText=t,r=qC.test(t)}}else e&&n.removeAttribute("style");Fg in n&&(n[Fg]=r?s.display:"",n[BC]&&(s.display="none"))}const Ug=/\s*!important$/;function fu(n,e,t){if(Se(t))t.forEach(s=>fu(n,e,s));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const s=zC(n,e);Ug.test(t)?n.setProperty(to(s),t.replace(Ug,""),"important"):n[s]=t}}const jg=["Webkit","Moz","ms"],Sd={};function zC(n,e){const t=Sd[e];if(t)return t;let s=es(e);if(s!=="filter"&&s in n)return Sd[e]=s;s=fh(s);for(let i=0;i<jg.length;i++){const r=jg[i]+s;if(r in n)return Sd[e]=r}return e}const Bg="http://www.w3.org/1999/xlink";function Hg(n,e,t,s,i,r=XI(e)){s&&e.startsWith("xlink:")?t==null?n.removeAttributeNS(Bg,e.slice(6,e.length)):n.setAttributeNS(Bg,e,t):t==null||r&&!xy(t)?n.removeAttribute(e):n.setAttribute(e,r?"":Ms(t)?String(t):t)}function qg(n,e,t,s,i){if(e==="innerHTML"||e==="textContent"){t!=null&&(n[e]=e==="innerHTML"?NE(t):t);return}const r=n.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?n.getAttribute("value")||"":n.value,u=t==null?n.type==="checkbox"?"on":"":String(t);(l!==u||!("_value"in n))&&(n.value=u),t==null&&n.removeAttribute(e),n._value=t;return}let o=!1;if(t===""||t==null){const l=typeof n[e];l==="boolean"?t=xy(t):t==null&&l==="string"?(t="",o=!0):l==="number"&&(t=0,o=!0)}try{n[e]=t}catch{}o&&n.removeAttribute(i||e)}function $r(n,e,t,s){n.addEventListener(e,t,s)}function KC(n,e,t,s){n.removeEventListener(e,t,s)}const Wg=Symbol("_vei");function GC(n,e,t,s,i=null){const r=n[Wg]||(n[Wg]={}),o=r[e];if(s&&o)o.value=s;else{const[l,u]=YC(e);if(s){const h=r[e]=JC(s,i);$r(n,l,h,u)}else o&&(KC(n,l,o,u),r[e]=void 0)}}const zg=/(?:Once|Passive|Capture)$/;function YC(n){let e;if(zg.test(n)){e={};let s;for(;s=n.match(zg);)n=n.slice(0,n.length-s[0].length),e[s[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):to(n.slice(2)),e]}let Rd=0;const QC=Promise.resolve(),XC=()=>Rd||(QC.then(()=>Rd=0),Rd=Date.now());function JC(n,e){const t=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=t.attached)return;$s(ZC(s,t.value),e,5,[s])};return t.value=n,t.attached=XC(),t}function ZC(n,e){if(Se(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const Kg=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,eS=(n,e,t,s,i,r)=>{const o=i==="svg";e==="class"?jC(n,s,o):e==="style"?WC(n,t,s):uh(e)?Jf(e)||GC(n,e,t,s,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):tS(n,e,s,o))?(qg(n,e,s),!n.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Hg(n,e,s,o,r,e!=="value")):n._isVueCE&&(/[A-Z]/.test(e)||!Mt(s))?qg(n,es(e),s,r,e):(e==="true-value"?n._trueValue=s:e==="false-value"&&(n._falseValue=s),Hg(n,e,s,o))};function tS(n,e,t,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in n&&Kg(e)&&Le(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=n.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Kg(e)&&Mt(t)?!1:e in n}const Vu=n=>{const e=n.props["onUpdate:modelValue"]||!1;return Se(e)?t=>lu(e,t):e};function nS(n){n.target.composing=!0}function Gg(n){const e=n.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Yo=Symbol("_assign"),Ui={created(n,{modifiers:{lazy:e,trim:t,number:s}},i){n[Yo]=Vu(i);const r=s||i.props&&i.props.type==="number";$r(n,e?"change":"input",o=>{if(o.target.composing)return;let l=n.value;t&&(l=l.trim()),r&&(l=Ru(l)),n[Yo](l)}),t&&$r(n,"change",()=>{n.value=n.value.trim()}),e||($r(n,"compositionstart",nS),$r(n,"compositionend",Gg),$r(n,"change",Gg))},mounted(n,{value:e}){n.value=e??""},beforeUpdate(n,{value:e,oldValue:t,modifiers:{lazy:s,trim:i,number:r}},o){if(n[Yo]=Vu(o),n.composing)return;const l=(r||n.type==="number")&&!/^0\d/.test(n.value)?Ru(n.value):n.value,u=e??"";l!==u&&(document.activeElement===n&&n.type!=="range"&&(s&&e===t||i&&n.value.trim()===u)||(n.value=u))}},Yg={deep:!0,created(n,{value:e,modifiers:{number:t}},s){const i=hh(e);$r(n,"change",()=>{const r=Array.prototype.filter.call(n.options,o=>o.selected).map(o=>t?Ru(Mu(o)):Mu(o));n[Yo](n.multiple?i?new Set(r):r:r[0]),n._assigning=!0,lp(()=>{n._assigning=!1})}),n[Yo]=Vu(s)},mounted(n,{value:e}){Qg(n,e)},beforeUpdate(n,e,t){n[Yo]=Vu(t)},updated(n,{value:e}){n._assigning||Qg(n,e)}};function Qg(n,e){const t=n.multiple,s=Se(e);if(!(t&&!s&&!hh(e))){for(let i=0,r=n.options.length;i<r;i++){const o=n.options[i],l=Mu(o);if(t)if(s){const u=typeof l;u==="string"||u==="number"?o.selected=e.some(h=>String(h)===String(l)):o.selected=ZI(e,l)>-1}else o.selected=e.has(l);else if(mh(Mu(o),e)){n.selectedIndex!==i&&(n.selectedIndex=i);return}}!t&&n.selectedIndex!==-1&&(n.selectedIndex=-1)}}function Mu(n){return"_value"in n?n._value:n.value}const sS=["ctrl","shift","alt","meta"],iS={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,e)=>sS.some(t=>n[`${t}Key`]&&!e.includes(t))},gf=(n,e)=>{const t=n._withMods||(n._withMods={}),s=e.join(".");return t[s]||(t[s]=(i,...r)=>{for(let o=0;o<e.length;o++){const l=iS[e[o]];if(l&&l(i,e))return}return n(i,...r)})},rS=hn({patchProp:eS},FC);let Xg;function oS(){return Xg||(Xg=aC(rS))}const aS=(...n)=>{const e=oS().createApp(...n),{mount:t}=e;return e.mount=s=>{const i=cS(s);if(!i)return;const r=e._component;!Le(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=t(i,!1,lS(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function lS(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function cS(n){return Mt(n)?document.querySelector(n):n}const uS={id:"app-wrapper"},hS={class:"container-fluid p-0 flex-fill"},dS={__name:"App",setup(n){return(e,t)=>{const s=Eh("router-view");return Ye(),Qe("div",uS,[M("main",hS,[He(s)])])}}};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const ko=typeof document<"u";function kE(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function fS(n){return n.__esModule||n[Symbol.toStringTag]==="Module"||n.default&&kE(n.default)}const nt=Object.assign;function Pd(n,e){const t={};for(const s in e){const i=e[s];t[s]=ps(i)?i.map(n):n(i)}return t}const Tl=()=>{},ps=Array.isArray,xE=/#/g,pS=/&/g,mS=/\//g,gS=/=/g,_S=/\?/g,LE=/\+/g,vS=/%5B/g,yS=/%5D/g,VE=/%5E/g,ES=/%60/g,ME=/%7B/g,bS=/%7C/g,$E=/%7D/g,TS=/%20/g;function pp(n){return encodeURI(""+n).replace(bS,"|").replace(vS,"[").replace(yS,"]")}function wS(n){return pp(n).replace(ME,"{").replace($E,"}").replace(VE,"^")}function _f(n){return pp(n).replace(LE,"%2B").replace(TS,"+").replace(xE,"%23").replace(pS,"%26").replace(ES,"`").replace(ME,"{").replace($E,"}").replace(VE,"^")}function AS(n){return _f(n).replace(gS,"%3D")}function IS(n){return pp(n).replace(xE,"%23").replace(_S,"%3F")}function CS(n){return n==null?"":IS(n).replace(mS,"%2F")}function Fl(n){try{return decodeURIComponent(""+n)}catch{}return""+n}const SS=/\/$/,RS=n=>n.replace(SS,"");function Od(n,e,t="/"){let s,i={},r="",o="";const l=e.indexOf("#");let u=e.indexOf("?");return l<u&&l>=0&&(u=-1),u>-1&&(s=e.slice(0,u),r=e.slice(u+1,l>-1?l:e.length),i=n(r)),l>-1&&(s=s||e.slice(0,l),o=e.slice(l,e.length)),s=NS(s??e,t),{fullPath:s+(r&&"?")+r+o,path:s,query:i,hash:Fl(o)}}function PS(n,e){const t=e.query?n(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function Jg(n,e){return!e||!n.toLowerCase().startsWith(e.toLowerCase())?n:n.slice(e.length)||"/"}function OS(n,e,t){const s=e.matched.length-1,i=t.matched.length-1;return s>-1&&s===i&&ta(e.matched[s],t.matched[i])&&FE(e.params,t.params)&&n(e.query)===n(t.query)&&e.hash===t.hash}function ta(n,e){return(n.aliasOf||n)===(e.aliasOf||e)}function FE(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(!DS(n[t],e[t]))return!1;return!0}function DS(n,e){return ps(n)?Zg(n,e):ps(e)?Zg(e,n):n===e}function Zg(n,e){return ps(e)?n.length===e.length&&n.every((t,s)=>t===e[s]):n.length===1&&n[0]===e}function NS(n,e){if(n.startsWith("/"))return n;if(!n)return e;const t=e.split("/"),s=n.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let r=t.length-1,o,l;for(o=0;o<s.length;o++)if(l=s[o],l!==".")if(l==="..")r>1&&r--;else break;return t.slice(0,r).join("/")+"/"+s.slice(o).join("/")}const Li={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Ul;(function(n){n.pop="pop",n.push="push"})(Ul||(Ul={}));var wl;(function(n){n.back="back",n.forward="forward",n.unknown=""})(wl||(wl={}));function kS(n){if(!n)if(ko){const e=document.querySelector("base");n=e&&e.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),RS(n)}const xS=/^[^#]+#/;function LS(n,e){return n.replace(xS,"#")+e}function VS(n,e){const t=document.documentElement.getBoundingClientRect(),s=n.getBoundingClientRect();return{behavior:e.behavior,left:s.left-t.left-(e.left||0),top:s.top-t.top-(e.top||0)}}const Ah=()=>({left:window.scrollX,top:window.scrollY});function MS(n){let e;if("el"in n){const t=n.el,s=typeof t=="string"&&t.startsWith("#"),i=typeof t=="string"?s?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!i)return;e=VS(i,n)}else e=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function e_(n,e){return(history.state?history.state.position-e:-1)+n}const vf=new Map;function $S(n,e){vf.set(n,e)}function FS(n){const e=vf.get(n);return vf.delete(n),e}let US=()=>location.protocol+"//"+location.host;function UE(n,e){const{pathname:t,search:s,hash:i}=e,r=n.indexOf("#");if(r>-1){let l=i.includes(n.slice(r))?n.slice(r).length:1,u=i.slice(l);return u[0]!=="/"&&(u="/"+u),Jg(u,"")}return Jg(t,n)+s+i}function jS(n,e,t,s){let i=[],r=[],o=null;const l=({state:v})=>{const b=UE(n,location),k=t.value,L=e.value;let $=0;if(v){if(t.value=b,e.value=v,o&&o===k){o=null;return}$=L?v.position-L.position:0}else s(b);i.forEach(U=>{U(t.value,k,{delta:$,type:Ul.pop,direction:$?$>0?wl.forward:wl.back:wl.unknown})})};function u(){o=t.value}function h(v){i.push(v);const b=()=>{const k=i.indexOf(v);k>-1&&i.splice(k,1)};return r.push(b),b}function f(){const{history:v}=window;v.state&&v.replaceState(nt({},v.state,{scroll:Ah()}),"")}function g(){for(const v of r)v();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",f,{passive:!0}),{pauseListeners:u,listen:h,destroy:g}}function t_(n,e,t,s=!1,i=!1){return{back:n,current:e,forward:t,replaced:s,position:window.history.length,scroll:i?Ah():null}}function BS(n){const{history:e,location:t}=window,s={value:UE(n,t)},i={value:e.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(u,h,f){const g=n.indexOf("#"),v=g>-1?(t.host&&document.querySelector("base")?n:n.slice(g))+u:US()+n+u;try{e[f?"replaceState":"pushState"](h,"",v),i.value=h}catch(b){console.error(b),t[f?"replace":"assign"](v)}}function o(u,h){const f=nt({},e.state,t_(i.value.back,u,i.value.forward,!0),h,{position:i.value.position});r(u,f,!0),s.value=u}function l(u,h){const f=nt({},i.value,e.state,{forward:u,scroll:Ah()});r(f.current,f,!0);const g=nt({},t_(s.value,u,null),{position:f.position+1},h);r(u,g,!1),s.value=u}return{location:s,state:i,push:l,replace:o}}function HS(n){n=kS(n);const e=BS(n),t=jS(n,e.state,e.location,e.replace);function s(r,o=!0){o||t.pauseListeners(),history.go(r)}const i=nt({location:"",base:n,go:s,createHref:LS.bind(null,n)},e,t);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function qS(n){return typeof n=="string"||n&&typeof n=="object"}function jE(n){return typeof n=="string"||typeof n=="symbol"}const BE=Symbol("");var n_;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(n_||(n_={}));function na(n,e){return nt(new Error,{type:n,[BE]:!0},e)}function Zs(n,e){return n instanceof Error&&BE in n&&(e==null||!!(n.type&e))}const s_="[^/]+?",WS={sensitive:!1,strict:!1,start:!0,end:!0},zS=/[.+*?^${}()[\]/\\]/g;function KS(n,e){const t=nt({},WS,e),s=[];let i=t.start?"^":"";const r=[];for(const h of n){const f=h.length?[]:[90];t.strict&&!h.length&&(i+="/");for(let g=0;g<h.length;g++){const v=h[g];let b=40+(t.sensitive?.25:0);if(v.type===0)g||(i+="/"),i+=v.value.replace(zS,"\\$&"),b+=40;else if(v.type===1){const{value:k,repeatable:L,optional:$,regexp:U}=v;r.push({name:k,repeatable:L,optional:$});const F=U||s_;if(F!==s_){b+=10;try{new RegExp(`(${F})`)}catch(H){throw new Error(`Invalid custom RegExp for param "${k}" (${F}): `+H.message)}}let K=L?`((?:${F})(?:/(?:${F}))*)`:`(${F})`;g||(K=$&&h.length<2?`(?:/${K})`:"/"+K),$&&(K+="?"),i+=K,b+=20,$&&(b+=-8),L&&(b+=-20),F===".*"&&(b+=-50)}f.push(b)}s.push(f)}if(t.strict&&t.end){const h=s.length-1;s[h][s[h].length-1]+=.7000000000000001}t.strict||(i+="/?"),t.end?i+="$":t.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,t.sensitive?"":"i");function l(h){const f=h.match(o),g={};if(!f)return null;for(let v=1;v<f.length;v++){const b=f[v]||"",k=r[v-1];g[k.name]=b&&k.repeatable?b.split("/"):b}return g}function u(h){let f="",g=!1;for(const v of n){(!g||!f.endsWith("/"))&&(f+="/"),g=!1;for(const b of v)if(b.type===0)f+=b.value;else if(b.type===1){const{value:k,repeatable:L,optional:$}=b,U=k in h?h[k]:"";if(ps(U)&&!L)throw new Error(`Provided param "${k}" is an array but it is not repeatable (* or + modifiers)`);const F=ps(U)?U.join("/"):U;if(!F)if($)v.length<2&&(f.endsWith("/")?f=f.slice(0,-1):g=!0);else throw new Error(`Missing required param "${k}"`);f+=F}}return f||"/"}return{re:o,score:s,keys:r,parse:l,stringify:u}}function GS(n,e){let t=0;for(;t<n.length&&t<e.length;){const s=e[t]-n[t];if(s)return s;t++}return n.length<e.length?n.length===1&&n[0]===80?-1:1:n.length>e.length?e.length===1&&e[0]===80?1:-1:0}function HE(n,e){let t=0;const s=n.score,i=e.score;for(;t<s.length&&t<i.length;){const r=GS(s[t],i[t]);if(r)return r;t++}if(Math.abs(i.length-s.length)===1){if(i_(s))return 1;if(i_(i))return-1}return i.length-s.length}function i_(n){const e=n[n.length-1];return n.length>0&&e[e.length-1]<0}const YS={type:0,value:""},QS=/[a-zA-Z0-9_]/;function XS(n){if(!n)return[[]];if(n==="/")return[[YS]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function e(b){throw new Error(`ERR (${t})/"${h}": ${b}`)}let t=0,s=t;const i=[];let r;function o(){r&&i.push(r),r=[]}let l=0,u,h="",f="";function g(){h&&(t===0?r.push({type:0,value:h}):t===1||t===2||t===3?(r.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:h,regexp:f,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),h="")}function v(){h+=u}for(;l<n.length;){if(u=n[l++],u==="\\"&&t!==2){s=t,t=4;continue}switch(t){case 0:u==="/"?(h&&g(),o()):u===":"?(g(),t=1):v();break;case 4:v(),t=s;break;case 1:u==="("?t=2:QS.test(u)?v():(g(),t=0,u!=="*"&&u!=="?"&&u!=="+"&&l--);break;case 2:u===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+u:t=3:f+=u;break;case 3:g(),t=0,u!=="*"&&u!=="?"&&u!=="+"&&l--,f="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${h}"`),g(),o(),i}function JS(n,e,t){const s=KS(XS(n.path),t),i=nt(s,{record:n,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function ZS(n,e){const t=[],s=new Map;e=l_({strict:!1,end:!0,sensitive:!1},e);function i(g){return s.get(g)}function r(g,v,b){const k=!b,L=o_(g);L.aliasOf=b&&b.record;const $=l_(e,g),U=[L];if("alias"in g){const H=typeof g.alias=="string"?[g.alias]:g.alias;for(const ce of H)U.push(o_(nt({},L,{components:b?b.record.components:L.components,path:ce,aliasOf:b?b.record:L})))}let F,K;for(const H of U){const{path:ce}=H;if(v&&ce[0]!=="/"){const he=v.record.path,S=he[he.length-1]==="/"?"":"/";H.path=v.record.path+(ce&&S+ce)}if(F=JS(H,v,$),b?b.alias.push(F):(K=K||F,K!==F&&K.alias.push(F),k&&g.name&&!a_(F)&&o(g.name)),qE(F)&&u(F),L.children){const he=L.children;for(let S=0;S<he.length;S++)r(he[S],F,b&&b.children[S])}b=b||F}return K?()=>{o(K)}:Tl}function o(g){if(jE(g)){const v=s.get(g);v&&(s.delete(g),t.splice(t.indexOf(v),1),v.children.forEach(o),v.alias.forEach(o))}else{const v=t.indexOf(g);v>-1&&(t.splice(v,1),g.record.name&&s.delete(g.record.name),g.children.forEach(o),g.alias.forEach(o))}}function l(){return t}function u(g){const v=nR(g,t);t.splice(v,0,g),g.record.name&&!a_(g)&&s.set(g.record.name,g)}function h(g,v){let b,k={},L,$;if("name"in g&&g.name){if(b=s.get(g.name),!b)throw na(1,{location:g});$=b.record.name,k=nt(r_(v.params,b.keys.filter(K=>!K.optional).concat(b.parent?b.parent.keys.filter(K=>K.optional):[]).map(K=>K.name)),g.params&&r_(g.params,b.keys.map(K=>K.name))),L=b.stringify(k)}else if(g.path!=null)L=g.path,b=t.find(K=>K.re.test(L)),b&&(k=b.parse(L),$=b.record.name);else{if(b=v.name?s.get(v.name):t.find(K=>K.re.test(v.path)),!b)throw na(1,{location:g,currentLocation:v});$=b.record.name,k=nt({},v.params,g.params),L=b.stringify(k)}const U=[];let F=b;for(;F;)U.unshift(F.record),F=F.parent;return{name:$,path:L,params:k,matched:U,meta:tR(U)}}n.forEach(g=>r(g));function f(){t.length=0,s.clear()}return{addRoute:r,resolve:h,removeRoute:o,clearRoutes:f,getRoutes:l,getRecordMatcher:i}}function r_(n,e){const t={};for(const s of e)s in n&&(t[s]=n[s]);return t}function o_(n){const e={path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:n.aliasOf,beforeEnter:n.beforeEnter,props:eR(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function eR(n){const e={},t=n.props||!1;if("component"in n)e.default=t;else for(const s in n.components)e[s]=typeof t=="object"?t[s]:t;return e}function a_(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function tR(n){return n.reduce((e,t)=>nt(e,t.meta),{})}function l_(n,e){const t={};for(const s in n)t[s]=s in e?e[s]:n[s];return t}function nR(n,e){let t=0,s=e.length;for(;t!==s;){const r=t+s>>1;HE(n,e[r])<0?s=r:t=r+1}const i=sR(n);return i&&(s=e.lastIndexOf(i,s-1)),s}function sR(n){let e=n;for(;e=e.parent;)if(qE(e)&&HE(n,e)===0)return e}function qE({record:n}){return!!(n.name||n.components&&Object.keys(n.components).length||n.redirect)}function iR(n){const e={};if(n===""||n==="?")return e;const s=(n[0]==="?"?n.slice(1):n).split("&");for(let i=0;i<s.length;++i){const r=s[i].replace(LE," "),o=r.indexOf("="),l=Fl(o<0?r:r.slice(0,o)),u=o<0?null:Fl(r.slice(o+1));if(l in e){let h=e[l];ps(h)||(h=e[l]=[h]),h.push(u)}else e[l]=u}return e}function c_(n){let e="";for(let t in n){const s=n[t];if(t=AS(t),s==null){s!==void 0&&(e+=(e.length?"&":"")+t);continue}(ps(s)?s.map(r=>r&&_f(r)):[s&&_f(s)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+t,r!=null&&(e+="="+r))})}return e}function rR(n){const e={};for(const t in n){const s=n[t];s!==void 0&&(e[t]=ps(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const oR=Symbol(""),u_=Symbol(""),Ih=Symbol(""),WE=Symbol(""),yf=Symbol("");function al(){let n=[];function e(s){return n.push(s),()=>{const i=n.indexOf(s);i>-1&&n.splice(i,1)}}function t(){n=[]}return{add:e,list:()=>n.slice(),reset:t}}function ji(n,e,t,s,i,r=o=>o()){const o=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((l,u)=>{const h=v=>{v===!1?u(na(4,{from:t,to:e})):v instanceof Error?u(v):qS(v)?u(na(2,{from:e,to:v})):(o&&s.enterCallbacks[i]===o&&typeof v=="function"&&o.push(v),l())},f=r(()=>n.call(s&&s.instances[i],e,t,h));let g=Promise.resolve(f);n.length<3&&(g=g.then(h)),g.catch(v=>u(v))})}function Dd(n,e,t,s,i=r=>r()){const r=[];for(const o of n)for(const l in o.components){let u=o.components[l];if(!(e!=="beforeRouteEnter"&&!o.instances[l]))if(kE(u)){const f=(u.__vccOpts||u)[e];f&&r.push(ji(f,t,s,o,l,i))}else{let h=u();r.push(()=>h.then(f=>{if(!f)throw new Error(`Couldn't resolve component "${l}" at "${o.path}"`);const g=fS(f)?f.default:f;o.mods[l]=f,o.components[l]=g;const b=(g.__vccOpts||g)[e];return b&&ji(b,t,s,o,l,i)()}))}}return r}function h_(n){const e=Ds(Ih),t=Ds(WE),s=Tn(()=>{const u=oi(n.to);return e.resolve(u)}),i=Tn(()=>{const{matched:u}=s.value,{length:h}=u,f=u[h-1],g=t.matched;if(!f||!g.length)return-1;const v=g.findIndex(ta.bind(null,f));if(v>-1)return v;const b=d_(u[h-2]);return h>1&&d_(f)===b&&g[g.length-1].path!==b?g.findIndex(ta.bind(null,u[h-2])):v}),r=Tn(()=>i.value>-1&&hR(t.params,s.value.params)),o=Tn(()=>i.value>-1&&i.value===t.matched.length-1&&FE(t.params,s.value.params));function l(u={}){if(uR(u)){const h=e[oi(n.replace)?"replace":"push"](oi(n.to)).catch(Tl);return n.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>h),h}return Promise.resolve()}return{route:s,href:Tn(()=>s.value.href),isActive:r,isExactActive:o,navigate:l}}function aR(n){return n.length===1?n[0]:n}const lR=oE({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:h_,setup(n,{slots:e}){const t=_h(h_(n)),{options:s}=Ds(Ih),i=Tn(()=>({[f_(n.activeClass,s.linkActiveClass,"router-link-active")]:t.isActive,[f_(n.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const r=e.default&&aR(e.default(t));return n.custom?r:DE("a",{"aria-current":t.isExactActive?n.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:i.value},r)}}}),cR=lR;function uR(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}function hR(n,e){for(const t in e){const s=e[t],i=n[t];if(typeof s=="string"){if(s!==i)return!1}else if(!ps(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function d_(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const f_=(n,e,t)=>n??e??t,dR=oE({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:e,slots:t}){const s=Ds(yf),i=Tn(()=>n.route||s.value),r=Ds(u_,0),o=Tn(()=>{let h=oi(r);const{matched:f}=i.value;let g;for(;(g=f[h])&&!g.components;)h++;return h}),l=Tn(()=>i.value.matched[o.value]);cu(u_,Tn(()=>o.value+1)),cu(oR,l),cu(yf,i);const u=At();return uu(()=>[u.value,l.value,n.name],([h,f,g],[v,b,k])=>{f&&(f.instances[g]=h,b&&b!==f&&h&&h===v&&(f.leaveGuards.size||(f.leaveGuards=b.leaveGuards),f.updateGuards.size||(f.updateGuards=b.updateGuards))),h&&f&&(!b||!ta(f,b)||!v)&&(f.enterCallbacks[g]||[]).forEach(L=>L(h))},{flush:"post"}),()=>{const h=i.value,f=n.name,g=l.value,v=g&&g.components[f];if(!v)return p_(t.default,{Component:v,route:h});const b=g.props[f],k=b?b===!0?h.params:typeof b=="function"?b(h):b:null,$=DE(v,nt({},k,e,{onVnodeUnmounted:U=>{U.component.isUnmounted&&(g.instances[f]=null)},ref:u}));return p_(t.default,{Component:$,route:h})||$}}});function p_(n,e){if(!n)return null;const t=n(e);return t.length===1?t[0]:t}const fR=dR;function pR(n){const e=ZS(n.routes,n),t=n.parseQuery||iR,s=n.stringifyQuery||c_,i=n.history,r=al(),o=al(),l=al(),u=b0(Li);let h=Li;ko&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=Pd.bind(null,W=>""+W),g=Pd.bind(null,CS),v=Pd.bind(null,Fl);function b(W,q){let ie,fe;return jE(W)?(ie=e.getRecordMatcher(W),fe=q):fe=W,e.addRoute(fe,ie)}function k(W){const q=e.getRecordMatcher(W);q&&e.removeRoute(q)}function L(){return e.getRoutes().map(W=>W.record)}function $(W){return!!e.getRecordMatcher(W)}function U(W,q){if(q=nt({},q||u.value),typeof W=="string"){const x=Od(t,W,q.path),z=e.resolve({path:x.path},q),G=i.createHref(x.fullPath);return nt(x,z,{params:v(z.params),hash:Fl(x.hash),redirectedFrom:void 0,href:G})}let ie;if(W.path!=null)ie=nt({},W,{path:Od(t,W.path,q.path).path});else{const x=nt({},W.params);for(const z in x)x[z]==null&&delete x[z];ie=nt({},W,{params:g(x)}),q.params=g(q.params)}const fe=e.resolve(ie,q),Ue=W.hash||"";fe.params=f(v(fe.params));const w=PS(s,nt({},W,{hash:wS(Ue),path:fe.path})),C=i.createHref(w);return nt({fullPath:w,hash:Ue,query:s===c_?rR(W.query):W.query||{}},fe,{redirectedFrom:void 0,href:C})}function F(W){return typeof W=="string"?Od(t,W,u.value.path):nt({},W)}function K(W,q){if(h!==W)return na(8,{from:q,to:W})}function H(W){return S(W)}function ce(W){return H(nt(F(W),{replace:!0}))}function he(W){const q=W.matched[W.matched.length-1];if(q&&q.redirect){const{redirect:ie}=q;let fe=typeof ie=="function"?ie(W):ie;return typeof fe=="string"&&(fe=fe.includes("?")||fe.includes("#")?fe=F(fe):{path:fe},fe.params={}),nt({query:W.query,hash:W.hash,params:fe.path!=null?{}:W.params},fe)}}function S(W,q){const ie=h=U(W),fe=u.value,Ue=W.state,w=W.force,C=W.replace===!0,x=he(ie);if(x)return S(nt(F(x),{state:typeof x=="object"?nt({},Ue,x.state):Ue,force:w,replace:C}),q||ie);const z=ie;z.redirectedFrom=q;let G;return!w&&OS(s,fe,ie)&&(G=na(16,{to:z,from:fe}),xt(fe,fe,!0,!1)),(G?Promise.resolve(G):R(z,fe)).catch(Q=>Zs(Q)?Zs(Q,2)?Q:Y(Q):xe(Q,z,fe)).then(Q=>{if(Q){if(Zs(Q,2))return S(nt({replace:C},F(Q.to),{state:typeof Q.to=="object"?nt({},Ue,Q.to.state):Ue,force:w}),q||z)}else Q=D(z,fe,!0,C,Ue);return P(z,fe,Q),Q})}function T(W,q){const ie=K(W,q);return ie?Promise.reject(ie):Promise.resolve()}function A(W){const q=vt.values().next().value;return q&&typeof q.runWithContext=="function"?q.runWithContext(W):W()}function R(W,q){let ie;const[fe,Ue,w]=mR(W,q);ie=Dd(fe.reverse(),"beforeRouteLeave",W,q);for(const x of fe)x.leaveGuards.forEach(z=>{ie.push(ji(z,W,q))});const C=T.bind(null,W,q);return ie.push(C),et(ie).then(()=>{ie=[];for(const x of r.list())ie.push(ji(x,W,q));return ie.push(C),et(ie)}).then(()=>{ie=Dd(Ue,"beforeRouteUpdate",W,q);for(const x of Ue)x.updateGuards.forEach(z=>{ie.push(ji(z,W,q))});return ie.push(C),et(ie)}).then(()=>{ie=[];for(const x of w)if(x.beforeEnter)if(ps(x.beforeEnter))for(const z of x.beforeEnter)ie.push(ji(z,W,q));else ie.push(ji(x.beforeEnter,W,q));return ie.push(C),et(ie)}).then(()=>(W.matched.forEach(x=>x.enterCallbacks={}),ie=Dd(w,"beforeRouteEnter",W,q,A),ie.push(C),et(ie))).then(()=>{ie=[];for(const x of o.list())ie.push(ji(x,W,q));return ie.push(C),et(ie)}).catch(x=>Zs(x,8)?x:Promise.reject(x))}function P(W,q,ie){l.list().forEach(fe=>A(()=>fe(W,q,ie)))}function D(W,q,ie,fe,Ue){const w=K(W,q);if(w)return w;const C=q===Li,x=ko?history.state:{};ie&&(fe||C?i.replace(W.fullPath,nt({scroll:C&&x&&x.scroll},Ue)):i.push(W.fullPath,Ue)),u.value=W,xt(W,q,ie,C),Y()}let I;function ft(){I||(I=i.listen((W,q,ie)=>{if(!yt.listening)return;const fe=U(W),Ue=he(fe);if(Ue){S(nt(Ue,{replace:!0,force:!0}),fe).catch(Tl);return}h=fe;const w=u.value;ko&&$S(e_(w.fullPath,ie.delta),Ah()),R(fe,w).catch(C=>Zs(C,12)?C:Zs(C,2)?(S(nt(F(C.to),{force:!0}),fe).then(x=>{Zs(x,20)&&!ie.delta&&ie.type===Ul.pop&&i.go(-1,!1)}).catch(Tl),Promise.reject()):(ie.delta&&i.go(-ie.delta,!1),xe(C,fe,w))).then(C=>{C=C||D(fe,w,!1),C&&(ie.delta&&!Zs(C,8)?i.go(-ie.delta,!1):ie.type===Ul.pop&&Zs(C,20)&&i.go(-1,!1)),P(fe,w,C)}).catch(Tl)}))}let wt=al(),Be=al(),we;function xe(W,q,ie){Y(W);const fe=Be.list();return fe.length?fe.forEach(Ue=>Ue(W,q,ie)):console.error(W),Promise.reject(W)}function bt(){return we&&u.value!==Li?Promise.resolve():new Promise((W,q)=>{wt.add([W,q])})}function Y(W){return we||(we=!W,ft(),wt.list().forEach(([q,ie])=>W?ie(W):q()),wt.reset()),W}function xt(W,q,ie,fe){const{scrollBehavior:Ue}=n;if(!ko||!Ue)return Promise.resolve();const w=!ie&&FS(e_(W.fullPath,0))||(fe||!ie)&&history.state&&history.state.scroll||null;return lp().then(()=>Ue(W,q,w)).then(C=>C&&MS(C)).catch(C=>xe(C,W,q))}const Je=W=>i.go(W);let Ze;const vt=new Set,yt={currentRoute:u,listening:!0,addRoute:b,removeRoute:k,clearRoutes:e.clearRoutes,hasRoute:$,getRoutes:L,resolve:U,options:n,push:H,replace:ce,go:Je,back:()=>Je(-1),forward:()=>Je(1),beforeEach:r.add,beforeResolve:o.add,afterEach:l.add,onError:Be.add,isReady:bt,install(W){const q=this;W.component("RouterLink",cR),W.component("RouterView",fR),W.config.globalProperties.$router=q,Object.defineProperty(W.config.globalProperties,"$route",{enumerable:!0,get:()=>oi(u)}),ko&&!Ze&&u.value===Li&&(Ze=!0,H(i.location).catch(Ue=>{}));const ie={};for(const Ue in Li)Object.defineProperty(ie,Ue,{get:()=>u.value[Ue],enumerable:!0});W.provide(Ih,q),W.provide(WE,Xy(ie)),W.provide(yf,u);const fe=W.unmount;vt.add(W),W.unmount=function(){vt.delete(W),vt.size<1&&(h=Li,I&&I(),I=null,u.value=Li,Ze=!1,we=!1),fe()}}};function et(W){return W.reduce((q,ie)=>q.then(()=>A(ie)),Promise.resolve())}return yt}function mR(n,e){const t=[],s=[],i=[],r=Math.max(e.matched.length,n.matched.length);for(let o=0;o<r;o++){const l=e.matched[o];l&&(n.matched.find(h=>ta(h,l))?s.push(l):t.push(l));const u=n.matched[o];u&&(e.matched.find(h=>ta(h,u))||i.push(u))}return[t,s,i]}function zE(){return Ds(Ih)}const gR=()=>{};var m_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let i=n.charCodeAt(s);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},_R=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const i=n[t++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=n[t++];e[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=n[t++],o=n[t++],l=n[t++],u=((i&7)<<18|(r&63)<<12|(o&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(u>>10)),e[s++]=String.fromCharCode(56320+(u&1023))}else{const r=n[t++],o=n[t++];e[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63)}}return e.join("")},GE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<n.length;i+=3){const r=n[i],o=i+1<n.length,l=o?n[i+1]:0,u=i+2<n.length,h=u?n[i+2]:0,f=r>>2,g=(r&3)<<4|l>>4;let v=(l&15)<<2|h>>6,b=h&63;u||(b=64,o||(v=64)),s.push(t[f],t[g],t[v],t[b])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(KE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):_R(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<n.length;){const r=t[n.charAt(i++)],l=i<n.length?t[n.charAt(i)]:0;++i;const h=i<n.length?t[n.charAt(i)]:64;++i;const g=i<n.length?t[n.charAt(i)]:64;if(++i,r==null||l==null||h==null||g==null)throw new vR;const v=r<<2|l>>4;if(s.push(v),h!==64){const b=l<<4&240|h>>2;if(s.push(b),g!==64){const k=h<<6&192|g;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class vR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yR=function(n){const e=KE(n);return GE.encodeByteArray(e,!0)},$u=function(n){return yR(n).replace(/\./g,"")},YE=function(n){try{return GE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=()=>ER().__FIREBASE_DEFAULTS__,TR=()=>{if(typeof process>"u"||typeof m_>"u")return;const n=m_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},wR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&YE(n[1]);return e&&JSON.parse(e)},Ch=()=>{try{return gR()||bR()||TR()||wR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},QE=n=>{var e,t;return(t=(e=Ch())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},AR=n=>{const e=QE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},XE=()=>{var n;return(n=Ch())===null||n===void 0?void 0:n.config},JE=n=>{var e;return(e=Ch())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(n){return n.endsWith(".cloudworkstations.dev")}async function ZE(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",i=n.iat||0,r=n.sub||n.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},n);return[$u(JSON.stringify(t)),$u(JSON.stringify(o)),""].join(".")}const Al={};function SR(){const n={prod:[],emulator:[]};for(const e of Object.keys(Al))Al[e]?n.emulator.push(e):n.prod.push(e);return n}function RR(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let g_=!1;function eb(n,e){if(typeof window>"u"||typeof document>"u"||!ya(window.location.host)||Al[n]===e||Al[n]||g_)return;Al[n]=e;function t(v){return`__firebase__banner__${v}`}const s="__firebase__banner",r=SR().prod.length>0;function o(){const v=document.getElementById(s);v&&v.remove()}function l(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function u(v,b){v.setAttribute("width","24"),v.setAttribute("id",b),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function h(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{g_=!0,o()},v}function f(v,b){v.setAttribute("id",b),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){const v=RR(s),b=t("text"),k=document.getElementById(b)||document.createElement("span"),L=t("learnmore"),$=document.getElementById(L)||document.createElement("a"),U=t("preprendIcon"),F=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const K=v.element;l(K),f($,L);const H=h();u(F,U),K.append(F,k,$,H),document.body.appendChild(K)}r?(k.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function OR(){var n;const e=(n=Ch())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function kR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xR(){const n=dn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function LR(){return!OR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VR(){try{return typeof indexedDB=="object"}catch{return!1}}function MR(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var r;e(((r=i.error)===null||r===void 0?void 0:r.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R="FirebaseError";class _i extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=$R,Object.setPrototypeOf(this,_i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tc.prototype.create)}}class tc{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},i=`${this.service}/${e}`,r=this.errors[e],o=r?FR(r,s):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new _i(i,l,s)}}function FR(n,e){return n.replace(UR,(t,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const UR=/\{\$([^}]+)}/g;function jR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function zr(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const i of t){if(!s.includes(i))return!1;const r=n[i],o=e[i];if(__(r)&&__(o)){if(!zr(r,o))return!1}else if(r!==o)return!1}for(const i of s)if(!t.includes(i))return!1;return!0}function __(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function hl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,r]=s.split("=");e[decodeURIComponent(i)]=decodeURIComponent(r)}}),e}function dl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function BR(n,e){const t=new HR(n,e);return t.subscribe.bind(t)}class HR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let i;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");qR(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:s},i.next===void 0&&(i.next=Nd),i.error===void 0&&(i.error=Nd),i.complete===void 0&&(i.complete=Nd);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Nd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(n){return n&&n._delegate?n._delegate:n}class Kr{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new IR;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KR(e))try{this.getOrInitializeService({instanceIdentifier:Mr})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(e=Mr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mr){return this.instances.has(e)}getOptions(e=Mr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[r,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);s===l&&o.resolve(i)}return i}onInit(e,t){var s;const i=this.normalizeInstanceIdentifier(t),r=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const i of s)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:zR(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Mr){return this.component?this.component.multipleInstances?e:Mr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zR(n){return n===Mr?void 0:n}function KR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new WR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(qe||(qe={}));const YR={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},QR=qe.INFO,XR={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},JR=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),i=XR[e];if(i)console[i](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mp{constructor(e){this.name=e,this._logLevel=QR,this._logHandler=JR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const ZR=(n,e)=>e.some(t=>n instanceof t);let v_,y_;function eP(){return v_||(v_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tP(){return y_||(y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tb=new WeakMap,Ef=new WeakMap,nb=new WeakMap,kd=new WeakMap,gp=new WeakMap;function nP(n){const e=new Promise((t,s)=>{const i=()=>{n.removeEventListener("success",r),n.removeEventListener("error",o)},r=()=>{t(Ki(n.result)),i()},o=()=>{s(n.error),i()};n.addEventListener("success",r),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&tb.set(t,n)}).catch(()=>{}),gp.set(e,n),e}function sP(n){if(Ef.has(n))return;const e=new Promise((t,s)=>{const i=()=>{n.removeEventListener("complete",r),n.removeEventListener("error",o),n.removeEventListener("abort",o)},r=()=>{t(),i()},o=()=>{s(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",r),n.addEventListener("error",o),n.addEventListener("abort",o)});Ef.set(n,e)}let bf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ef.get(n);if(e==="objectStoreNames")return n.objectStoreNames||nb.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ki(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function iP(n){bf=n(bf)}function rP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(xd(this),e,...t);return nb.set(s,e.sort?e.sort():[e]),Ki(s)}:tP().includes(n)?function(...e){return n.apply(xd(this),e),Ki(tb.get(this))}:function(...e){return Ki(n.apply(xd(this),e))}}function oP(n){return typeof n=="function"?rP(n):(n instanceof IDBTransaction&&sP(n),ZR(n,eP())?new Proxy(n,bf):n)}function Ki(n){if(n instanceof IDBRequest)return nP(n);if(kd.has(n))return kd.get(n);const e=oP(n);return e!==n&&(kd.set(n,e),gp.set(e,n)),e}const xd=n=>gp.get(n);function aP(n,e,{blocked:t,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(n,e),l=Ki(o);return s&&o.addEventListener("upgradeneeded",u=>{s(Ki(o.result),u.oldVersion,u.newVersion,Ki(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),l.then(u=>{r&&u.addEventListener("close",()=>r()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const lP=["get","getKey","getAll","getAllKeys","count"],cP=["put","add","delete","clear"],Ld=new Map;function E_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ld.get(e))return Ld.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,i=cP.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(i||lP.includes(t)))return;const r=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let h=u.store;return s&&(h=h.index(l.shift())),(await Promise.all([h[t](...l),i&&u.done]))[0]};return Ld.set(e,r),r}iP(n=>({...n,get:(e,t,s)=>E_(e,t)||n.get(e,t,s),has:(e,t)=>!!E_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(hP(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function hP(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tf="@firebase/app",b_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi=new mp("@firebase/app"),dP="@firebase/app-compat",fP="@firebase/analytics-compat",pP="@firebase/analytics",mP="@firebase/app-check-compat",gP="@firebase/app-check",_P="@firebase/auth",vP="@firebase/auth-compat",yP="@firebase/database",EP="@firebase/data-connect",bP="@firebase/database-compat",TP="@firebase/functions",wP="@firebase/functions-compat",AP="@firebase/installations",IP="@firebase/installations-compat",CP="@firebase/messaging",SP="@firebase/messaging-compat",RP="@firebase/performance",PP="@firebase/performance-compat",OP="@firebase/remote-config",DP="@firebase/remote-config-compat",NP="@firebase/storage",kP="@firebase/storage-compat",xP="@firebase/firestore",LP="@firebase/ai",VP="@firebase/firestore-compat",MP="firebase",$P="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf="[DEFAULT]",FP={[Tf]:"fire-core",[dP]:"fire-core-compat",[pP]:"fire-analytics",[fP]:"fire-analytics-compat",[gP]:"fire-app-check",[mP]:"fire-app-check-compat",[_P]:"fire-auth",[vP]:"fire-auth-compat",[yP]:"fire-rtdb",[EP]:"fire-data-connect",[bP]:"fire-rtdb-compat",[TP]:"fire-fn",[wP]:"fire-fn-compat",[AP]:"fire-iid",[IP]:"fire-iid-compat",[CP]:"fire-fcm",[SP]:"fire-fcm-compat",[RP]:"fire-perf",[PP]:"fire-perf-compat",[OP]:"fire-rc",[DP]:"fire-rc-compat",[NP]:"fire-gcs",[kP]:"fire-gcs-compat",[xP]:"fire-fst",[VP]:"fire-fst-compat",[LP]:"fire-vertex","fire-js":"fire-js",[MP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu=new Map,UP=new Map,Af=new Map;function T_(n,e){try{n.container.addComponent(e)}catch(t){hi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function sa(n){const e=n.name;if(Af.has(e))return hi.debug(`There were multiple attempts to register component ${e}.`),!1;Af.set(e,n);for(const t of Fu.values())T_(t,n);for(const t of UP.values())T_(t,n);return!0}function _p(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Vn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gi=new tc("app","Firebase",jP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=$P;function sb(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:wf,automaticDataCollectionEnabled:!0},e),i=s.name;if(typeof i!="string"||!i)throw Gi.create("bad-app-name",{appName:String(i)});if(t||(t=XE()),!t)throw Gi.create("no-options");const r=Fu.get(i);if(r){if(zr(t,r.options)&&zr(s,r.config))return r;throw Gi.create("duplicate-app",{appName:i})}const o=new GR(i);for(const u of Af.values())o.addComponent(u);const l=new BP(t,s,o);return Fu.set(i,l),l}function ib(n=wf){const e=Fu.get(n);if(!e&&n===wf&&XE())return sb();if(!e)throw Gi.create("no-app",{appName:n});return e}function Yi(n,e,t){var s;let i=(s=FP[n])!==null&&s!==void 0?s:n;t&&(i+=`-${t}`);const r=i.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const l=[`Unable to register library "${i}" with version "${e}":`];r&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hi.warn(l.join(" "));return}sa(new Kr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP="firebase-heartbeat-database",qP=1,jl="firebase-heartbeat-store";let Vd=null;function rb(){return Vd||(Vd=aP(HP,qP,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(jl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Gi.create("idb-open",{originalErrorMessage:n.message})})),Vd}async function WP(n){try{const t=(await rb()).transaction(jl),s=await t.objectStore(jl).get(ob(n));return await t.done,s}catch(e){if(e instanceof _i)hi.warn(e.message);else{const t=Gi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hi.warn(t.message)}}}async function w_(n,e){try{const s=(await rb()).transaction(jl,"readwrite");await s.objectStore(jl).put(e,ob(n)),await s.done}catch(t){if(t instanceof _i)hi.warn(t.message);else{const s=Gi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});hi.warn(s.message)}}}function ob(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP=1024,KP=30;class GP{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new QP(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=A_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>KP){const o=XP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){hi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=A_(),{heartbeatsToSend:s,unsentEntries:i}=YP(this._heartbeatsCache.heartbeats),r=$u(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return hi.warn(t),""}}}function A_(){return new Date().toISOString().substring(0,10)}function YP(n,e=zP){const t=[];let s=n.slice();for(const i of n){const r=t.find(o=>o.agent===i.agent);if(r){if(r.dates.push(i.date),I_(t)>e){r.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),I_(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class QP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VR()?MR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await WP(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return w_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return w_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function I_(n){return $u(JSON.stringify({version:2,heartbeats:n})).length}function XP(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(n){sa(new Kr("platform-logger",e=>new uP(e),"PRIVATE")),sa(new Kr("heartbeat",e=>new GP(e),"PRIVATE")),Yi(Tf,b_,n),Yi(Tf,b_,"esm2017"),Yi("fire-js","")}JP("");var C_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qi,ab;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,T){function A(){}A.prototype=T.prototype,S.D=T.prototype,S.prototype=new A,S.prototype.constructor=S,S.C=function(R,P,D){for(var I=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)I[ft-2]=arguments[ft];return T.prototype[P].apply(R,I)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,T,A){A||(A=0);var R=Array(16);if(typeof T=="string")for(var P=0;16>P;++P)R[P]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(P=0;16>P;++P)R[P]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=S.g[0],A=S.g[1],P=S.g[2];var D=S.g[3],I=T+(D^A&(P^D))+R[0]+3614090360&4294967295;T=A+(I<<7&4294967295|I>>>25),I=D+(P^T&(A^P))+R[1]+3905402710&4294967295,D=T+(I<<12&4294967295|I>>>20),I=P+(A^D&(T^A))+R[2]+606105819&4294967295,P=D+(I<<17&4294967295|I>>>15),I=A+(T^P&(D^T))+R[3]+3250441966&4294967295,A=P+(I<<22&4294967295|I>>>10),I=T+(D^A&(P^D))+R[4]+4118548399&4294967295,T=A+(I<<7&4294967295|I>>>25),I=D+(P^T&(A^P))+R[5]+1200080426&4294967295,D=T+(I<<12&4294967295|I>>>20),I=P+(A^D&(T^A))+R[6]+2821735955&4294967295,P=D+(I<<17&4294967295|I>>>15),I=A+(T^P&(D^T))+R[7]+4249261313&4294967295,A=P+(I<<22&4294967295|I>>>10),I=T+(D^A&(P^D))+R[8]+1770035416&4294967295,T=A+(I<<7&4294967295|I>>>25),I=D+(P^T&(A^P))+R[9]+2336552879&4294967295,D=T+(I<<12&4294967295|I>>>20),I=P+(A^D&(T^A))+R[10]+4294925233&4294967295,P=D+(I<<17&4294967295|I>>>15),I=A+(T^P&(D^T))+R[11]+2304563134&4294967295,A=P+(I<<22&4294967295|I>>>10),I=T+(D^A&(P^D))+R[12]+1804603682&4294967295,T=A+(I<<7&4294967295|I>>>25),I=D+(P^T&(A^P))+R[13]+4254626195&4294967295,D=T+(I<<12&4294967295|I>>>20),I=P+(A^D&(T^A))+R[14]+2792965006&4294967295,P=D+(I<<17&4294967295|I>>>15),I=A+(T^P&(D^T))+R[15]+1236535329&4294967295,A=P+(I<<22&4294967295|I>>>10),I=T+(P^D&(A^P))+R[1]+4129170786&4294967295,T=A+(I<<5&4294967295|I>>>27),I=D+(A^P&(T^A))+R[6]+3225465664&4294967295,D=T+(I<<9&4294967295|I>>>23),I=P+(T^A&(D^T))+R[11]+643717713&4294967295,P=D+(I<<14&4294967295|I>>>18),I=A+(D^T&(P^D))+R[0]+3921069994&4294967295,A=P+(I<<20&4294967295|I>>>12),I=T+(P^D&(A^P))+R[5]+3593408605&4294967295,T=A+(I<<5&4294967295|I>>>27),I=D+(A^P&(T^A))+R[10]+38016083&4294967295,D=T+(I<<9&4294967295|I>>>23),I=P+(T^A&(D^T))+R[15]+3634488961&4294967295,P=D+(I<<14&4294967295|I>>>18),I=A+(D^T&(P^D))+R[4]+3889429448&4294967295,A=P+(I<<20&4294967295|I>>>12),I=T+(P^D&(A^P))+R[9]+568446438&4294967295,T=A+(I<<5&4294967295|I>>>27),I=D+(A^P&(T^A))+R[14]+3275163606&4294967295,D=T+(I<<9&4294967295|I>>>23),I=P+(T^A&(D^T))+R[3]+4107603335&4294967295,P=D+(I<<14&4294967295|I>>>18),I=A+(D^T&(P^D))+R[8]+1163531501&4294967295,A=P+(I<<20&4294967295|I>>>12),I=T+(P^D&(A^P))+R[13]+2850285829&4294967295,T=A+(I<<5&4294967295|I>>>27),I=D+(A^P&(T^A))+R[2]+4243563512&4294967295,D=T+(I<<9&4294967295|I>>>23),I=P+(T^A&(D^T))+R[7]+1735328473&4294967295,P=D+(I<<14&4294967295|I>>>18),I=A+(D^T&(P^D))+R[12]+2368359562&4294967295,A=P+(I<<20&4294967295|I>>>12),I=T+(A^P^D)+R[5]+4294588738&4294967295,T=A+(I<<4&4294967295|I>>>28),I=D+(T^A^P)+R[8]+2272392833&4294967295,D=T+(I<<11&4294967295|I>>>21),I=P+(D^T^A)+R[11]+1839030562&4294967295,P=D+(I<<16&4294967295|I>>>16),I=A+(P^D^T)+R[14]+4259657740&4294967295,A=P+(I<<23&4294967295|I>>>9),I=T+(A^P^D)+R[1]+2763975236&4294967295,T=A+(I<<4&4294967295|I>>>28),I=D+(T^A^P)+R[4]+1272893353&4294967295,D=T+(I<<11&4294967295|I>>>21),I=P+(D^T^A)+R[7]+4139469664&4294967295,P=D+(I<<16&4294967295|I>>>16),I=A+(P^D^T)+R[10]+3200236656&4294967295,A=P+(I<<23&4294967295|I>>>9),I=T+(A^P^D)+R[13]+681279174&4294967295,T=A+(I<<4&4294967295|I>>>28),I=D+(T^A^P)+R[0]+3936430074&4294967295,D=T+(I<<11&4294967295|I>>>21),I=P+(D^T^A)+R[3]+3572445317&4294967295,P=D+(I<<16&4294967295|I>>>16),I=A+(P^D^T)+R[6]+76029189&4294967295,A=P+(I<<23&4294967295|I>>>9),I=T+(A^P^D)+R[9]+3654602809&4294967295,T=A+(I<<4&4294967295|I>>>28),I=D+(T^A^P)+R[12]+3873151461&4294967295,D=T+(I<<11&4294967295|I>>>21),I=P+(D^T^A)+R[15]+530742520&4294967295,P=D+(I<<16&4294967295|I>>>16),I=A+(P^D^T)+R[2]+3299628645&4294967295,A=P+(I<<23&4294967295|I>>>9),I=T+(P^(A|~D))+R[0]+4096336452&4294967295,T=A+(I<<6&4294967295|I>>>26),I=D+(A^(T|~P))+R[7]+1126891415&4294967295,D=T+(I<<10&4294967295|I>>>22),I=P+(T^(D|~A))+R[14]+2878612391&4294967295,P=D+(I<<15&4294967295|I>>>17),I=A+(D^(P|~T))+R[5]+4237533241&4294967295,A=P+(I<<21&4294967295|I>>>11),I=T+(P^(A|~D))+R[12]+1700485571&4294967295,T=A+(I<<6&4294967295|I>>>26),I=D+(A^(T|~P))+R[3]+2399980690&4294967295,D=T+(I<<10&4294967295|I>>>22),I=P+(T^(D|~A))+R[10]+4293915773&4294967295,P=D+(I<<15&4294967295|I>>>17),I=A+(D^(P|~T))+R[1]+2240044497&4294967295,A=P+(I<<21&4294967295|I>>>11),I=T+(P^(A|~D))+R[8]+1873313359&4294967295,T=A+(I<<6&4294967295|I>>>26),I=D+(A^(T|~P))+R[15]+4264355552&4294967295,D=T+(I<<10&4294967295|I>>>22),I=P+(T^(D|~A))+R[6]+2734768916&4294967295,P=D+(I<<15&4294967295|I>>>17),I=A+(D^(P|~T))+R[13]+1309151649&4294967295,A=P+(I<<21&4294967295|I>>>11),I=T+(P^(A|~D))+R[4]+4149444226&4294967295,T=A+(I<<6&4294967295|I>>>26),I=D+(A^(T|~P))+R[11]+3174756917&4294967295,D=T+(I<<10&4294967295|I>>>22),I=P+(T^(D|~A))+R[2]+718787259&4294967295,P=D+(I<<15&4294967295|I>>>17),I=A+(D^(P|~T))+R[9]+3951481745&4294967295,S.g[0]=S.g[0]+T&4294967295,S.g[1]=S.g[1]+(P+(I<<21&4294967295|I>>>11))&4294967295,S.g[2]=S.g[2]+P&4294967295,S.g[3]=S.g[3]+D&4294967295}s.prototype.u=function(S,T){T===void 0&&(T=S.length);for(var A=T-this.blockSize,R=this.B,P=this.h,D=0;D<T;){if(P==0)for(;D<=A;)i(this,S,D),D+=this.blockSize;if(typeof S=="string"){for(;D<T;)if(R[P++]=S.charCodeAt(D++),P==this.blockSize){i(this,R),P=0;break}}else for(;D<T;)if(R[P++]=S[D++],P==this.blockSize){i(this,R),P=0;break}}this.h=P,this.o+=T},s.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var T=1;T<S.length-8;++T)S[T]=0;var A=8*this.o;for(T=S.length-8;T<S.length;++T)S[T]=A&255,A/=256;for(this.u(S),S=Array(16),T=A=0;4>T;++T)for(var R=0;32>R;R+=8)S[A++]=this.g[T]>>>R&255;return S};function r(S,T){var A=l;return Object.prototype.hasOwnProperty.call(A,S)?A[S]:A[S]=T(S)}function o(S,T){this.h=T;for(var A=[],R=!0,P=S.length-1;0<=P;P--){var D=S[P]|0;R&&D==T||(A[P]=D,R=!1)}this.g=A}var l={};function u(S){return-128<=S&&128>S?r(S,function(T){return new o([T|0],0>T?-1:0)}):new o([S|0],0>S?-1:0)}function h(S){if(isNaN(S)||!isFinite(S))return g;if(0>S)return $(h(-S));for(var T=[],A=1,R=0;S>=A;R++)T[R]=S/A|0,A*=4294967296;return new o(T,0)}function f(S,T){if(S.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(S.charAt(0)=="-")return $(f(S.substring(1),T));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=h(Math.pow(T,8)),R=g,P=0;P<S.length;P+=8){var D=Math.min(8,S.length-P),I=parseInt(S.substring(P,P+D),T);8>D?(D=h(Math.pow(T,D)),R=R.j(D).add(h(I))):(R=R.j(A),R=R.add(h(I)))}return R}var g=u(0),v=u(1),b=u(16777216);n=o.prototype,n.m=function(){if(L(this))return-$(this).m();for(var S=0,T=1,A=0;A<this.g.length;A++){var R=this.i(A);S+=(0<=R?R:4294967296+R)*T,T*=4294967296}return S},n.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(k(this))return"0";if(L(this))return"-"+$(this).toString(S);for(var T=h(Math.pow(S,6)),A=this,R="";;){var P=H(A,T).g;A=U(A,P.j(T));var D=((0<A.g.length?A.g[0]:A.h)>>>0).toString(S);if(A=P,k(A))return D+R;for(;6>D.length;)D="0"+D;R=D+R}},n.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function k(S){if(S.h!=0)return!1;for(var T=0;T<S.g.length;T++)if(S.g[T]!=0)return!1;return!0}function L(S){return S.h==-1}n.l=function(S){return S=U(this,S),L(S)?-1:k(S)?0:1};function $(S){for(var T=S.g.length,A=[],R=0;R<T;R++)A[R]=~S.g[R];return new o(A,~S.h).add(v)}n.abs=function(){return L(this)?$(this):this},n.add=function(S){for(var T=Math.max(this.g.length,S.g.length),A=[],R=0,P=0;P<=T;P++){var D=R+(this.i(P)&65535)+(S.i(P)&65535),I=(D>>>16)+(this.i(P)>>>16)+(S.i(P)>>>16);R=I>>>16,D&=65535,I&=65535,A[P]=I<<16|D}return new o(A,A[A.length-1]&-2147483648?-1:0)};function U(S,T){return S.add($(T))}n.j=function(S){if(k(this)||k(S))return g;if(L(this))return L(S)?$(this).j($(S)):$($(this).j(S));if(L(S))return $(this.j($(S)));if(0>this.l(b)&&0>S.l(b))return h(this.m()*S.m());for(var T=this.g.length+S.g.length,A=[],R=0;R<2*T;R++)A[R]=0;for(R=0;R<this.g.length;R++)for(var P=0;P<S.g.length;P++){var D=this.i(R)>>>16,I=this.i(R)&65535,ft=S.i(P)>>>16,wt=S.i(P)&65535;A[2*R+2*P]+=I*wt,F(A,2*R+2*P),A[2*R+2*P+1]+=D*wt,F(A,2*R+2*P+1),A[2*R+2*P+1]+=I*ft,F(A,2*R+2*P+1),A[2*R+2*P+2]+=D*ft,F(A,2*R+2*P+2)}for(R=0;R<T;R++)A[R]=A[2*R+1]<<16|A[2*R];for(R=T;R<2*T;R++)A[R]=0;return new o(A,0)};function F(S,T){for(;(S[T]&65535)!=S[T];)S[T+1]+=S[T]>>>16,S[T]&=65535,T++}function K(S,T){this.g=S,this.h=T}function H(S,T){if(k(T))throw Error("division by zero");if(k(S))return new K(g,g);if(L(S))return T=H($(S),T),new K($(T.g),$(T.h));if(L(T))return T=H(S,$(T)),new K($(T.g),T.h);if(30<S.g.length){if(L(S)||L(T))throw Error("slowDivide_ only works with positive integers.");for(var A=v,R=T;0>=R.l(S);)A=ce(A),R=ce(R);var P=he(A,1),D=he(R,1);for(R=he(R,2),A=he(A,2);!k(R);){var I=D.add(R);0>=I.l(S)&&(P=P.add(A),D=I),R=he(R,1),A=he(A,1)}return T=U(S,P.j(T)),new K(P,T)}for(P=g;0<=S.l(T);){for(A=Math.max(1,Math.floor(S.m()/T.m())),R=Math.ceil(Math.log(A)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),D=h(A),I=D.j(T);L(I)||0<I.l(S);)A-=R,D=h(A),I=D.j(T);k(D)&&(D=v),P=P.add(D),S=U(S,I)}return new K(P,S)}n.A=function(S){return H(this,S).h},n.and=function(S){for(var T=Math.max(this.g.length,S.g.length),A=[],R=0;R<T;R++)A[R]=this.i(R)&S.i(R);return new o(A,this.h&S.h)},n.or=function(S){for(var T=Math.max(this.g.length,S.g.length),A=[],R=0;R<T;R++)A[R]=this.i(R)|S.i(R);return new o(A,this.h|S.h)},n.xor=function(S){for(var T=Math.max(this.g.length,S.g.length),A=[],R=0;R<T;R++)A[R]=this.i(R)^S.i(R);return new o(A,this.h^S.h)};function ce(S){for(var T=S.g.length+1,A=[],R=0;R<T;R++)A[R]=S.i(R)<<1|S.i(R-1)>>>31;return new o(A,S.h)}function he(S,T){var A=T>>5;T%=32;for(var R=S.g.length-A,P=[],D=0;D<R;D++)P[D]=0<T?S.i(D+A)>>>T|S.i(D+A+1)<<32-T:S.i(D+A);return new o(P,S.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,ab=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=f,Qi=o}).apply(typeof C_<"u"?C_:typeof self<"u"?self:typeof window<"u"?window:{});var Gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lb,fl,cb,pu,If,ub,hb,db;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,m){return a==Array.prototype||a==Object.prototype||(a[d]=m.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gc=="object"&&Gc];for(var d=0;d<a.length;++d){var m=a[d];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var s=t(this);function i(a,d){if(d)e:{var m=s;a=a.split(".");for(var E=0;E<a.length-1;E++){var V=a[E];if(!(V in m))break e;m=m[V]}a=a[a.length-1],E=m[a],d=d(E),d!=E&&d!=null&&e(m,a,{configurable:!0,writable:!0,value:d})}}function r(a,d){a instanceof String&&(a+="");var m=0,E=!1,V={next:function(){if(!E&&m<a.length){var j=m++;return{value:d(j,a[j]),done:!1}}return E=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(a){return a||function(){return r(this,function(d,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function h(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,m){return a.call.apply(a.bind,arguments)}function g(a,d,m){if(!a)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,E),a.apply(d,V)}}return function(){return a.apply(d,arguments)}}function v(a,d,m){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,v.apply(null,arguments)}function b(a,d){var m=Array.prototype.slice.call(arguments,1);return function(){var E=m.slice();return E.push.apply(E,arguments),a.apply(this,E)}}function k(a,d){function m(){}m.prototype=d.prototype,a.aa=d.prototype,a.prototype=new m,a.prototype.constructor=a,a.Qb=function(E,V,j){for(var re=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)re[ot-2]=arguments[ot];return d.prototype[V].apply(E,re)}}function L(a){const d=a.length;if(0<d){const m=Array(d);for(let E=0;E<d;E++)m[E]=a[E];return m}return[]}function $(a,d){for(let m=1;m<arguments.length;m++){const E=arguments[m];if(u(E)){const V=a.length||0,j=E.length||0;a.length=V+j;for(let re=0;re<j;re++)a[V+re]=E[re]}else a.push(E)}}class U{constructor(d,m){this.i=d,this.j=m,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function F(a){return/^[\s\xa0]*$/.test(a)}function K(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function H(a){return H[" "](a),a}H[" "]=function(){};var ce=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function he(a,d,m){for(const E in a)d.call(m,a[E],E,a)}function S(a,d){for(const m in a)d.call(void 0,a[m],m,a)}function T(a){const d={};for(const m in a)d[m]=a[m];return d}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(a,d){let m,E;for(let V=1;V<arguments.length;V++){E=arguments[V];for(m in E)a[m]=E[m];for(let j=0;j<A.length;j++)m=A[j],Object.prototype.hasOwnProperty.call(E,m)&&(a[m]=E[m])}}function P(a){var d=1;a=a.split(":");const m=[];for(;0<d&&a.length;)m.push(a.shift()),d--;return a.length&&m.push(a.join(":")),m}function D(a){l.setTimeout(()=>{throw a},0)}function I(){var a=bt;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class ft{constructor(){this.h=this.g=null}add(d,m){const E=wt.get();E.set(d,m),this.h?this.h.next=E:this.g=E,this.h=E}}var wt=new U(()=>new Be,a=>a.reset());class Be{constructor(){this.next=this.g=this.h=null}set(d,m){this.h=d,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let we,xe=!1,bt=new ft,Y=()=>{const a=l.Promise.resolve(void 0);we=()=>{a.then(xt)}};var xt=()=>{for(var a;a=I();){try{a.h.call(a.g)}catch(m){D(m)}var d=wt;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}xe=!1};function Je(){this.s=this.s,this.C=this.C}Je.prototype.s=!1,Je.prototype.ma=function(){this.s||(this.s=!0,this.N())},Je.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ze(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Ze.prototype.h=function(){this.defaultPrevented=!0};var vt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const m=()=>{};l.addEventListener("test",m,d),l.removeEventListener("test",m,d)}catch{}return a}();function yt(a,d){if(Ze.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var m=this.type=a.type,E=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(ce){e:{try{H(d.nodeName);var V=!0;break e}catch{}V=!1}V||(d=null)}}else m=="mouseover"?d=a.fromElement:m=="mouseout"&&(d=a.toElement);this.relatedTarget=d,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:et[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&yt.aa.h.call(this)}}k(yt,Ze);var et={2:"touch",3:"pen",4:"mouse"};yt.prototype.h=function(){yt.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var W="closure_listenable_"+(1e6*Math.random()|0),q=0;function ie(a,d,m,E,V){this.listener=a,this.proxy=null,this.src=d,this.type=m,this.capture=!!E,this.ha=V,this.key=++q,this.da=this.fa=!1}function fe(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Ue(a){this.src=a,this.g={},this.h=0}Ue.prototype.add=function(a,d,m,E,V){var j=a.toString();a=this.g[j],a||(a=this.g[j]=[],this.h++);var re=C(a,d,E,V);return-1<re?(d=a[re],m||(d.fa=!1)):(d=new ie(d,this.src,j,!!E,V),d.fa=m,a.push(d)),d};function w(a,d){var m=d.type;if(m in a.g){var E=a.g[m],V=Array.prototype.indexOf.call(E,d,void 0),j;(j=0<=V)&&Array.prototype.splice.call(E,V,1),j&&(fe(d),a.g[m].length==0&&(delete a.g[m],a.h--))}}function C(a,d,m,E){for(var V=0;V<a.length;++V){var j=a[V];if(!j.da&&j.listener==d&&j.capture==!!m&&j.ha==E)return V}return-1}var x="closure_lm_"+(1e6*Math.random()|0),z={};function G(a,d,m,E,V){if(Array.isArray(d)){for(var j=0;j<d.length;j++)G(a,d[j],m,E,V);return null}return m=ve(m),a&&a[W]?a.K(d,m,h(E)?!!E.capture:!1,V):Q(a,d,m,!1,E,V)}function Q(a,d,m,E,V,j){if(!d)throw Error("Invalid event type");var re=h(V)?!!V.capture:!!V,ot=le(a);if(ot||(a[x]=ot=new Ue(a)),m=ot.add(d,m,E,re,j),m.proxy)return m;if(E=ae(),m.proxy=E,E.src=a,E.listener=m,a.addEventListener)vt||(V=re),V===void 0&&(V=!1),a.addEventListener(d.toString(),E,V);else if(a.attachEvent)a.attachEvent(ee(d.toString()),E);else if(a.addListener&&a.removeListener)a.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return m}function ae(){function a(m){return d.call(a.src,a.listener,m)}const d=Ee;return a}function se(a,d,m,E,V){if(Array.isArray(d))for(var j=0;j<d.length;j++)se(a,d[j],m,E,V);else E=h(E)?!!E.capture:!!E,m=ve(m),a&&a[W]?(a=a.i,d=String(d).toString(),d in a.g&&(j=a.g[d],m=C(j,m,E,V),-1<m&&(fe(j[m]),Array.prototype.splice.call(j,m,1),j.length==0&&(delete a.g[d],a.h--)))):a&&(a=le(a))&&(d=a.g[d.toString()],a=-1,d&&(a=C(d,m,E,V)),(m=-1<a?d[a]:null)&&ne(m))}function ne(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[W])w(d.i,a);else{var m=a.type,E=a.proxy;d.removeEventListener?d.removeEventListener(m,E,a.capture):d.detachEvent?d.detachEvent(ee(m),E):d.addListener&&d.removeListener&&d.removeListener(E),(m=le(d))?(w(m,a),m.h==0&&(m.src=null,d[x]=null)):fe(a)}}}function ee(a){return a in z?z[a]:z[a]="on"+a}function Ee(a,d){if(a.da)a=!0;else{d=new yt(d,this);var m=a.listener,E=a.ha||a.src;a.fa&&ne(a),a=m.call(E,d)}return a}function le(a){return a=a[x],a instanceof Ue?a:null}var me="__closure_events_fn_"+(1e9*Math.random()>>>0);function ve(a){return typeof a=="function"?a:(a[me]||(a[me]=function(d){return a.handleEvent(d)}),a[me])}function ye(){Je.call(this),this.i=new Ue(this),this.M=this,this.F=null}k(ye,Je),ye.prototype[W]=!0,ye.prototype.removeEventListener=function(a,d,m,E){se(this,a,d,m,E)};function Re(a,d){var m,E=a.F;if(E)for(m=[];E;E=E.F)m.push(E);if(a=a.M,E=d.type||d,typeof d=="string")d=new Ze(d,a);else if(d instanceof Ze)d.target=d.target||a;else{var V=d;d=new Ze(E,a),R(d,V)}if(V=!0,m)for(var j=m.length-1;0<=j;j--){var re=d.g=m[j];V=$e(re,E,!0,d)&&V}if(re=d.g=a,V=$e(re,E,!0,d)&&V,V=$e(re,E,!1,d)&&V,m)for(j=0;j<m.length;j++)re=d.g=m[j],V=$e(re,E,!1,d)&&V}ye.prototype.N=function(){if(ye.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var m=a.g[d],E=0;E<m.length;E++)fe(m[E]);delete a.g[d],a.h--}}this.F=null},ye.prototype.K=function(a,d,m,E){return this.i.add(String(a),d,!1,m,E)},ye.prototype.L=function(a,d,m,E){return this.i.add(String(a),d,!0,m,E)};function $e(a,d,m,E){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var V=!0,j=0;j<d.length;++j){var re=d[j];if(re&&!re.da&&re.capture==m){var ot=re.listener,jt=re.ha||re.src;re.fa&&w(a.i,re),V=ot.call(jt,E)!==!1&&V}}return V&&!E.defaultPrevented}function Ct(a,d,m){if(typeof a=="function")m&&(a=v(a,m));else if(a&&typeof a.handleEvent=="function")a=v(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:l.setTimeout(a,d||0)}function Tt(a){a.g=Ct(()=>{a.g=null,a.i&&(a.i=!1,Tt(a))},a.l);const d=a.h;a.h=null,a.m.apply(null,d)}class $t extends Je{constructor(d,m){super(),this.m=d,this.l=m,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Tt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pt(a){Je.call(this),this.h=a,this.g={}}k(Pt,Je);var _s=[];function Bs(a){he(a.g,function(d,m){this.g.hasOwnProperty(m)&&ne(d)},a),a.g={}}Pt.prototype.N=function(){Pt.aa.N.call(this),Bs(this)},Pt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ft=l.JSON.stringify,In=l.JSON.parse,lo=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Na(){}Na.prototype.h=null;function gc(a){return a.h||(a.h=a.i())}function _c(){}var Ti={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wi(){Ze.call(this,"d")}k(wi,Ze);function co(){Ze.call(this,"c")}k(co,Ze);var vs={},vc=null;function uo(){return vc=vc||new ye}vs.La="serverreachability";function yc(a){Ze.call(this,vs.La,a)}k(yc,Ze);function mr(a){const d=uo();Re(d,new yc(d))}vs.STAT_EVENT="statevent";function Hs(a,d){Ze.call(this,vs.STAT_EVENT,a),this.stat=d}k(Hs,Ze);function Ot(a){const d=uo();Re(d,new Hs(d,a))}vs.Ma="timingevent";function Ec(a,d){Ze.call(this,vs.Ma,a),this.size=d}k(Ec,Ze);function gr(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},d)}function _r(){this.g=!0}_r.prototype.xa=function(){this.g=!1};function nd(a,d,m,E,V,j){a.info(function(){if(a.g)if(j)for(var re="",ot=j.split("&"),jt=0;jt<ot.length;jt++){var Ke=ot[jt].split("=");if(1<Ke.length){var zt=Ke[0];Ke=Ke[1];var Kt=zt.split("_");re=2<=Kt.length&&Kt[1]=="type"?re+(zt+"="+Ke+"&"):re+(zt+"=redacted&")}}else re=null;else re=j;return"XMLHTTP REQ ("+E+") [attempt "+V+"]: "+d+`
`+m+`
`+re})}function sd(a,d,m,E,V,j,re){a.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+V+"]: "+d+`
`+m+`
`+j+" "+re})}function ys(a,d,m,E){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+ho(a,m)+(E?" "+E:"")})}function Ai(a,d){a.info(function(){return"TIMEOUT: "+d})}_r.prototype.info=function(){};function ho(a,d){if(!a.g)return d;if(!d)return null;try{var m=JSON.parse(d);if(m){for(a=0;a<m.length;a++)if(Array.isArray(m[a])){var E=m[a];if(!(2>E.length)){var V=E[1];if(Array.isArray(V)&&!(1>V.length)){var j=V[0];if(j!="noop"&&j!="stop"&&j!="close")for(var re=1;re<V.length;re++)V[re]=""}}}}return Ft(m)}catch{return d}}var fo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},po={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ka;function mo(){}k(mo,Na),mo.prototype.g=function(){return new XMLHttpRequest},mo.prototype.i=function(){return{}},ka=new mo;function fn(a,d,m,E){this.j=a,this.i=d,this.l=m,this.R=E||1,this.U=new Pt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wt}function Wt(){this.i=null,this.g="",this.h=!1}var tn={},Xt={};function Ut(a,d,m){a.L=1,a.v=zs(St(d)),a.m=m,a.P=!0,vr(a,null)}function vr(a,d){a.F=Date.now(),rs(a),a.A=St(a.v);var m=a.A,E=a.R;Array.isArray(E)||(E=[String(E)]),vo(m.i,"t",E),a.C=0,m=a.j.J,a.h=new Wt,a.g=xc(a.j,m?d:null,!a.m),0<a.O&&(a.M=new $t(v(a.Y,a,a.g),a.O)),d=a.U,m=a.g,E=a.ca;var V="readystatechange";Array.isArray(V)||(V&&(_s[0]=V.toString()),V=_s);for(var j=0;j<V.length;j++){var re=G(m,V[j],E||d.handleEvent,!1,d.h||d);if(!re)break;d.g[re.key]=re}d=a.H?T(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),mr(),nd(a.i,a.u,a.A,a.l,a.R,a.m)}fn.prototype.ca=function(a){a=a.target;const d=this.M;d&&nn(a)==3?d.j():this.Y(a)},fn.prototype.Y=function(a){try{if(a==this.g)e:{const Kt=nn(this.g);var d=this.g.Ba();const Gt=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||Oc(this.g)))){this.J||Kt!=4||d==7||(d==8||0>=Gt?mr(3):mr(2)),yr(this);var m=this.g.Z();this.X=m;t:if(qs(this)){var E=Oc(this.g);a="";var V=E.length,j=nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Es(this),qn(this);var re="";break t}this.h.i=new l.TextDecoder}for(d=0;d<V;d++)this.h.h=!0,a+=this.h.i.decode(E[d],{stream:!(j&&d==V-1)});E.length=0,this.h.g+=a,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=m==200,sd(this.i,this.u,this.A,this.l,this.R,Kt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var ot,jt=this.g;if((ot=jt.g?jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(ot)){var Ke=ot;break t}}Ke=null}if(m=Ke)ys(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Er(this,m);else{this.o=!1,this.s=3,Ot(12),Es(this),qn(this);break e}}if(this.P){m=!0;let Sn;for(;!this.J&&this.C<re.length;)if(Sn=Ws(this,re),Sn==Xt){Kt==4&&(this.s=4,Ot(14),m=!1),ys(this.i,this.l,null,"[Incomplete Response]");break}else if(Sn==tn){this.s=4,Ot(15),ys(this.i,this.l,re,"[Invalid Chunk]"),m=!1;break}else ys(this.i,this.l,Sn,null),Er(this,Sn);if(qs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||re.length!=0||this.h.h||(this.s=1,Ot(16),m=!1),this.o=this.o&&m,!m)ys(this.i,this.l,re,"[Invalid Chunked Response]"),Es(this),qn(this);else if(0<re.length&&!this.W){this.W=!0;var zt=this.j;zt.g==this&&zt.ba&&!zt.M&&(zt.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),Xa(zt),zt.M=!0,Ot(11))}}else ys(this.i,this.l,re,null),Er(this,re);Kt==4&&Es(this),this.o&&!this.J&&(Kt==4?Ja(this.j,this):(this.o=!1,rs(this)))}else Dc(this.g),m==400&&0<re.indexOf("Unknown SID")?(this.s=3,Ot(12)):(this.s=0,Ot(13)),Es(this),qn(this)}}}catch{}finally{}};function qs(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function Ws(a,d){var m=a.C,E=d.indexOf(`
`,m);return E==-1?Xt:(m=Number(d.substring(m,E)),isNaN(m)?tn:(E+=1,E+m>d.length?Xt:(d=d.slice(E,E+m),a.C=E+m,d)))}fn.prototype.cancel=function(){this.J=!0,Es(this)};function rs(a){a.S=Date.now()+a.I,xa(a,a.I)}function xa(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=gr(v(a.ba,a),d)}function yr(a){a.B&&(l.clearTimeout(a.B),a.B=null)}fn.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(Ai(this.i,this.A),this.L!=2&&(mr(),Ot(17)),Es(this),this.s=2,qn(this)):xa(this,this.S-a)};function qn(a){a.j.G==0||a.J||Ja(a.j,a)}function Es(a){yr(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,Bs(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function Er(a,d){try{var m=a.j;if(m.G!=0&&(m.g==a||go(m.h,a))){if(!a.K&&go(m.h,a)&&m.G==3){try{var E=m.Da.g.parse(d)}catch{E=null}if(Array.isArray(E)&&E.length==3){var V=E;if(V[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<a.F)Cr(m),wr(m);else break e;Qa(m),Ot(18)}}else m.za=V[1],0<m.za-m.T&&37500>V[2]&&m.F&&m.v==0&&!m.C&&(m.C=gr(v(m.Za,m),6e3));if(1>=$a(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else as(m,11)}else if((a.K||m.g==a)&&Cr(m),!F(d))for(V=m.Da.g.parse(d),d=0;d<V.length;d++){let Ke=V[d];if(m.T=Ke[0],Ke=Ke[1],m.G==2)if(Ke[0]=="c"){m.K=Ke[1],m.ia=Ke[2];const zt=Ke[3];zt!=null&&(m.la=zt,m.j.info("VER="+m.la));const Kt=Ke[4];Kt!=null&&(m.Aa=Kt,m.j.info("SVER="+m.Aa));const Gt=Ke[5];Gt!=null&&typeof Gt=="number"&&0<Gt&&(E=1.5*Gt,m.L=E,m.j.info("backChannelRequestTimeoutMs_="+E)),E=m;const Sn=a.g;if(Sn){const Sr=Sn.g?Sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sr){var j=E.h;j.g||Sr.indexOf("spdy")==-1&&Sr.indexOf("quic")==-1&&Sr.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(_o(j,j.h),j.h=null))}if(E.D){const Co=Sn.g?Sn.g.getResponseHeader("X-HTTP-Session-Id"):null;Co&&(E.ya=Co,Xe(E.I,E.D,Co))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-a.F,m.j.info("Handshake RTT: "+m.R+"ms")),E=m;var re=a;if(E.qa=Za(E,E.J?E.ia:null,E.W),re.K){Fa(E.h,re);var ot=re,jt=E.L;jt&&(ot.I=jt),ot.B&&(yr(ot),rs(ot)),E.g=re}else Ir(E);0<m.i.length&&Ar(m)}else Ke[0]!="stop"&&Ke[0]!="close"||as(m,7);else m.G==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?as(m,7):To(m):Ke[0]!="noop"&&m.l&&m.l.ta(Ke),m.v=0)}}mr(4)}catch{}}var La=class{constructor(a,d){this.g=a,this.map=d}};function Va(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ma(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function $a(a){return a.h?1:a.g?a.g.size:0}function go(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function _o(a,d){a.g?a.g.add(d):a.h=d}function Fa(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}Va.prototype.cancel=function(){if(this.i=Ua(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Ua(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(const m of a.g.values())d=d.concat(m.D);return d}return L(a.i)}function bc(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],m=a.length,E=0;E<m;E++)d.push(a[E]);return d}d=[],m=0;for(E in a)d[m++]=a[E];return d}function Tc(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var m=0;m<a;m++)d.push(m);return d}d=[],m=0;for(const E in a)d[m++]=E;return d}}}function ja(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var m=Tc(a),E=bc(a),V=E.length,j=0;j<V;j++)d.call(void 0,E[j],m&&m[j],a)}var On=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pn(a,d){if(a){a=a.split("&");for(var m=0;m<a.length;m++){var E=a[m].indexOf("="),V=null;if(0<=E){var j=a[m].substring(0,E);V=a[m].substring(E+1)}else j=a[m];d(j,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function mn(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof mn){this.h=a.h,Ii(this,a.j),this.o=a.o,this.g=a.g,Ci(this,a.s),this.l=a.l;var d=a.i,m=new Cn;m.i=d.i,d.g&&(m.g=new Map(d.g),m.h=d.h),Dn(this,m),this.m=a.m}else a&&(d=String(a).match(On))?(this.h=!1,Ii(this,d[1]||"",!0),this.o=Wn(d[2]||""),this.g=Wn(d[3]||"",!0),Ci(this,d[4]),this.l=Wn(d[5]||"",!0),Dn(this,d[6]||"",!0),this.m=Wn(d[7]||"")):(this.h=!1,this.i=new Cn(null,this.h))}mn.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Ks(d,Gs,!0),":");var m=this.g;return(m||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Ks(d,Gs,!0),"@"),a.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&a.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&a.push("/"),a.push(Ks(m,m.charAt(0)=="/"?Ac:Ba,!0))),(m=this.i.toString())&&a.push("?",m),(m=this.m)&&a.push("#",Ks(m,id)),a.join("")};function St(a){return new mn(a)}function Ii(a,d,m){a.j=m?Wn(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Ci(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function Dn(a,d,m){d instanceof Cn?(a.i=d,Ic(a.i,a.h)):(m||(d=Ks(d,os)),a.i=new Cn(d,a.h))}function Xe(a,d,m){a.i.set(d,m)}function zs(a){return Xe(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Wn(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Ks(a,d,m){return typeof a=="string"?(a=encodeURI(a).replace(d,wc),m&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function wc(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Gs=/[#\/\?@]/g,Ba=/[#\?:]/g,Ac=/[#\?]/g,os=/[#\?@]/g,id=/#/g;function Cn(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Nn(a){a.g||(a.g=new Map,a.h=0,a.i&&pn(a.i,function(d,m){a.add(decodeURIComponent(d.replace(/\+/g," ")),m)}))}n=Cn.prototype,n.add=function(a,d){Nn(this),this.i=null,a=zn(this,a);var m=this.g.get(a);return m||this.g.set(a,m=[]),m.push(d),this.h+=1,this};function Ha(a,d){Nn(a),d=zn(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function Si(a,d){return Nn(a),d=zn(a,d),a.g.has(d)}n.forEach=function(a,d){Nn(this),this.g.forEach(function(m,E){m.forEach(function(V){a.call(d,V,E,this)},this)},this)},n.na=function(){Nn(this);const a=Array.from(this.g.values()),d=Array.from(this.g.keys()),m=[];for(let E=0;E<d.length;E++){const V=a[E];for(let j=0;j<V.length;j++)m.push(d[E])}return m},n.V=function(a){Nn(this);let d=[];if(typeof a=="string")Si(this,a)&&(d=d.concat(this.g.get(zn(this,a))));else{a=Array.from(this.g.values());for(let m=0;m<a.length;m++)d=d.concat(a[m])}return d},n.set=function(a,d){return Nn(this),this.i=null,a=zn(this,a),Si(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},n.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function vo(a,d,m){Ha(a,d),0<m.length&&(a.i=null,a.g.set(zn(a,d),L(m)),a.h+=m.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],d=Array.from(this.g.keys());for(var m=0;m<d.length;m++){var E=d[m];const j=encodeURIComponent(String(E)),re=this.V(E);for(E=0;E<re.length;E++){var V=j;re[E]!==""&&(V+="="+encodeURIComponent(String(re[E]))),a.push(V)}}return this.i=a.join("&")};function zn(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function Ic(a,d){d&&!a.j&&(Nn(a),a.i=null,a.g.forEach(function(m,E){var V=E.toLowerCase();E!=V&&(Ha(this,E),vo(this,V,m))},a)),a.j=d}function Cc(a,d){const m=new _r;if(l.Image){const E=new Image;E.onload=b(gn,m,"TestLoadImage: loaded",!0,d,E),E.onerror=b(gn,m,"TestLoadImage: error",!1,d,E),E.onabort=b(gn,m,"TestLoadImage: abort",!1,d,E),E.ontimeout=b(gn,m,"TestLoadImage: timeout",!1,d,E),l.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=a}else d(!1)}function Sc(a,d){const m=new _r,E=new AbortController,V=setTimeout(()=>{E.abort(),gn(m,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:E.signal}).then(j=>{clearTimeout(V),j.ok?gn(m,"TestPingServer: ok",!0,d):gn(m,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(V),gn(m,"TestPingServer: error",!1,d)})}function gn(a,d,m,E,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),E(m)}catch{}}function rd(){this.g=new lo}function Rc(a,d,m){const E=m||"";try{ja(a,function(V,j){let re=V;h(V)&&(re=Ft(V)),d.push(E+j+"="+encodeURIComponent(re))})}catch(V){throw d.push(E+"type="+encodeURIComponent("_badmap")),V}}function Ri(a){this.l=a.Ub||null,this.j=a.eb||!1}k(Ri,Na),Ri.prototype.g=function(){return new Ys(this.l,this.j)},Ri.prototype.i=function(a){return function(){return a}}({});function Ys(a,d){ye.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Ys,ye),n=Ys.prototype,n.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,bs(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||l).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,br(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,bs(this)),this.g&&(this.readyState=3,bs(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yo(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function yo(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?br(this):bs(this),this.readyState==3&&yo(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,br(this))},n.Qa=function(a){this.g&&(this.response=a,br(this))},n.ga=function(){this.g&&br(this)};function br(a){a.readyState=4,a.l=null,a.j=null,a.v=null,bs(a)}n.setRequestHeader=function(a,d){this.u.append(a,d)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],d=this.h.entries();for(var m=d.next();!m.done;)m=m.value,a.push(m[0]+": "+m[1]),m=d.next();return a.join(`\r
`)};function bs(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Ys.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Pc(a){let d="";return he(a,function(m,E){d+=E,d+=":",d+=m,d+=`\r
`}),d}function Eo(a,d,m){e:{for(E in m){var E=!1;break e}E=!0}E||(m=Pc(m),typeof a=="string"?m!=null&&encodeURIComponent(String(m)):Xe(a,d,m))}function pt(a){ye.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(pt,ye);var qa=/^https?$/i,Wa=["POST","PUT"];n=pt.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,d,m,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ka.g(),this.v=this.o?gc(this.o):gc(ka),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(j){za(this,j);return}if(a=m||"",m=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var V in E)m.set(V,E[V]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const j of E.keys())m.set(j,E.get(j));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(m.keys()).find(j=>j.toLowerCase()=="content-type"),V=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Wa,d,void 0))||E||V||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,re]of m)this.g.setRequestHeader(j,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ka(this),this.u=!0,this.g.send(a),this.u=!1}catch(j){za(this,j)}};function za(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,Pi(a),Tr(a)}function Pi(a){a.A||(a.A=!0,Re(a,"complete"),Re(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Re(this,"complete"),Re(this,"abort"),Tr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tr(this,!0)),pt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?bo(this):this.bb())},n.bb=function(){bo(this)};function bo(a){if(a.h&&typeof o<"u"&&(!a.v[1]||nn(a)!=4||a.Z()!=2)){if(a.u&&nn(a)==4)Ct(a.Ea,0,a);else if(Re(a,"readystatechange"),nn(a)==4){a.h=!1;try{const re=a.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var m;if(!(m=d)){var E;if(E=re===0){var V=String(a.D).match(On)[1]||null;!V&&l.self&&l.self.location&&(V=l.self.location.protocol.slice(0,-1)),E=!qa.test(V?V.toLowerCase():"")}m=E}if(m)Re(a,"complete"),Re(a,"success");else{a.m=6;try{var j=2<nn(a)?a.g.statusText:""}catch{j=""}a.l=j+" ["+a.Z()+"]",Pi(a)}}finally{Tr(a)}}}}function Tr(a,d){if(a.g){Ka(a);const m=a.g,E=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||Re(a,"ready");try{m.onreadystatechange=E}catch{}}}function Ka(a){a.I&&(l.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function nn(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<nn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),In(d)}};function Oc(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Dc(a){const d={};a=(a.g&&2<=nn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<a.length;E++){if(F(a[E]))continue;var m=P(a[E]);const V=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const j=d[V]||[];d[V]=j,j.push(m)}S(d,function(E){return E.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oi(a,d,m){return m&&m.internalChannelParams&&m.internalChannelParams[a]||d}function Ga(a){this.Aa=0,this.i=[],this.j=new _r,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Oi("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Oi("baseRetryDelayMs",5e3,a),this.cb=Oi("retryDelaySeedMs",1e4,a),this.Wa=Oi("forwardChannelMaxRetries",2,a),this.wa=Oi("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Va(a&&a.concurrentRequestLimit),this.Da=new rd,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ga.prototype,n.la=8,n.G=1,n.connect=function(a,d,m,E){Ot(0),this.W=a,this.H=d||{},m&&E!==void 0&&(this.H.OSID=m,this.H.OAID=E),this.F=this.X,this.I=Za(this,null,this.W),Ar(this)};function To(a){if(wo(a),a.G==3){var d=a.U++,m=St(a.I);if(Xe(m,"SID",a.K),Xe(m,"RID",d),Xe(m,"TYPE","terminate"),Di(a,m),d=new fn(a,a.j,d),d.L=2,d.v=zs(St(m)),m=!1,l.navigator&&l.navigator.sendBeacon)try{m=l.navigator.sendBeacon(d.v.toString(),"")}catch{}!m&&l.Image&&(new Image().src=d.v,m=!0),m||(d.g=xc(d.j,null),d.g.ea(d.v)),d.F=Date.now(),rs(d)}kc(a)}function wr(a){a.g&&(Xa(a),a.g.cancel(),a.g=null)}function wo(a){wr(a),a.u&&(l.clearTimeout(a.u),a.u=null),Cr(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Ar(a){if(!Ma(a.h)&&!a.s){a.s=!0;var d=a.Ga;we||Y(),xe||(we(),xe=!0),bt.add(d,a),a.B=0}}function od(a,d){return $a(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=gr(v(a.Ga,a,d),Ts(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const V=new fn(this,this.j,a);let j=this.o;if(this.S&&(j?(j=T(j),R(j,this.S)):j=this.S),this.m!==null||this.O||(V.H=j,j=null),this.P)e:{for(var d=0,m=0;m<this.i.length;m++){t:{var E=this.i[m];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(d+=E,4096<d){d=m;break e}if(d===4096||m===this.i.length-1){d=m+1;break e}}d=1e3}else d=1e3;d=Ya(this,V,d),m=St(this.I),Xe(m,"RID",a),Xe(m,"CVER",22),this.D&&Xe(m,"X-HTTP-Session-Id",this.D),Di(this,m),j&&(this.O?d="headers="+encodeURIComponent(String(Pc(j)))+"&"+d:this.m&&Eo(m,this.m,j)),_o(this.h,V),this.Ua&&Xe(m,"TYPE","init"),this.P?(Xe(m,"$req",d),Xe(m,"SID","null"),V.T=!0,Ut(V,m,null)):Ut(V,m,d),this.G=2}}else this.G==3&&(a?Nc(this,a):this.i.length==0||Ma(this.h)||Nc(this))};function Nc(a,d){var m;d?m=d.l:m=a.U++;const E=St(a.I);Xe(E,"SID",a.K),Xe(E,"RID",m),Xe(E,"AID",a.T),Di(a,E),a.m&&a.o&&Eo(E,a.m,a.o),m=new fn(a,a.j,m,a.B+1),a.m===null&&(m.H=a.o),d&&(a.i=d.D.concat(a.i)),d=Ya(a,m,1e3),m.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),_o(a.h,m),Ut(m,E,d)}function Di(a,d){a.H&&he(a.H,function(m,E){Xe(d,E,m)}),a.l&&ja({},function(m,E){Xe(d,E,m)})}function Ya(a,d,m){m=Math.min(a.i.length,m);var E=a.l?v(a.l.Na,a.l,a):null;e:{var V=a.i;let j=-1;for(;;){const re=["count="+m];j==-1?0<m?(j=V[0].g,re.push("ofs="+j)):j=0:re.push("ofs="+j);let ot=!0;for(let jt=0;jt<m;jt++){let Ke=V[jt].g;const zt=V[jt].map;if(Ke-=j,0>Ke)j=Math.max(0,V[jt].g-100),ot=!1;else try{Rc(zt,re,"req"+Ke+"_")}catch{E&&E(zt)}}if(ot){E=re.join("&");break e}}}return a=a.i.splice(0,m),d.D=a,E}function Ir(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;we||Y(),xe||(we(),xe=!0),bt.add(d,a),a.v=0}}function Qa(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=gr(v(a.Fa,a),Ts(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,Ao(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=gr(v(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ot(10),wr(this),Ao(this))};function Xa(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Ao(a){a.g=new fn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=St(a.qa);Xe(d,"RID","rpc"),Xe(d,"SID",a.K),Xe(d,"AID",a.T),Xe(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Xe(d,"TO",a.ja),Xe(d,"TYPE","xmlhttp"),Di(a,d),a.m&&a.o&&Eo(d,a.m,a.o),a.L&&(a.g.I=a.L);var m=a.g;a=a.ia,m.L=1,m.v=zs(St(d)),m.m=null,m.P=!0,vr(m,a)}n.Za=function(){this.C!=null&&(this.C=null,wr(this),Qa(this),Ot(19))};function Cr(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Ja(a,d){var m=null;if(a.g==d){Cr(a),Xa(a),a.g=null;var E=2}else if(go(a.h,d))m=d.D,Fa(a.h,d),E=1;else return;if(a.G!=0){if(d.o)if(E==1){m=d.m?d.m.length:0,d=Date.now()-d.F;var V=a.B;E=uo(),Re(E,new Ec(E,m)),Ar(a)}else Ir(a);else if(V=d.s,V==3||V==0&&0<d.X||!(E==1&&od(a,d)||E==2&&Qa(a)))switch(m&&0<m.length&&(d=a.h,d.i=d.i.concat(m)),V){case 1:as(a,5);break;case 4:as(a,10);break;case 3:as(a,6);break;default:as(a,2)}}}function Ts(a,d){let m=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(m*=2),m*d}function as(a,d){if(a.j.info("Error code "+d),d==2){var m=v(a.fb,a),E=a.Xa;const V=!E;E=new mn(E||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ii(E,"https"),zs(E),V?Cc(E.toString(),m):Sc(E.toString(),m)}else Ot(2);a.G=0,a.l&&a.l.sa(d),kc(a),wo(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function kc(a){if(a.G=0,a.ka=[],a.l){const d=Ua(a.h);(d.length!=0||a.i.length!=0)&&($(a.ka,d),$(a.ka,a.i),a.h.i.length=0,L(a.i),a.i.length=0),a.l.ra()}}function Za(a,d,m){var E=m instanceof mn?St(m):new mn(m);if(E.g!="")d&&(E.g=d+"."+E.g),Ci(E,E.s);else{var V=l.location;E=V.protocol,d=d?d+"."+V.hostname:V.hostname,V=+V.port;var j=new mn(null);E&&Ii(j,E),d&&(j.g=d),V&&Ci(j,V),m&&(j.l=m),E=j}return m=a.D,d=a.ya,m&&d&&Xe(E,m,d),Xe(E,"VER",a.la),Di(a,E),E}function xc(a,d,m){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new pt(new Ri({eb:m})):new pt(a.pa),d.Ha(a.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lc(){}n=Lc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Io(){}Io.prototype.g=function(a,d){return new _n(a,d)};function _n(a,d){ye.call(this),this.g=new Ga(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!F(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!F(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Ni(this)}k(_n,ye),_n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){To(this.g)},_n.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var m={};m.__data__=a,a=m}else this.u&&(m={},m.__data__=Ft(a),a=m);d.i.push(new La(d.Ya++,a)),d.G==3&&Ar(d)},_n.prototype.N=function(){this.g.l=null,delete this.j,To(this.g),delete this.g,_n.aa.N.call(this)};function el(a){wi.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(const m in d){a=m;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}k(el,wi);function tl(){co.call(this),this.status=1}k(tl,co);function Ni(a){this.g=a}k(Ni,Lc),Ni.prototype.ua=function(){Re(this.g,"a")},Ni.prototype.ta=function(a){Re(this.g,new el(a))},Ni.prototype.sa=function(a){Re(this.g,new tl)},Ni.prototype.ra=function(){Re(this.g,"b")},Io.prototype.createWebChannel=Io.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,db=function(){return new Io},hb=function(){return uo()},ub=vs,If={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fo.NO_ERROR=0,fo.TIMEOUT=8,fo.HTTP_ERROR=6,pu=fo,po.COMPLETE="complete",cb=po,_c.EventType=Ti,Ti.OPEN="a",Ti.CLOSE="b",Ti.ERROR="c",Ti.MESSAGE="d",ye.prototype.listen=ye.prototype.K,fl=_c,pt.prototype.listenOnce=pt.prototype.L,pt.prototype.getLastError=pt.prototype.Ka,pt.prototype.getLastErrorCode=pt.prototype.Ba,pt.prototype.getStatus=pt.prototype.Z,pt.prototype.getResponseJson=pt.prototype.Oa,pt.prototype.getResponseText=pt.prototype.oa,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Ha,lb=pt}).apply(typeof Gc<"u"?Gc:typeof self<"u"?self:typeof window<"u"?window:{});const S_="@firebase/firestore",R_="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ba="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new mp("@firebase/firestore");function xo(){return Gr.logLevel}function de(n,...e){if(Gr.logLevel<=qe.DEBUG){const t=e.map(vp);Gr.debug(`Firestore (${ba}): ${n}`,...t)}}function di(n,...e){if(Gr.logLevel<=qe.ERROR){const t=e.map(vp);Gr.error(`Firestore (${ba}): ${n}`,...t)}}function ia(n,...e){if(Gr.logLevel<=qe.WARN){const t=e.map(vp);Gr.warn(`Firestore (${ba}): ${n}`,...t)}}function vp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,fb(n,s,t)}function fb(n,e,t){let s=`FIRESTORE (${ba}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw di(s),new Error(s)}function rt(n,e,t,s){let i="Unexpected state";typeof t=="string"?i=t:s=t,n||fb(e,i,s)}function ke(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends _i{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(rn.UNAUTHENTICATED))}shutdown(){}}class eO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class tO{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){rt(this.o===void 0,42304);let s=this.i;const i=u=>this.i!==s?(s=this.i,t(u)):Promise.resolve();let r=new Xi;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Xi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=r;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Xi)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(rt(typeof s.accessToken=="string",31837,{l:s}),new pb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class nO{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sO{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new nO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class P_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){rt(this.o===void 0,3512);const s=r=>{r.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.m;return this.m=r.token,de("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>s(r))};const i=r=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>i(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?i(r):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new P_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(rt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new P_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const i=rO(40);for(let r=0;r<i.length;++r)s.length<20&&i[r]<t&&(s+=e.charAt(i[r]%62))}return s}}function Fe(n,e){return n<e?-1:n>e?1:0}function Cf(n,e){let t=0;for(;t<n.length&&t<e.length;){const s=n.codePointAt(t),i=e.codePointAt(t);if(s!==i){if(s<128&&i<128)return Fe(s,i);{const r=mb(),o=oO(r.encode(O_(n,t)),r.encode(O_(e,t)));return o!==0?o:Fe(s,i)}}t+=s>65535?2:1}return Fe(n.length,e.length)}function O_(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function oO(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Fe(n[t],e[t]);return Fe(n.length,e.length)}function ra(n,e,t){return n.length===e.length&&n.every((s,i)=>t(s,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=-62135596800,N_=1e6;class Ht{static now(){return Ht.fromMillis(Date.now())}static fromDate(e){return Ht.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*N_);return new Ht(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<D_)throw new _e(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/N_}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-D_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Ht(0,0))}static max(){return new Oe(new Ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="__name__";class Ss{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ce(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ce(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Ss.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ss?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let i=0;i<s;i++){const r=Ss.compareSegments(e.get(i),t.get(i));if(r!==0)return r}return Fe(e.length,t.length)}static compareSegments(e,t){const s=Ss.isNumericId(e),i=Ss.isNumericId(t);return s&&!i?-1:!s&&i?1:s&&i?Ss.extractNumericId(e).compare(Ss.extractNumericId(t)):Cf(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qi.fromString(e.substring(4,e.length-2))}}class Et extends Ss{construct(e,t,s){return new Et(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new _e(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(i=>i.length>0))}return new Et(t)}static emptyPath(){return new Et([])}}const aO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends Ss{construct(e,t,s){return new Zt(e,t,s)}static isValidIdentifier(e){return aO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===k_}static keyField(){return new Zt([k_])}static fromServerFormat(e){const t=[];let s="",i=0;const r=()=>{if(s.length===0)throw new _e(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new _e(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new _e(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(s+=l,i++):(r(),i++)}if(r(),o)throw new _e(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(t)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(Et.fromString(e))}static fromName(e){return new be(Et.fromString(e).popFirst(5))}static empty(){return new be(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new Et(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl=-1;function lO(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,i=Oe.fromTimestamp(s===1e9?new Ht(t+1,0):new Ht(t,s));return new er(i,be.empty(),e)}function cO(n){return new er(n.readTime,n.key,Bl)}class er{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new er(Oe.min(),be.empty(),Bl)}static max(){return new er(Oe.max(),be.empty(),Bl)}}function uO(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=be.comparator(n.documentKey,e.documentKey),t!==0?t:Fe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ta(n){if(n.code!==J.FAILED_PRECONDITION||n.message!==hO)throw n;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((s,i)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(s,i)},this.catchCallback=r=>{this.wrapFailure(t,r).next(s,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,s)=>{t(e)})}static reject(e){return new X((t,s)=>{s(e)})}static waitFor(e){return new X((t,s)=>{let i=0,r=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++r,o&&r===i&&t()},u=>s(u))}),o=!0,r===i&&t()})}static or(e){let t=X.resolve(!1);for(const s of e)t=t.next(i=>i?X.resolve(i):s());return t}static forEach(e,t){const s=[];return e.forEach((i,r)=>{s.push(t.call(this,i,r))}),this.waitFor(s)}static mapArray(e,t){return new X((s,i)=>{const r=e.length,o=new Array(r);let l=0;for(let u=0;u<r;u++){const h=u;t(e[h]).next(f=>{o[h]=f,++l,l===r&&s(o)},f=>i(f))}})}static doWhile(e,t){return new X((s,i)=>{const r=()=>{e()===!0?t().next(()=>{r()},i):s()};r()})}}function fO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function wa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>t.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Sh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp=-1;function Rh(n){return n==null}function Uu(n){return n===0&&1/n==-1/0}function pO(n){return typeof n=="number"&&Number.isInteger(n)&&!Uu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="";function mO(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=x_(e)),e=gO(n.get(t),e);return x_(e)}function gO(n,e){let t=e;const s=n.length;for(let i=0;i<s;i++){const r=n.charAt(i);switch(r){case"\0":t+="";break;case _b:t+="";break;default:t+=r}}return t}function x_(n){return n+_b+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function no(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function vb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,t){this.comparator=e,this.root=t||Jt.EMPTY}insert(e,t){return new It(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new It(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const i=this.comparator(e,s.key);if(i===0)return t+s.left.size;i<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yc(this.root,e,this.comparator,!0)}}class Yc{constructor(e,t,s,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?s(e.key,t):1,t&&i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,t,s,i,r){this.key=e,this.value=t,this.color=s??Jt.RED,this.left=i??Jt.EMPTY,this.right=r??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,i,r){return new Jt(e??this.key,t??this.value,s??this.color,i??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let i=this;const r=s(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,t,s),null):r===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,s)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Jt.EMPTY;s=i.right.min(),i=i.copy(s.key,s.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,t,s,i,r){return this}insert(e,t,s){return new Jt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const i=s.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new V_(this.data.getIterator())}getIteratorFrom(e){return new V_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,r=s.getNext().key;if(this.comparator(i,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new qt(this.comparator);return t.data=e,t}}class V_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new us([])}unionWith(e){let t=new qt(Zt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new us(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ra(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new yb("Invalid base64 string: "+r):r}}(e);return new en(t)}static fromUint8Array(e){const t=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(e);return new en(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let i=0;i<t.length;i++)s[i]=t.charCodeAt(i);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const _O=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tr(n){if(rt(!!n,39018),typeof n=="string"){let e=0;const t=_O.exec(n);if(rt(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Nt(n.seconds),nanos:Nt(n.nanos)}}function Nt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function nr(n){return typeof n=="string"?en.fromBase64String(n):en.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="server_timestamp",bb="__type__",Tb="__previous_value__",wb="__local_write_time__";function Ep(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[bb])===null||t===void 0?void 0:t.stringValue)===Eb}function Ph(n){const e=n.mapValue.fields[Tb];return Ep(e)?Ph(e):e}function Hl(n){const e=tr(n.mapValue.fields[wb].timestampValue);return new Ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e,t,s,i,r,o,l,u,h,f){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=i,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=f}}const ju="(default)";class ql{constructor(e,t){this.projectId=e,this.database=t||ju}static empty(){return new ql("","")}get isDefaultDatabase(){return this.database===ju}isEqual(e){return e instanceof ql&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="__type__",yO="__max__",Qc={mapValue:{}},Ib="__vector__",Bu="value";function sr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ep(n)?4:bO(n)?9007199254740991:EO(n)?10:11:Ce(28295,{value:n})}function Fs(n,e){if(n===e)return!0;const t=sr(n);if(t!==sr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Hl(n).isEqual(Hl(e));case 3:return function(i,r){if(typeof i.timestampValue=="string"&&typeof r.timestampValue=="string"&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=tr(i.timestampValue),l=tr(r.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,r){return nr(i.bytesValue).isEqual(nr(r.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Nt(i.geoPointValue.latitude)===Nt(r.geoPointValue.latitude)&&Nt(i.geoPointValue.longitude)===Nt(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Nt(i.integerValue)===Nt(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=Nt(i.doubleValue),l=Nt(r.doubleValue);return o===l?Uu(o)===Uu(l):isNaN(o)&&isNaN(l)}return!1}(n,e);case 9:return ra(n.arrayValue.values||[],e.arrayValue.values||[],Fs);case 10:case 11:return function(i,r){const o=i.mapValue.fields||{},l=r.mapValue.fields||{};if(L_(o)!==L_(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!Fs(o[u],l[u])))return!1;return!0}(n,e);default:return Ce(52216,{left:n})}}function Wl(n,e){return(n.values||[]).find(t=>Fs(t,e))!==void 0}function oa(n,e){if(n===e)return 0;const t=sr(n),s=sr(e);if(t!==s)return Fe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fe(n.booleanValue,e.booleanValue);case 2:return function(r,o){const l=Nt(r.integerValue||r.doubleValue),u=Nt(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(n,e);case 3:return M_(n.timestampValue,e.timestampValue);case 4:return M_(Hl(n),Hl(e));case 5:return Cf(n.stringValue,e.stringValue);case 6:return function(r,o){const l=nr(r),u=nr(o);return l.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(r,o){const l=r.split("/"),u=o.split("/");for(let h=0;h<l.length&&h<u.length;h++){const f=Fe(l[h],u[h]);if(f!==0)return f}return Fe(l.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,o){const l=Fe(Nt(r.latitude),Nt(o.latitude));return l!==0?l:Fe(Nt(r.longitude),Nt(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return $_(n.arrayValue,e.arrayValue);case 10:return function(r,o){var l,u,h,f;const g=r.fields||{},v=o.fields||{},b=(l=g[Bu])===null||l===void 0?void 0:l.arrayValue,k=(u=v[Bu])===null||u===void 0?void 0:u.arrayValue,L=Fe(((h=b==null?void 0:b.values)===null||h===void 0?void 0:h.length)||0,((f=k==null?void 0:k.values)===null||f===void 0?void 0:f.length)||0);return L!==0?L:$_(b,k)}(n.mapValue,e.mapValue);case 11:return function(r,o){if(r===Qc.mapValue&&o===Qc.mapValue)return 0;if(r===Qc.mapValue)return 1;if(o===Qc.mapValue)return-1;const l=r.fields||{},u=Object.keys(l),h=o.fields||{},f=Object.keys(h);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){const v=Cf(u[g],f[g]);if(v!==0)return v;const b=oa(l[u[g]],h[f[g]]);if(b!==0)return b}return Fe(u.length,f.length)}(n.mapValue,e.mapValue);default:throw Ce(23264,{Pe:t})}}function M_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Fe(n,e);const t=tr(n),s=tr(e),i=Fe(t.seconds,s.seconds);return i!==0?i:Fe(t.nanos,s.nanos)}function $_(n,e){const t=n.values||[],s=e.values||[];for(let i=0;i<t.length&&i<s.length;++i){const r=oa(t[i],s[i]);if(r)return r}return Fe(t.length,s.length)}function aa(n){return Sf(n)}function Sf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const s=tr(t);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return nr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return be.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let s="[",i=!0;for(const r of t.values||[])i?i=!1:s+=",",s+=Sf(r);return s+"]"}(n.arrayValue):"mapValue"in n?function(t){const s=Object.keys(t.fields||{}).sort();let i="{",r=!0;for(const o of s)r?r=!1:i+=",",i+=`${o}:${Sf(t.fields[o])}`;return i+"}"}(n.mapValue):Ce(61005,{value:n})}function mu(n){switch(sr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ph(n);return e?16+mu(e):16;case 5:return 2*n.stringValue.length;case 6:return nr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((i,r)=>i+mu(r),0)}(n.arrayValue);case 10:case 11:return function(s){let i=0;return no(s.fields,(r,o)=>{i+=r.length+mu(o)}),i}(n.mapValue);default:throw Ce(13486,{value:n})}}function F_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Rf(n){return!!n&&"integerValue"in n}function bp(n){return!!n&&"arrayValue"in n}function U_(n){return!!n&&"nullValue"in n}function j_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gu(n){return!!n&&"mapValue"in n}function EO(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ab])===null||t===void 0?void 0:t.stringValue)===Ib}function Il(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return no(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Il(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Il(n.arrayValue.values[t]);return e}return Object.assign({},n)}function bO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===yO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.value=e}static empty(){return new Xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!gu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Il(t)}setAll(e){let t=Zt.emptyPath(),s={},i=[];e.forEach((o,l)=>{if(!t.isImmediateParentOf(l)){const u=this.getFieldsMap(t);this.applyChanges(u,s,i),s={},i=[],t=l.popLast()}o?s[l.lastSegment()]=Il(o):i.push(l.lastSegment())});const r=this.getFieldsMap(t);this.applyChanges(r,s,i)}delete(e){const t=this.field(e.popLast());gu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let i=t.mapValue.fields[e.get(s)];gu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,s){no(t,(i,r)=>e[i]=r);for(const i of s)delete e[i]}clone(){return new Xn(Il(this.value))}}function Cb(n){const e=[];return no(n.fields,(t,s)=>{const i=new Zt([t]);if(gu(s)){const r=Cb(s.mapValue).fields;if(r.length===0)e.push(i);else for(const o of r)e.push(i.child(o))}else e.push(i)}),new us(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,t,s,i,r,o,l){this.key=e,this.documentType=t,this.version=s,this.readTime=i,this.createTime=r,this.data=o,this.documentState=l}static newInvalidDocument(e){return new ln(e,0,Oe.min(),Oe.min(),Oe.min(),Xn.empty(),0)}static newFoundDocument(e,t,s,i){return new ln(e,1,t,Oe.min(),s,i,0)}static newNoDocument(e,t){return new ln(e,2,t,Oe.min(),Oe.min(),Xn.empty(),0)}static newUnknownDocument(e,t){return new ln(e,3,t,Oe.min(),Oe.min(),Xn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,t){this.position=e,this.inclusive=t}}function B_(n,e,t){let s=0;for(let i=0;i<n.position.length;i++){const r=e[i],o=n.position[i];if(r.field.isKeyField()?s=be.comparator(be.fromName(o.referenceValue),t.key):s=oa(o,t.data.field(r.field)),r.dir==="desc"&&(s*=-1),s!==0)break}return s}function H_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Fs(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,t="asc"){this.field=e,this.dir=t}}function TO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{}class Vt extends Sb{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new AO(e,t,s):t==="array-contains"?new SO(e,s):t==="in"?new RO(e,s):t==="not-in"?new PO(e,s):t==="array-contains-any"?new OO(e,s):new Vt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new IO(e,s):new CO(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(oa(t,this.value)):t!==null&&sr(this.value)===sr(t)&&this.matchesComparison(oa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ms extends Sb{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new ms(e,t)}matches(e){return Rb(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Rb(n){return n.op==="and"}function Pb(n){return wO(n)&&Rb(n)}function wO(n){for(const e of n.filters)if(e instanceof ms)return!1;return!0}function Pf(n){if(n instanceof Vt)return n.field.canonicalString()+n.op.toString()+aa(n.value);if(Pb(n))return n.filters.map(e=>Pf(e)).join(",");{const e=n.filters.map(t=>Pf(t)).join(",");return`${n.op}(${e})`}}function Ob(n,e){return n instanceof Vt?function(s,i){return i instanceof Vt&&s.op===i.op&&s.field.isEqual(i.field)&&Fs(s.value,i.value)}(n,e):n instanceof ms?function(s,i){return i instanceof ms&&s.op===i.op&&s.filters.length===i.filters.length?s.filters.reduce((r,o,l)=>r&&Ob(o,i.filters[l]),!0):!1}(n,e):void Ce(19439)}function Db(n){return n instanceof Vt?function(t){return`${t.field.canonicalString()} ${t.op} ${aa(t.value)}`}(n):n instanceof ms?function(t){return t.op.toString()+" {"+t.getFilters().map(Db).join(" ,")+"}"}(n):"Filter"}class AO extends Vt{constructor(e,t,s){super(e,t,s),this.key=be.fromName(s.referenceValue)}matches(e){const t=be.comparator(e.key,this.key);return this.matchesComparison(t)}}class IO extends Vt{constructor(e,t){super(e,"in",t),this.keys=Nb("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class CO extends Vt{constructor(e,t){super(e,"not-in",t),this.keys=Nb("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Nb(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>be.fromName(s.referenceValue))}class SO extends Vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return bp(t)&&Wl(t.arrayValue,this.value)}}class RO extends Vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Wl(this.value.arrayValue,t)}}class PO extends Vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Wl(this.value.arrayValue,t)}}class OO extends Vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!bp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Wl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,t=null,s=[],i=[],r=null,o=null,l=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=i,this.limit=r,this.startAt=o,this.endAt=l,this.Ie=null}}function q_(n,e=null,t=[],s=[],i=null,r=null,o=null){return new DO(n,e,t,s,i,r,o)}function Tp(n){const e=ke(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Pf(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(r){return r.field.canonicalString()+r.dir}(s)).join(","),Rh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>aa(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>aa(s)).join(",")),e.Ie=t}return e.Ie}function wp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!TO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Ob(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!H_(n.startAt,e.startAt)&&H_(n.endAt,e.endAt)}function Of(n){return be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,t=null,s=[],i=[],r=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=i,this.limit=r,this.limitType=o,this.startAt=l,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function NO(n,e,t,s,i,r,o,l){return new Aa(n,e,t,s,i,r,o,l)}function kb(n){return new Aa(n)}function W_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function xb(n){return n.collectionGroup!==null}function Cl(n){const e=ke(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const r of e.explicitOrderBy)e.Ee.push(r),t.add(r.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new qt(Zt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(r=>{t.has(r.canonicalString())||r.isKeyField()||e.Ee.push(new zl(r,s))}),t.has(Zt.keyField().canonicalString())||e.Ee.push(new zl(Zt.keyField(),s))}return e.Ee}function Ns(n){const e=ke(n);return e.de||(e.de=kO(e,Cl(n))),e.de}function kO(n,e){if(n.limitType==="F")return q_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const r=i.dir==="desc"?"asc":"desc";return new zl(i.field,r)});const t=n.endAt?new Hu(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Hu(n.startAt.position,n.startAt.inclusive):null;return q_(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function Df(n,e){const t=n.filters.concat([e]);return new Aa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function qu(n,e,t){return new Aa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Oh(n,e){return wp(Ns(n),Ns(e))&&n.limitType===e.limitType}function Lb(n){return`${Tp(Ns(n))}|lt:${n.limitType}`}function Lo(n){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(i=>Db(i)).join(", ")}]`),Rh(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(i=>aa(i)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(i=>aa(i)).join(",")),`Target(${s})`}(Ns(n))}; limitType=${n.limitType})`}function Dh(n,e){return e.isFoundDocument()&&function(s,i){const r=i.key.path;return s.collectionGroup!==null?i.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(r):be.isDocumentKey(s.path)?s.path.isEqual(r):s.path.isImmediateParentOf(r)}(n,e)&&function(s,i){for(const r of Cl(s))if(!r.field.isKeyField()&&i.data.field(r.field)===null)return!1;return!0}(n,e)&&function(s,i){for(const r of s.filters)if(!r.matches(i))return!1;return!0}(n,e)&&function(s,i){return!(s.startAt&&!function(o,l,u){const h=B_(o,l,u);return o.inclusive?h<=0:h<0}(s.startAt,Cl(s),i)||s.endAt&&!function(o,l,u){const h=B_(o,l,u);return o.inclusive?h>=0:h>0}(s.endAt,Cl(s),i))}(n,e)}function xO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Vb(n){return(e,t)=>{let s=!1;for(const i of Cl(n)){const r=LO(i,e,t);if(r!==0)return r;s=s||i.field.isKeyField()}return 0}}function LO(n,e,t){const s=n.field.isKeyField()?be.comparator(e.key,t.key):function(r,o,l){const u=o.data.field(r),h=l.data.field(r);return u!==null&&h!==null?oa(u,h):Ce(42886)}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Ce(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[i,r]of s)if(this.equalsFn(i,e))return r}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),i=this.inner[s];if(i===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return void(i[r]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return s.length===1?delete this.inner[t]:s.splice(i,1),this.innerSize--,!0;return!1}forEach(e){no(this.inner,(t,s)=>{for(const[i,r]of s)e(i,r)})}isEmpty(){return vb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=new It(be.comparator);function fi(){return VO}const Mb=new It(be.comparator);function pl(...n){let e=Mb;for(const t of n)e=e.insert(t.key,t);return e}function $b(n){let e=Mb;return n.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Fr(){return Sl()}function Fb(){return Sl()}function Sl(){return new so(n=>n.toString(),(n,e)=>n.isEqual(e))}const MO=new It(be.comparator),$O=new qt(be.comparator);function We(...n){let e=$O;for(const t of n)e=e.add(t);return e}const FO=new qt(Fe);function UO(){return FO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uu(e)?"-0":e}}function Ub(n){return{integerValue:""+n}}function jO(n,e){return pO(e)?Ub(e):Ap(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(){this._=void 0}}function BO(n,e,t){return n instanceof Wu?function(i,r){const o={fields:{[bb]:{stringValue:Eb},[wb]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&Ep(r)&&(r=Ph(r)),r&&(o.fields[Tb]=r),{mapValue:o}}(t,e):n instanceof Kl?Bb(n,e):n instanceof Gl?Hb(n,e):function(i,r){const o=jb(i,r),l=z_(o)+z_(i.Re);return Rf(o)&&Rf(i.Re)?Ub(l):Ap(i.serializer,l)}(n,e)}function HO(n,e,t){return n instanceof Kl?Bb(n,e):n instanceof Gl?Hb(n,e):t}function jb(n,e){return n instanceof zu?function(s){return Rf(s)||function(r){return!!r&&"doubleValue"in r}(s)}(e)?e:{integerValue:0}:null}class Wu extends Nh{}class Kl extends Nh{constructor(e){super(),this.elements=e}}function Bb(n,e){const t=qb(e);for(const s of n.elements)t.some(i=>Fs(i,s))||t.push(s);return{arrayValue:{values:t}}}class Gl extends Nh{constructor(e){super(),this.elements=e}}function Hb(n,e){let t=qb(e);for(const s of n.elements)t=t.filter(i=>!Fs(i,s));return{arrayValue:{values:t}}}class zu extends Nh{constructor(e,t){super(),this.serializer=e,this.Re=t}}function z_(n){return Nt(n.integerValue||n.doubleValue)}function qb(n){return bp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function qO(n,e){return n.field.isEqual(e.field)&&function(s,i){return s instanceof Kl&&i instanceof Kl||s instanceof Gl&&i instanceof Gl?ra(s.elements,i.elements,Fs):s instanceof zu&&i instanceof zu?Fs(s.Re,i.Re):s instanceof Wu&&i instanceof Wu}(n.transform,e.transform)}class WO{constructor(e,t){this.version=e,this.transformResults=t}}class ai{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ai}static exists(e){return new ai(void 0,e)}static updateTime(e){return new ai(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _u(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class kh{}function Wb(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Kb(n.key,ai.none()):new sc(n.key,n.data,ai.none());{const t=n.data,s=Xn.empty();let i=new qt(Zt.comparator);for(let r of e.fields)if(!i.has(r)){let o=t.field(r);o===null&&r.length>1&&(r=r.popLast(),o=t.field(r)),o===null?s.delete(r):s.set(r,o),i=i.add(r)}return new io(n.key,s,new us(i.toArray()),ai.none())}}function zO(n,e,t){n instanceof sc?function(i,r,o){const l=i.value.clone(),u=G_(i.fieldTransforms,r,o.transformResults);l.setAll(u),r.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):n instanceof io?function(i,r,o){if(!_u(i.precondition,r))return void r.convertToUnknownDocument(o.version);const l=G_(i.fieldTransforms,r,o.transformResults),u=r.data;u.setAll(zb(i)),u.setAll(l),r.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):function(i,r,o){r.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function Rl(n,e,t,s){return n instanceof sc?function(r,o,l,u){if(!_u(r.precondition,o))return l;const h=r.value.clone(),f=Y_(r.fieldTransforms,u,o);return h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(n,e,t,s):n instanceof io?function(r,o,l,u){if(!_u(r.precondition,o))return l;const h=Y_(r.fieldTransforms,u,o),f=o.data;return f.setAll(zb(r)),f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(g=>g.field))}(n,e,t,s):function(r,o,l){return _u(r.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(n,e,t)}function KO(n,e){let t=null;for(const s of n.fieldTransforms){const i=e.data.field(s.field),r=jb(s.transform,i||null);r!=null&&(t===null&&(t=Xn.empty()),t.set(s.field,r))}return t||null}function K_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(s,i){return s===void 0&&i===void 0||!(!s||!i)&&ra(s,i,(r,o)=>qO(r,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class sc extends kh{constructor(e,t,s,i=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class io extends kh{constructor(e,t,s,i,r=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function zb(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function G_(n,e,t){const s=new Map;rt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const r=n[i],o=r.transform,l=e.data.field(r.field);s.set(r.field,HO(o,l,t[i]))}return s}function Y_(n,e,t){const s=new Map;for(const i of n){const r=i.transform,o=t.data.field(i.field);s.set(i.field,BO(r,o,e))}return s}class Kb extends kh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GO extends kh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e,t,s,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=i}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const r=this.mutations[i];r.key.isEqual(e.key)&&zO(r,e,s[i])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Rl(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Rl(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Fb();return this.mutations.forEach(i=>{const r=e.get(i.key),o=r.overlayedDocument;let l=this.applyToLocalView(o,r.mutatedFields);l=t.has(i.key)?null:l;const u=Wb(o,l);u!==null&&s.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Oe.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),We())}isEqual(e){return this.batchId===e.batchId&&ra(this.mutations,e.mutations,(t,s)=>K_(t,s))&&ra(this.baseMutations,e.baseMutations,(t,s)=>K_(t,s))}}class Ip{constructor(e,t,s,i){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=i}static from(e,t,s){rt(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let i=function(){return MO}();const r=e.mutations;for(let o=0;o<r.length;o++)i=i.insert(r[o].key,s[o].version);return new Ip(e,t,s,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,Ge;function JO(n){switch(n){case J.OK:return Ce(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ce(15467,{code:n})}}function Gb(n){if(n===void 0)return di("GRPC error has no .code"),J.UNKNOWN;switch(n){case Lt.OK:return J.OK;case Lt.CANCELLED:return J.CANCELLED;case Lt.UNKNOWN:return J.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return J.INTERNAL;case Lt.UNAVAILABLE:return J.UNAVAILABLE;case Lt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Lt.NOT_FOUND:return J.NOT_FOUND;case Lt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Lt.ABORTED:return J.ABORTED;case Lt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Lt.DATA_LOSS:return J.DATA_LOSS;default:return Ce(39323,{code:n})}}(Ge=Lt||(Lt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=new Qi([4294967295,4294967295],0);function Q_(n){const e=mb().encode(n),t=new ab;return t.update(e),new Uint8Array(t.digest())}function X_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),i=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new Qi([t,s],0),new Qi([i,r],0)]}class Cp{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new ml(`Invalid padding: ${t}`);if(s<0)throw new ml(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ml(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new ml(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Qi.fromNumber(this.pe)}we(e,t,s){let i=e.add(t.multiply(Qi.fromNumber(s)));return i.compare(ZO)===1&&(i=new Qi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=Q_(e),[s,i]=X_(t);for(let r=0;r<this.hashCount;r++){const o=this.we(s,i,r);if(!this.be(o))return!1}return!0}static create(e,t,s){const i=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),o=new Cp(r,i,t);return s.forEach(l=>o.insert(l)),o}insert(e){if(this.pe===0)return;const t=Q_(e),[s,i]=X_(t);for(let r=0;r<this.hashCount;r++){const o=this.we(s,i,r);this.Se(o)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,t,s,i,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const i=new Map;return i.set(e,ic.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new xh(Oe.min(),i,new It(Fe),fi(),We())}}class ic{constructor(e,t,s,i,r){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new ic(s,t,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,t,s,i){this.De=e,this.removedTargetIds=t,this.key=s,this.ve=i}}class Yb{constructor(e,t){this.targetId=e,this.Ce=t}}class Qb{constructor(e,t,s=en.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=i}}class J_{constructor(){this.Fe=0,this.Me=Z_(),this.xe=en.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=We(),t=We(),s=We();return this.Me.forEach((i,r)=>{switch(r){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:s=s.add(i);break;default:Ce(38017,{changeType:r})}}),new ic(this.xe,this.Oe,e,t,s)}Qe(){this.Ne=!1,this.Me=Z_()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,rt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class e1{constructor(e){this.ze=e,this.je=new Map,this.He=fi(),this.Je=Xc(),this.Ye=Xc(),this.Ze=new It(Fe)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const s=this.rt(t);switch(e.state){case 0:this.it(t)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(t);break;case 3:this.it(t)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),s.ke(e.resumeToken));break;default:Ce(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((s,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,s=e.Ce.count,i=this._t(t);if(i){const r=i.target;if(Of(r))if(s===0){const o=new be(r.path);this.tt(t,o,ln.newNoDocument(o,Oe.min()))}else rt(s===1,20013,{expectedCount:s});else{const o=this.ut(t);if(o!==s){const l=this.ct(e),u=l?this.lt(l,e,o):1;if(u!==0){this.st(t);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,h)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:i=0},hashCount:r=0}=t;let o,l;try{o=nr(s).toUint8Array()}catch(u){if(u instanceof yb)return ia("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Cp(o,i,r)}catch(u){return ia(u instanceof ml?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.pe===0?null:l}lt(e,t,s){return t.Ce.count===s-this.Tt(e,t.targetId)?0:2}Tt(e,t){const s=this.ze.getRemoteKeysForTarget(t);let i=0;return s.forEach(r=>{const o=this.ze.Pt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${r.path.canonicalString()}`;e.mightContain(l)||(this.tt(t,r,null),i++)}),i}It(e){const t=new Map;this.je.forEach((r,o)=>{const l=this._t(o);if(l){if(r.current&&Of(l.target)){const u=new be(l.target.path);this.Et(u).has(o)||this.dt(o,u)||this.tt(o,u,ln.newNoDocument(u,e))}r.Le&&(t.set(o,r.qe()),r.Qe())}});let s=We();this.Ye.forEach((r,o)=>{let l=!0;o.forEachWhile(u=>{const h=this._t(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(s=s.add(r))}),this.He.forEach((r,o)=>o.setReadTime(e));const i=new xh(e,t,this.Ze,this.He,s);return this.He=fi(),this.Je=Xc(),this.Ye=Xc(),this.Ze=new It(Fe),i}et(e,t){if(!this.it(e))return;const s=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,s),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,s){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),s&&(this.He=this.He.insert(t,s))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new J_,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new qt(Fe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new qt(Fe),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new J_),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Xc(){return new It(be.comparator)}function Z_(){return new It(be.comparator)}const t1={asc:"ASCENDING",desc:"DESCENDING"},n1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},s1={and:"AND",or:"OR"};class i1{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Nf(n,e){return n.useProto3Json||Rh(e)?e:{value:e}}function Ku(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xb(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function r1(n,e){return Ku(n,e.toTimestamp())}function ks(n){return rt(!!n,49232),Oe.fromTimestamp(function(t){const s=tr(t);return new Ht(s.seconds,s.nanos)}(n))}function Sp(n,e){return kf(n,e).canonicalString()}function kf(n,e){const t=function(i){return new Et(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Jb(n){const e=Et.fromString(n);return rt(sT(e),10190,{key:e.toString()}),e}function xf(n,e){return Sp(n.databaseId,e.path)}function Md(n,e){const t=Jb(e);if(t.get(1)!==n.databaseId.projectId)throw new _e(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new _e(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new be(eT(t))}function Zb(n,e){return Sp(n.databaseId,e)}function o1(n){const e=Jb(n);return e.length===4?Et.emptyPath():eT(e)}function Lf(n){return new Et(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function eT(n){return rt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function ev(n,e,t){return{name:xf(n,e),fields:t.value.mapValue.fields}}function a1(n,e){let t;if("targetChange"in e){e.targetChange;const s=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ce(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],r=function(h,f){return h.useProto3Json?(rt(f===void 0||typeof f=="string",58123),en.fromBase64String(f||"")):(rt(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),en.fromUint8Array(f||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(h){const f=h.code===void 0?J.UNKNOWN:Gb(h.code);return new _e(f,h.message||"")}(o);t=new Qb(s,i,r,l||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const i=Md(n,s.document.name),r=ks(s.document.updateTime),o=s.document.createTime?ks(s.document.createTime):Oe.min(),l=new Xn({mapValue:{fields:s.document.fields}}),u=ln.newFoundDocument(i,r,o,l),h=s.targetIds||[],f=s.removedTargetIds||[];t=new vu(h,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const i=Md(n,s.document),r=s.readTime?ks(s.readTime):Oe.min(),o=ln.newNoDocument(i,r),l=s.removedTargetIds||[];t=new vu([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const i=Md(n,s.document),r=s.removedTargetIds||[];t=new vu([],r,i,null)}else{if(!("filter"in e))return Ce(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:i=0,unchangedNames:r}=s,o=new XO(i,r),l=s.targetId;t=new Yb(l,o)}}return t}function l1(n,e){let t;if(e instanceof sc)t={update:ev(n,e.key,e.value)};else if(e instanceof Kb)t={delete:xf(n,e.key)};else if(e instanceof io)t={update:ev(n,e.key,e.data),updateMask:_1(e.fieldMask)};else{if(!(e instanceof GO))return Ce(16599,{ft:e.type});t={verify:xf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(r,o){const l=o.transform;if(l instanceof Wu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Kl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Gl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof zu)return{fieldPath:o.field.canonicalString(),increment:l.Re};throw Ce(20930,{transform:o.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(i,r){return r.updateTime!==void 0?{updateTime:r1(i,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:Ce(27497)}(n,e.precondition)),t}function c1(n,e){return n&&n.length>0?(rt(e!==void 0,14353),n.map(t=>function(i,r){let o=i.updateTime?ks(i.updateTime):ks(r);return o.isEqual(Oe.min())&&(o=ks(r)),new WO(o,i.transformResults||[])}(t,e))):[]}function u1(n,e){return{documents:[Zb(n,e.path)]}}function h1(n,e){const t={structuredQuery:{}},s=e.path;let i;e.collectionGroup!==null?(i=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Zb(n,i);const r=function(h){if(h.length!==0)return nT(ms.create(h,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(h){if(h.length!==0)return h.map(f=>function(v){return{field:Vo(v.field),direction:p1(v.dir)}}(f))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const l=Nf(n,e.limit);return l!==null&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:t,parent:i}}function d1(n){let e=o1(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let i=null;if(s>0){rt(s===1,65062);const f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let r=[];t.where&&(r=function(g){const v=tT(g);return v instanceof ms&&Pb(v)?v.getFilters():[v]}(t.where));let o=[];t.orderBy&&(o=function(g){return g.map(v=>function(k){return new zl(Mo(k.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(v))}(t.orderBy));let l=null;t.limit&&(l=function(g){let v;return v=typeof g=="object"?g.value:g,Rh(v)?null:v}(t.limit));let u=null;t.startAt&&(u=function(g){const v=!!g.before,b=g.values||[];return new Hu(b,v)}(t.startAt));let h=null;return t.endAt&&(h=function(g){const v=!g.before,b=g.values||[];return new Hu(b,v)}(t.endAt)),NO(e,i,o,r,l,"F",u,h)}function f1(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function tT(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Mo(t.unaryFilter.field);return Vt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const i=Mo(t.unaryFilter.field);return Vt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Mo(t.unaryFilter.field);return Vt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Mo(t.unaryFilter.field);return Vt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}}(n):n.fieldFilter!==void 0?function(t){return Vt.create(Mo(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ms.create(t.compositeFilter.filters.map(s=>tT(s)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}}(t.compositeFilter.op))}(n):Ce(30097,{filter:n})}function p1(n){return t1[n]}function m1(n){return n1[n]}function g1(n){return s1[n]}function Vo(n){return{fieldPath:n.canonicalString()}}function Mo(n){return Zt.fromServerFormat(n.fieldPath)}function nT(n){return n instanceof Vt?function(t){if(t.op==="=="){if(j_(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NAN"}};if(U_(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(j_(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NOT_NAN"}};if(U_(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vo(t.field),op:m1(t.op),value:t.value}}}(n):n instanceof ms?function(t){const s=t.getFilters().map(i=>nT(i));return s.length===1?s[0]:{compositeFilter:{op:g1(t.op),filters:s}}}(n):Ce(54877,{filter:n})}function _1(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function sT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,t,s,i,r=Oe.min(),o=Oe.min(),l=en.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Wi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e){this.wt=e}}function y1(n){const e=d1({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?qu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(){this.Cn=new b1}addToCollectionParentIndex(e,t){return this.Cn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(er.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(er.min())}updateCollectionGroup(e,t,s){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class b1{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),i=this.index[t]||new qt(Et.comparator),r=!i.has(s);return this.index[t]=i.add(s),r}has(e){const t=e.lastSegment(),s=e.popLast(),i=this.index[t];return i&&i.has(s)}getEntries(e){return(this.index[e]||new qt(Et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iT=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(iT,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new la(0)}static lr(){return new la(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="LruGarbageCollector",T1=1048576;function sv([n,e],[t,s]){const i=Fe(n,t);return i===0?Fe(e,s):i}class w1{constructor(e){this.Er=e,this.buffer=new qt(sv),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();sv(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class A1{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){de(nv,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){wa(t)?de(nv,"Ignoring IndexedDB error during garbage collection: ",t):await Ta(t)}await this.mr(3e5)})}}class I1{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return X.resolve(Sh.le);const s=new w1(t);return this.gr.forEachTarget(e,i=>s.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>s.Rr(i))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.gr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(tv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tv):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let s,i,r,o,l,u,h;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,o=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(s=g,l=Date.now(),this.removeTargets(e,s,t))).next(g=>(r=g,u=Date.now(),this.removeOrphanedDocuments(e,s))).next(g=>(h=Date.now(),xo()<=qe.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${r} targets in `+(u-l)+`ms
	Removed ${g} documents in `+(h-u)+`ms
Total Duration: ${h-f}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:g})))}}function C1(n,e){return new I1(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(){this.changes=new so(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?X.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,t,s,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=i}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(s=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(s!==null&&Rl(s.mutation,i,us.empty(),Ht.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,We()).next(()=>s))}getLocalViewOfDocuments(e,t,s=We()){const i=Fr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,s).next(r=>{let o=pl();return r.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const s=Fr();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,We()))}populateOverlays(e,t,s){const i=[];return s.forEach(r=>{t.has(r)||i.push(r)}),this.documentOverlayCache.getOverlays(e,i).next(r=>{r.forEach((o,l)=>{t.set(o,l)})})}computeViews(e,t,s,i){let r=fi();const o=Sl(),l=function(){return Sl()}();return t.forEach((u,h)=>{const f=s.get(h.key);i.has(h.key)&&(f===void 0||f.mutation instanceof io)?r=r.insert(h.key,h):f!==void 0?(o.set(h.key,f.mutation.getFieldMask()),Rl(f.mutation,h,f.mutation.getFieldMask(),Ht.now())):o.set(h.key,us.empty())}),this.recalculateAndSaveOverlays(e,r).next(u=>(u.forEach((h,f)=>o.set(h,f)),t.forEach((h,f)=>{var g;return l.set(h,new R1(f,(g=o.get(h))!==null&&g!==void 0?g:null))}),l))}recalculateAndSaveOverlays(e,t){const s=Sl();let i=new It((o,l)=>o-l),r=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const l of o)l.keys().forEach(u=>{const h=t.get(u);if(h===null)return;let f=s.get(u)||us.empty();f=l.applyToLocalView(h,f),s.set(u,f);const g=(i.get(l.batchId)||We()).add(u);i=i.insert(l.batchId,g)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,f=u.value,g=Fb();f.forEach(v=>{if(!r.has(v)){const b=Wb(t.get(v),s.get(v));b!==null&&g.set(v,b),r=r.add(v)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,g))}return X.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,i){return function(o){return be.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):xb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,i):this.getDocumentsMatchingCollectionQuery(e,t,s,i)}getNextDocuments(e,t,s,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,i).next(r=>{const o=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,i-r.size):X.resolve(Fr());let l=Bl,u=r;return o.next(h=>X.forEach(h,(f,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),r.get(f)?X.resolve():this.remoteDocumentCache.getEntry(e,f).next(v=>{u=u.insert(f,v)}))).next(()=>this.populateOverlays(e,h,r)).next(()=>this.computeViews(e,u,h,We())).next(f=>({batchId:l,changes:$b(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new be(t)).next(s=>{let i=pl();return s.isFoundDocument()&&(i=i.insert(s.key,s)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,s,i){const r=t.collectionGroup;let o=pl();return this.indexManager.getCollectionParents(e,r).next(l=>X.forEach(l,u=>{const h=function(g,v){return new Aa(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,u.child(r));return this.getDocumentsMatchingCollectionQuery(e,h,s,i).next(f=>{f.forEach((g,v)=>{o=o.insert(g,v)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,s,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,r,i))).next(o=>{r.forEach((u,h)=>{const f=h.getKey();o.get(f)===null&&(o=o.insert(f,ln.newInvalidDocument(f)))});let l=pl();return o.forEach((u,h)=>{const f=r.get(u);f!==void 0&&Rl(f.mutation,h,us.empty(),Ht.now()),Dh(t,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return X.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:ks(i.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:y1(i.bundledQuery),readTime:ks(i.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(){this.overlays=new It(be.comparator),this.Qr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Fr();return X.forEach(t,i=>this.getOverlay(e,i).next(r=>{r!==null&&s.set(i,r)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((i,r)=>{this.St(e,t,r)}),X.resolve()}removeOverlaysForBatchId(e,t,s){const i=this.Qr.get(s);return i!==void 0&&(i.forEach(r=>this.overlays=this.overlays.remove(r)),this.Qr.delete(s)),X.resolve()}getOverlaysForCollection(e,t,s){const i=Fr(),r=t.length+1,o=new be(t.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===r&&u.largestBatchId>s&&i.set(u.getKey(),u)}return X.resolve(i)}getOverlaysForCollectionGroup(e,t,s,i){let r=new It((h,f)=>h-f);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>s){let f=r.get(h.largestBatchId);f===null&&(f=Fr(),r=r.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const l=Fr(),u=r.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,f)=>l.set(h,f)),!(l.size()>=i)););return X.resolve(l)}St(e,t,s){const i=this.overlays.get(s.key);if(i!==null){const o=this.Qr.get(i.largestBatchId).delete(s.key);this.Qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new QO(t,s));let r=this.Qr.get(t);r===void 0&&(r=We(),this.Qr.set(t,r)),this.Qr.set(t,r.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(){this.$r=new qt(Qt.Ur),this.Kr=new qt(Qt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const s=new Qt(e,t);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.zr(new Qt(e,t))}jr(e,t){e.forEach(s=>this.removeReference(s,t))}Hr(e){const t=new be(new Et([])),s=new Qt(t,e),i=new Qt(t,e+1),r=[];return this.Kr.forEachInRange([s,i],o=>{this.zr(o),r.push(o.key)}),r}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new be(new Et([])),s=new Qt(t,e),i=new Qt(t,e+1);let r=We();return this.Kr.forEachInRange([s,i],o=>{r=r.add(o.key)}),r}containsKey(e){const t=new Qt(e,0),s=this.$r.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Qt{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return be.comparator(e.key,t.key)||Fe(e.Zr,t.Zr)}static Wr(e,t){return Fe(e.Zr,t.Zr)||be.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new qt(Qt.Ur)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,i){const r=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new YO(r,t,s,i);this.mutationQueue.push(o);for(const l of i)this.Xr=this.Xr.add(new Qt(l.key,r)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return X.resolve(o)}lookupMutationBatch(e,t){return X.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,i=this.ti(s),r=i<0?0:i;return X.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?yp:this.nr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Qt(t,0),i=new Qt(t,Number.POSITIVE_INFINITY),r=[];return this.Xr.forEachInRange([s,i],o=>{const l=this.ei(o.Zr);r.push(l)}),X.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new qt(Fe);return t.forEach(i=>{const r=new Qt(i,0),o=new Qt(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([r,o],l=>{s=s.add(l.Zr)})}),X.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,i=s.length+1;let r=s;be.isDocumentKey(r)||(r=r.child(""));const o=new Qt(new be(r),0);let l=new qt(Fe);return this.Xr.forEachWhile(u=>{const h=u.key.path;return!!s.isPrefixOf(h)&&(h.length===i&&(l=l.add(u.Zr)),!0)},o),X.resolve(this.ni(l))}ni(e){const t=[];return e.forEach(s=>{const i=this.ei(s);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){rt(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return X.forEach(t.mutations,i=>{const r=new Qt(i.key,t.batchId);return s=s.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,t){const s=new Qt(t,0),i=this.Xr.firstAfterOrEqual(s);return X.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){this.ii=e,this.docs=function(){return new It(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,i=this.docs.get(s),r=i?i.size:0,o=this.ii(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return X.resolve(s?s.document.mutableCopy():ln.newInvalidDocument(t))}getEntries(e,t){let s=fi();return t.forEach(i=>{const r=this.docs.get(i);s=s.insert(i,r?r.document.mutableCopy():ln.newInvalidDocument(i))}),X.resolve(s)}getDocumentsMatchingQuery(e,t,s,i){let r=fi();const o=t.path,l=new be(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:f}}=u.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||uO(cO(f),s)<=0||(i.has(f.key)||Dh(t,f))&&(r=r.insert(f.key,f.mutableCopy()))}return X.resolve(r)}getAllFromCollectionGroup(e,t,s,i){Ce(9500)}si(e,t){return X.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new L1(this)}getSize(e){return X.resolve(this.size)}}class L1 extends S1{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((s,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(s)}),X.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e){this.persistence=e,this.oi=new so(t=>Tp(t),wp),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this._i=0,this.ai=new Rp,this.targetCount=0,this.ui=la.cr()}forEachTarget(e,t){return this.oi.forEach((s,i)=>t(i)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this._i&&(this._i=t),X.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new la(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Tr(t),X.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,s){let i=0;const r=[];return this.oi.forEach((o,l)=>{l.sequenceNumber<=t&&s.get(l.targetId)===null&&(this.oi.delete(o),r.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),X.waitFor(r).next(()=>i)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const s=this.oi.get(t)||null;return X.resolve(s)}addMatchingKeys(e,t,s){return this.ai.Gr(t,s),X.resolve()}removeMatchingKeys(e,t,s){this.ai.jr(t,s);const i=this.persistence.referenceDelegate,r=[];return i&&t.forEach(o=>{r.push(i.markPotentiallyOrphaned(e,o))}),X.waitFor(r)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ai.Yr(t);return X.resolve(s)}containsKey(e,t){return X.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,t){this.ci={},this.overlays={},this.li=new Sh(0),this.hi=!1,this.hi=!0,this.Pi=new N1,this.referenceDelegate=e(this),this.Ti=new V1(this),this.indexManager=new E1,this.remoteDocumentCache=function(i){return new x1(i)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new v1(t),this.Ei=new O1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new D1,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ci[e.toKey()];return s||(s=new k1(t,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,s){de("MemoryPersistence","Starting transaction:",e);const i=new M1(this.li.next());return this.referenceDelegate.di(),s(i).next(r=>this.referenceDelegate.Ai(i).next(()=>r)).toPromise().then(r=>(i.raiseOnCommittedEvent(),r))}Ri(e,t){return X.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,t)))}}class M1 extends dO{constructor(e){super(),this.currentSequenceNumber=e}}class Pp{constructor(e){this.persistence=e,this.Vi=new Rp,this.mi=null}static fi(e){return new Pp(e)}get gi(){if(this.mi)return this.mi;throw Ce(60996)}addReference(e,t,s){return this.Vi.addReference(s,t),this.gi.delete(s.toString()),X.resolve()}removeReference(e,t,s){return this.Vi.removeReference(s,t),this.gi.add(s.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),X.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(r=>this.gi.add(r.toString()))}).next(()=>s.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.gi,s=>{const i=be.fromPath(s);return this.pi(e,i).next(r=>{r||t.removeEntry(i,Oe.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(s=>{s?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return X.or([()=>X.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Gu{constructor(e,t){this.persistence=e,this.yi=new so(s=>mO(s.path),(s,i)=>s.isEqual(i)),this.garbageCollector=C1(this,t)}static fi(e,t){return new Gu(e,t)}di(){}Ai(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(i=>s+i))}br(e){let t=0;return this.yr(e,s=>{t++}).next(()=>t)}yr(e,t){return X.forEach(this.yi,(s,i)=>this.Dr(e,s,i).next(r=>r?X.resolve():t(i)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const i=this.persistence.getRemoteDocumentCache(),r=i.newChangeBuffer();return i.si(e,o=>this.Dr(e,o,t).next(l=>{l||(s++,r.removeEntry(o,Oe.min()))})).next(()=>r.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.yi.set(s,e.currentSequenceNumber),X.resolve()}removeReference(e,t,s){return this.yi.set(s,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),X.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=mu(e.data.value)),t}Dr(e,t,s){return X.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.yi.get(t);return X.resolve(i!==void 0&&i>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,t,s,i){this.targetId=e,this.fromCache=t,this.ds=s,this.As=i}static Rs(e,t){let s=We(),i=We();for(const r of t.docChanges)switch(r.type){case 0:s=s.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new Op(e,t.fromCache,s,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return LR()?8:fO(dn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,s,i){const r={result:null};return this.ws(e,t).next(o=>{r.result=o}).next(()=>{if(!r.result)return this.bs(e,t,i,s).next(o=>{r.result=o})}).next(()=>{if(r.result)return;const o=new $1;return this.Ss(e,t,o).next(l=>{if(r.result=l,this.fs)return this.Ds(e,t,o,l.size)})}).next(()=>r.result)}Ds(e,t,s,i){return s.documentReadCount<this.gs?(xo()<=qe.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Lo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),X.resolve()):(xo()<=qe.DEBUG&&de("QueryEngine","Query:",Lo(t),"scans",s.documentReadCount,"local documents and returns",i,"documents as results."),s.documentReadCount>this.ps*i?(xo()<=qe.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Lo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ns(t))):X.resolve())}ws(e,t){if(W_(t))return X.resolve(null);let s=Ns(t);return this.indexManager.getIndexType(e,s).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=qu(t,null,"F"),s=Ns(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(r=>{const o=We(...r);return this.ys.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,s).next(u=>{const h=this.vs(t,l);return this.Cs(t,h,o,u.readTime)?this.ws(e,qu(t,null,"F")):this.Fs(e,h,t,u)}))})))}bs(e,t,s,i){return W_(t)||i.isEqual(Oe.min())?X.resolve(null):this.ys.getDocuments(e,s).next(r=>{const o=this.vs(t,r);return this.Cs(t,o,s,i)?X.resolve(null):(xo()<=qe.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Lo(t)),this.Fs(e,o,t,lO(i,Bl)).next(l=>l))})}vs(e,t){let s=new qt(Vb(e));return t.forEach((i,r)=>{Dh(e,r)&&(s=s.add(r))}),s}Cs(e,t,s,i){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const r=e.limitType==="F"?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Ss(e,t,s){return xo()<=qe.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Lo(t)),this.ys.getDocumentsMatchingQuery(e,t,er.min(),s)}Fs(e,t,s,i){return this.ys.getDocumentsMatchingQuery(e,s,i).next(r=>(t.forEach(o=>{r=r.insert(o.key,o)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp="LocalStore",U1=3e8;class j1{constructor(e,t,s,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new It(Fe),this.Os=new so(r=>Tp(r),wp),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new P1(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function B1(n,e,t,s){return new j1(n,e,t,s)}async function oT(n,e){const t=ke(n);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let i;return t.mutationQueue.getAllMutationBatches(s).next(r=>(i=r,t.Ls(e),t.mutationQueue.getAllMutationBatches(s))).next(r=>{const o=[],l=[];let u=We();for(const h of i){o.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}for(const h of r){l.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}return t.localDocuments.getDocuments(s,u).next(h=>({ks:h,removedBatchIds:o,addedBatchIds:l}))})})}function H1(n,e){const t=ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const i=e.batch.keys(),r=t.Bs.newChangeBuffer({trackRemovals:!0});return function(l,u,h,f){const g=h.batch,v=g.keys();let b=X.resolve();return v.forEach(k=>{b=b.next(()=>f.getEntry(u,k)).next(L=>{const $=h.docVersions.get(k);rt($!==null,48541),L.version.compareTo($)<0&&(g.applyToRemoteDocument(L,h),L.isValidDocument()&&(L.setReadTime(h.commitVersion),f.addEntry(L)))})}),b.next(()=>l.mutationQueue.removeMutationBatch(u,g))}(t,s,e,r).next(()=>r.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(l){let u=We();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(e))).next(()=>t.localDocuments.getDocuments(s,i))})}function aT(n){const e=ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function q1(n,e){const t=ke(n),s=e.snapshotVersion;let i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const o=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;const l=[];e.targetChanges.forEach((f,g)=>{const v=i.get(g);if(!v)return;l.push(t.Ti.removeMatchingKeys(r,f.removedDocuments,g).next(()=>t.Ti.addMatchingKeys(r,f.addedDocuments,g)));let b=v.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(g)!==null?b=b.withResumeToken(en.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):f.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(f.resumeToken,s)),i=i.insert(g,b),function(L,$,U){return L.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=U1?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(v,b,f)&&l.push(t.Ti.updateTargetData(r,b))});let u=fi(),h=We();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(t.persistence.referenceDelegate.updateLimboDocument(r,f))}),l.push(W1(r,o,e.documentUpdates).next(f=>{u=f.qs,h=f.Qs})),!s.isEqual(Oe.min())){const f=t.Ti.getLastRemoteSnapshotVersion(r).next(g=>t.Ti.setTargetsMetadata(r,r.currentSequenceNumber,s));l.push(f)}return X.waitFor(l).next(()=>o.apply(r)).next(()=>t.localDocuments.getLocalViewOfDocuments(r,u,h)).next(()=>u)}).then(r=>(t.xs=i,r))}function W1(n,e,t){let s=We(),i=We();return t.forEach(r=>s=s.add(r)),e.getEntries(n,s).next(r=>{let o=fi();return t.forEach((l,u)=>{const h=r.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(Oe.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):de(Dp,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{qs:o,Qs:i}})}function z1(n,e){const t=ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=yp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function K1(n,e){const t=ke(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let i;return t.Ti.getTargetData(s,e).next(r=>r?(i=r,X.resolve(i)):t.Ti.allocateTargetId(s).next(o=>(i=new Wi(e,o,"TargetPurposeListen",s.currentSequenceNumber),t.Ti.addTargetData(s,i).next(()=>i))))}).then(s=>{const i=t.xs.get(s.targetId);return(i===null||s.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(s.targetId,s),t.Os.set(e,s.targetId)),s})}async function Vf(n,e,t){const s=ke(n),i=s.xs.get(e),r=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",r,o=>s.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!wa(o))throw o;de(Dp,`Failed to update sequence numbers for target ${e}: ${o}`)}s.xs=s.xs.remove(e),s.Os.delete(i.target)}function iv(n,e,t){const s=ke(n);let i=Oe.min(),r=We();return s.persistence.runTransaction("Execute query","readwrite",o=>function(u,h,f){const g=ke(u),v=g.Os.get(f);return v!==void 0?X.resolve(g.xs.get(v)):g.Ti.getTargetData(h,f)}(s,o,Ns(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(o,l.targetId).next(u=>{r=u})}).next(()=>s.Ms.getDocumentsMatchingQuery(o,e,t?i:Oe.min(),t?r:We())).next(l=>(G1(s,xO(e),l),{documents:l,$s:r})))}function G1(n,e,t){let s=n.Ns.get(e)||Oe.min();t.forEach((i,r)=>{r.readTime.compareTo(s)>0&&(s=r.readTime)}),n.Ns.set(e,s)}class rv{constructor(){this.activeTargetIds=UO()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Y1{constructor(){this.xo=new rv,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,s){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new rv,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="ConnectivityMonitor";class av{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){de(ov,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){de(ov,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jc=null;function Mf(){return Jc===null?Jc=function(){return 268435456+Math.round(2147483648*Math.random())}():Jc++,"0x"+Jc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="RestConnection",X1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class J1{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${s}/databases/${i}`,this.Go=this.databaseId.database===ju?`project_id=${s}`:`project_id=${s}&database_id=${i}`}zo(e,t,s,i,r){const o=Mf(),l=this.jo(e,t.toUriEncodedString());de($d,`Sending RPC '${e}' ${o}:`,l,s);const u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,i,r);const{host:h}=new URL(l),f=ya(h);return this.Jo(e,l,u,s,f).then(g=>(de($d,`Received RPC '${e}' ${o}: `,g),g),g=>{throw ia($d,`RPC '${e}' ${o} failed with error: `,g,"url: ",l,"request:",s),g})}Yo(e,t,s,i,r,o){return this.zo(e,t,s,i,r)}Ho(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ba}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,r)=>e[r]=i),s&&s.headers.forEach((i,r)=>e[r]=i)}jo(e,t){const s=X1[e];return`${this.Ko}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class eD extends J1{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,i,r){const o=Mf();return new Promise((l,u)=>{const h=new lb;h.setWithCredentials(!0),h.listenOnce(cb.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case pu.NO_ERROR:const g=h.getResponseJson();de(sn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),l(g);break;case pu.TIMEOUT:de(sn,`RPC '${e}' ${o} timed out`),u(new _e(J.DEADLINE_EXCEEDED,"Request time out"));break;case pu.HTTP_ERROR:const v=h.getStatus();if(de(sn,`RPC '${e}' ${o} failed with status:`,v,"response text:",h.getResponseText()),v>0){let b=h.getResponseJson();Array.isArray(b)&&(b=b[0]);const k=b==null?void 0:b.error;if(k&&k.status&&k.message){const L=function(U){const F=U.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(F)>=0?F:J.UNKNOWN}(k.status);u(new _e(L,k.message))}else u(new _e(J.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new _e(J.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{h_:e,streamId:o,P_:h.getLastErrorCode(),T_:h.getLastError()})}}finally{de(sn,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);de(sn,`RPC '${e}' ${o} sending request:`,i),h.send(t,"POST",f,s,15)})}I_(e,t,s){const i=Mf(),r=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=db(),l=hb(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,t,s),u.encodeInitMessageHeaders=!0;const f=r.join("");de(sn,`Creating RPC '${e}' stream ${i}: ${f}`,u);const g=o.createWebChannel(f,u);this.E_(g);let v=!1,b=!1;const k=new Z1({Zo:$=>{b?de(sn,`Not sending because RPC '${e}' stream ${i} is closed:`,$):(v||(de(sn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),v=!0),de(sn,`RPC '${e}' stream ${i} sending:`,$),g.send($))},Xo:()=>g.close()}),L=($,U,F)=>{$.listen(U,K=>{try{F(K)}catch(H){setTimeout(()=>{throw H},0)}})};return L(g,fl.EventType.OPEN,()=>{b||(de(sn,`RPC '${e}' stream ${i} transport opened.`),k.__())}),L(g,fl.EventType.CLOSE,()=>{b||(b=!0,de(sn,`RPC '${e}' stream ${i} transport closed`),k.u_(),this.d_(g))}),L(g,fl.EventType.ERROR,$=>{b||(b=!0,ia(sn,`RPC '${e}' stream ${i} transport errored. Name:`,$.name,"Message:",$.message),k.u_(new _e(J.UNAVAILABLE,"The operation could not be completed")))}),L(g,fl.EventType.MESSAGE,$=>{var U;if(!b){const F=$.data[0];rt(!!F,16349);const K=F,H=(K==null?void 0:K.error)||((U=K[0])===null||U===void 0?void 0:U.error);if(H){de(sn,`RPC '${e}' stream ${i} received error:`,H);const ce=H.status;let he=function(A){const R=Lt[A];if(R!==void 0)return Gb(R)}(ce),S=H.message;he===void 0&&(he=J.INTERNAL,S="Unknown error status: "+ce+" with message "+H.message),b=!0,k.u_(new _e(he,S)),g.close()}else de(sn,`RPC '${e}' stream ${i} received:`,F),k.c_(F)}}),L(l,ub.STAT_EVENT,$=>{$.stat===If.PROXY?de(sn,`RPC '${e}' stream ${i} detected buffering proxy`):$.stat===If.NOPROXY&&de(sn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{k.a_()},0),k}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function Fd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(n){return new i1(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,t,s=1e3,i=1.5,r=6e4){this.xi=e,this.timerId=t,this.A_=s,this.R_=i,this.V_=r,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),i=Math.max(0,t-s);i>0&&de("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="PersistentStream";class cT{constructor(e,t,s,i,r,o,l,u){this.xi=e,this.S_=s,this.D_=i,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new lT(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(di(t.toString()),di("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,i])=>{this.v_===t&&this.z_(s,i)},s=>{e(()=>{const i=new _e(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(i)})})}z_(e,t){const s=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{s(()=>this.j_(i))}),this.stream.onMessage(i=>{s(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return de(lv,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(de(lv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tD extends cT{constructor(e,t,s,i,r,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,i,o),this.serializer=r}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=a1(this.serializer,e),s=function(r){if(!("targetChange"in r))return Oe.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Oe.min():o.readTime?ks(o.readTime):Oe.min()}(e);return this.listener.Y_(t,s)}Z_(e){const t={};t.database=Lf(this.serializer),t.addTarget=function(r,o){let l;const u=o.target;if(l=Of(u)?{documents:u1(r,u)}:{query:h1(r,u).gt},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=Xb(r,o.resumeToken);const h=Nf(r,o.expectedCount);h!==null&&(l.expectedCount=h)}else if(o.snapshotVersion.compareTo(Oe.min())>0){l.readTime=Ku(r,o.snapshotVersion.toTimestamp());const h=Nf(r,o.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const s=f1(this.serializer,e);s&&(t.labels=s),this.Q_(t)}X_(e){const t={};t.database=Lf(this.serializer),t.removeTarget=e,this.Q_(t)}}class nD extends cT{constructor(e,t,s,i,r,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,i,o),this.serializer=r}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=c1(e.writeResults,e.commitTime),s=ks(e.commitTime);return this.listener.ra(s,t)}ia(){const e={};e.database=Lf(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>l1(this.serializer,s))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{}class iD extends sD{constructor(e,t,s,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new _e(J.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,s,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.zo(e,kf(t,s),i,r,o)).catch(r=>{throw r.name==="FirebaseError"?(r.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new _e(J.UNKNOWN,r.toString())})}Yo(e,t,s,i,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Yo(e,kf(t,s),i,o,l,r)).catch(o=>{throw o.name==="FirebaseError"?(o.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new _e(J.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class rD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(di(t),this.ua=!1):de("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr="RemoteStore";class oD{constructor(e,t,s,i,r){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=r,this.Ra.No(o=>{s.enqueueAndForget(async()=>{ro(this)&&(de(Yr,"Restarting streams for network reachability change."),await async function(u){const h=ke(u);h.da.add(4),await rc(h),h.Va.set("Unknown"),h.da.delete(4),await Vh(h)}(this))})}),this.Va=new rD(s,i)}}async function Vh(n){if(ro(n))for(const e of n.Aa)await e(!0)}async function rc(n){for(const e of n.Aa)await e(!1)}function uT(n,e){const t=ke(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),Lp(t)?xp(t):Ia(t).N_()&&kp(t,e))}function Np(n,e){const t=ke(n),s=Ia(t);t.Ea.delete(e),s.N_()&&hT(t,e),t.Ea.size===0&&(s.N_()?s.k_():ro(t)&&t.Va.set("Unknown"))}function kp(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ia(n).Z_(e)}function hT(n,e){n.ma.Ke(e),Ia(n).X_(e)}function xp(n){n.ma=new e1({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Ia(n).start(),n.Va.ca()}function Lp(n){return ro(n)&&!Ia(n).O_()&&n.Ea.size>0}function ro(n){return ke(n).da.size===0}function dT(n){n.ma=void 0}async function aD(n){n.Va.set("Online")}async function lD(n){n.Ea.forEach((e,t)=>{kp(n,e)})}async function cD(n,e){dT(n),Lp(n)?(n.Va.Pa(e),xp(n)):n.Va.set("Unknown")}async function uD(n,e,t){if(n.Va.set("Online"),e instanceof Qb&&e.state===2&&e.cause)try{await async function(i,r){const o=r.cause;for(const l of r.targetIds)i.Ea.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ea.delete(l),i.ma.removeTarget(l))}(n,e)}catch(s){de(Yr,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Yu(n,s)}else if(e instanceof vu?n.ma.Xe(e):e instanceof Yb?n.ma.ot(e):n.ma.nt(e),!t.isEqual(Oe.min()))try{const s=await aT(n.localStore);t.compareTo(s)>=0&&await function(r,o){const l=r.ma.It(o);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const f=r.Ea.get(h);f&&r.Ea.set(h,f.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,h)=>{const f=r.Ea.get(u);if(!f)return;r.Ea.set(u,f.withResumeToken(en.EMPTY_BYTE_STRING,f.snapshotVersion)),hT(r,u);const g=new Wi(f.target,u,h,f.sequenceNumber);kp(r,g)}),r.remoteSyncer.applyRemoteEvent(l)}(n,t)}catch(s){de(Yr,"Failed to raise snapshot:",s),await Yu(n,s)}}async function Yu(n,e,t){if(!wa(e))throw e;n.da.add(1),await rc(n),n.Va.set("Offline"),t||(t=()=>aT(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{de(Yr,"Retrying IndexedDB access"),await t(),n.da.delete(1),await Vh(n)})}function fT(n,e){return e().catch(t=>Yu(n,t,e))}async function Mh(n){const e=ke(n),t=ir(e);let s=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:yp;for(;hD(e);)try{const i=await z1(e.localStore,s);if(i===null){e.Ia.length===0&&t.k_();break}s=i.batchId,dD(e,i)}catch(i){await Yu(e,i)}pT(e)&&mT(e)}function hD(n){return ro(n)&&n.Ia.length<10}function dD(n,e){n.Ia.push(e);const t=ir(n);t.N_()&&t.ea&&t.ta(e.mutations)}function pT(n){return ro(n)&&!ir(n).O_()&&n.Ia.length>0}function mT(n){ir(n).start()}async function fD(n){ir(n).ia()}async function pD(n){const e=ir(n);for(const t of n.Ia)e.ta(t.mutations)}async function mD(n,e,t){const s=n.Ia.shift(),i=Ip.from(s,e,t);await fT(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Mh(n)}async function gD(n,e){e&&ir(n).ea&&await async function(s,i){if(function(o){return JO(o)&&o!==J.ABORTED}(i.code)){const r=s.Ia.shift();ir(s).L_(),await fT(s,()=>s.remoteSyncer.rejectFailedWrite(r.batchId,i)),await Mh(s)}}(n,e),pT(n)&&mT(n)}async function cv(n,e){const t=ke(n);t.asyncQueue.verifyOperationInProgress(),de(Yr,"RemoteStore received new credentials");const s=ro(t);t.da.add(3),await rc(t),s&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await Vh(t)}async function _D(n,e){const t=ke(n);e?(t.da.delete(2),await Vh(t)):e||(t.da.add(2),await rc(t),t.Va.set("Unknown"))}function Ia(n){return n.fa||(n.fa=function(t,s,i){const r=ke(t);return r.oa(),new tD(s,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{e_:aD.bind(null,n),n_:lD.bind(null,n),i_:cD.bind(null,n),Y_:uD.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),Lp(n)?xp(n):n.Va.set("Unknown")):(await n.fa.stop(),dT(n))})),n.fa}function ir(n){return n.ga||(n.ga=function(t,s,i){const r=ke(t);return r.oa(),new nD(s,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:fD.bind(null,n),i_:gD.bind(null,n),na:pD.bind(null,n),ra:mD.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await Mh(n)):(await n.ga.stop(),n.Ia.length>0&&(de(Yr,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,t,s,i,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=i,this.removalCallback=r,this.deferred=new Xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,i,r){const o=Date.now()+s,l=new Vp(e,t,o,i,r);return l.start(s),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mp(n,e){if(di("AsyncQueue",`${e}: ${n}`),wa(n))return new _e(J.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{static emptySet(e){return new Qo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||be.comparator(t.key,s.key):(t,s)=>be.comparator(t.key,s.key),this.keyedMap=pl(),this.sortedSet=new It(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Qo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,r=s.getNext().key;if(!i.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Qo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(){this.pa=new It(be.comparator)}track(e){const t=e.doc.key,s=this.pa.get(t);s?e.type!==0&&s.type===3?this.pa=this.pa.insert(t,e):e.type===3&&s.type!==1?this.pa=this.pa.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.pa=this.pa.remove(t):e.type===1&&s.type===2?this.pa=this.pa.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Ce(63341,{Vt:e,ya:s}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,s)=>{e.push(s)}),e}}class ca{constructor(e,t,s,i,r,o,l,u,h){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=i,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,t,s,i,r){const o=[];return t.forEach(l=>{o.push({type:0,doc:l})}),new ca(e,t,Qo.emptySet(t),o,s,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==s[i].type||!t[i].doc.isEqual(s[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class yD{constructor(){this.queries=hv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const i=ke(t),r=i.queries;i.queries=hv(),r.forEach((o,l)=>{for(const u of l.Sa)u.onError(s)})})(this,new _e(J.ABORTED,"Firestore shutting down"))}}function hv(){return new so(n=>Lb(n),Oh)}async function ED(n,e){const t=ke(n);let s=3;const i=e.query;let r=t.queries.get(i);r?!r.Da()&&e.va()&&(s=2):(r=new vD,s=e.va()?0:1);try{switch(s){case 0:r.ba=await t.onListen(i,!0);break;case 1:r.ba=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(o){const l=Mp(o,`Initialization of query '${Lo(e.query)}' failed`);return void e.onError(l)}t.queries.set(i,r),r.Sa.push(e),e.Fa(t.onlineState),r.ba&&e.Ma(r.ba)&&$p(t)}async function bD(n,e){const t=ke(n),s=e.query;let i=3;const r=t.queries.get(s);if(r){const o=r.Sa.indexOf(e);o>=0&&(r.Sa.splice(o,1),r.Sa.length===0?i=e.va()?0:1:!r.Da()&&e.va()&&(i=2))}switch(i){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function TD(n,e){const t=ke(n);let s=!1;for(const i of e){const r=i.query,o=t.queries.get(r);if(o){for(const l of o.Sa)l.Ma(i)&&(s=!0);o.ba=i}}s&&$p(t)}function wD(n,e,t){const s=ke(n),i=s.queries.get(e);if(i)for(const r of i.Sa)r.onError(t);s.queries.delete(e)}function $p(n){n.Ca.forEach(e=>{e.next()})}var $f,dv;(dv=$f||($f={})).xa="default",dv.Cache="cache";class AD{constructor(e,t,s){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(e){if(!this.options.includeMetadataChanges){const s=[];for(const i of e.docChanges)i.type!==3&&s.push(i);e=new ca(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const s=t!=="Offline";return(!this.options.Qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=ca.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==$f.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e){this.key=e}}class _T{constructor(e){this.key=e}}class ID{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=We(),this.mutatedKeys=We(),this.Za=Vb(e),this.Xa=new Qo(this.Za)}get eu(){return this.Ha}tu(e,t){const s=t?t.nu:new uv,i=t?t.Xa:this.Xa;let r=t?t.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,g)=>{const v=i.get(f),b=Dh(this.query,g)?g:null,k=!!v&&this.mutatedKeys.has(v.key),L=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let $=!1;v&&b?v.data.isEqual(b.data)?k!==L&&(s.track({type:3,doc:b}),$=!0):this.ru(v,b)||(s.track({type:2,doc:b}),$=!0,(u&&this.Za(b,u)>0||h&&this.Za(b,h)<0)&&(l=!0)):!v&&b?(s.track({type:0,doc:b}),$=!0):v&&!b&&(s.track({type:1,doc:v}),$=!0,(u||h)&&(l=!0)),$&&(b?(o=o.add(b),r=L?r.add(f):r.delete(f)):(o=o.delete(f),r=r.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),r=r.delete(f.key),s.track({type:1,doc:f})}return{Xa:o,nu:s,Cs:l,mutatedKeys:r}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,i){const r=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const o=e.nu.wa();o.sort((f,g)=>function(b,k){const L=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Vt:$})}};return L(b)-L(k)}(f.type,g.type)||this.Za(f.doc,g.doc)),this.iu(s),i=i!=null&&i;const l=t&&!i?this.su():[],u=this.Ya.size===0&&this.current&&!i?1:0,h=u!==this.Ja;return this.Ja=u,o.length!==0||h?{snapshot:new ca(this.query,e.Xa,r,o,e.mutatedKeys,u===0,h,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new uv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=We(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const t=[];return e.forEach(s=>{this.Ya.has(s)||t.push(new _T(s))}),this.Ya.forEach(s=>{e.has(s)||t.push(new gT(s))}),t}au(e){this.Ha=e.$s,this.Ya=We();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return ca.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Fp="SyncEngine";class CD{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class SD{constructor(e){this.key=e,this.cu=!1}}class RD{constructor(e,t,s,i,r,o){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new so(l=>Lb(l),Oh),this.Pu=new Map,this.Tu=new Set,this.Iu=new It(be.comparator),this.Eu=new Map,this.du=new Rp,this.Au={},this.Ru=new Map,this.Vu=la.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function PD(n,e,t=!0){const s=wT(n);let i;const r=s.hu.get(e);return r?(s.sharedClientState.addLocalQueryTarget(r.targetId),i=r.view.uu()):i=await vT(s,e,t,!0),i}async function OD(n,e){const t=wT(n);await vT(t,e,!0,!1)}async function vT(n,e,t,s){const i=await K1(n.localStore,Ns(e)),r=i.targetId,o=n.sharedClientState.addLocalQueryTarget(r,t);let l;return s&&(l=await DD(n,e,r,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&uT(n.remoteStore,i),l}async function DD(n,e,t,s,i){n.fu=(g,v,b)=>async function(L,$,U,F){let K=$.view.tu(U);K.Cs&&(K=await iv(L.localStore,$.query,!1).then(({documents:S})=>$.view.tu(S,K)));const H=F&&F.targetChanges.get($.targetId),ce=F&&F.targetMismatches.get($.targetId)!=null,he=$.view.applyChanges(K,L.isPrimaryClient,H,ce);return pv(L,$.targetId,he.ou),he.snapshot}(n,g,v,b);const r=await iv(n.localStore,e,!0),o=new ID(e,r.$s),l=o.tu(r.documents),u=ic.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",i),h=o.applyChanges(l,n.isPrimaryClient,u);pv(n,t,h.ou);const f=new CD(e,t,o);return n.hu.set(e,f),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),h.snapshot}async function ND(n,e,t){const s=ke(n),i=s.hu.get(e),r=s.Pu.get(i.targetId);if(r.length>1)return s.Pu.set(i.targetId,r.filter(o=>!Oh(o,e))),void s.hu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(i.targetId),s.sharedClientState.isActiveQueryTarget(i.targetId)||await Vf(s.localStore,i.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(i.targetId),t&&Np(s.remoteStore,i.targetId),Ff(s,i.targetId)}).catch(Ta)):(Ff(s,i.targetId),await Vf(s.localStore,i.targetId,!0))}async function kD(n,e){const t=ke(n),s=t.hu.get(e),i=t.Pu.get(s.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Np(t.remoteStore,s.targetId))}async function xD(n,e,t){const s=jD(n);try{const i=await function(o,l){const u=ke(o),h=Ht.now(),f=l.reduce((b,k)=>b.add(k.key),We());let g,v;return u.persistence.runTransaction("Locally write mutations","readwrite",b=>{let k=fi(),L=We();return u.Bs.getEntries(b,f).next($=>{k=$,k.forEach((U,F)=>{F.isValidDocument()||(L=L.add(U))})}).next(()=>u.localDocuments.getOverlayedDocuments(b,k)).next($=>{g=$;const U=[];for(const F of l){const K=KO(F,g.get(F.key).overlayedDocument);K!=null&&U.push(new io(F.key,K,Cb(K.value.mapValue),ai.exists(!0)))}return u.mutationQueue.addMutationBatch(b,h,U,l)}).next($=>{v=$;const U=$.applyToLocalDocumentSet(g,L);return u.documentOverlayCache.saveOverlays(b,$.batchId,U)})}).then(()=>({batchId:v.batchId,changes:$b(g)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let h=o.Au[o.currentUser.toKey()];h||(h=new It(Fe)),h=h.insert(l,u),o.Au[o.currentUser.toKey()]=h}(s,i.batchId,t),await oc(s,i.changes),await Mh(s.remoteStore)}catch(i){const r=Mp(i,"Failed to persist write");t.reject(r)}}async function yT(n,e){const t=ke(n);try{const s=await q1(t.localStore,e);e.targetChanges.forEach((i,r)=>{const o=t.Eu.get(r);o&&(rt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.cu=!0:i.modifiedDocuments.size>0?rt(o.cu,14607):i.removedDocuments.size>0&&(rt(o.cu,42227),o.cu=!1))}),await oc(t,s,e)}catch(s){await Ta(s)}}function fv(n,e,t){const s=ke(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const i=[];s.hu.forEach((r,o)=>{const l=o.view.Fa(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=ke(o);u.onlineState=l;let h=!1;u.queries.forEach((f,g)=>{for(const v of g.Sa)v.Fa(l)&&(h=!0)}),h&&$p(u)}(s.eventManager,e),i.length&&s.lu.Y_(i),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function LD(n,e,t){const s=ke(n);s.sharedClientState.updateQueryState(e,"rejected",t);const i=s.Eu.get(e),r=i&&i.key;if(r){let o=new It(be.comparator);o=o.insert(r,ln.newNoDocument(r,Oe.min()));const l=We().add(r),u=new xh(Oe.min(),new Map,new It(Fe),o,l);await yT(s,u),s.Iu=s.Iu.remove(r),s.Eu.delete(e),Up(s)}else await Vf(s.localStore,e,!1).then(()=>Ff(s,e,t)).catch(Ta)}async function VD(n,e){const t=ke(n),s=e.batch.batchId;try{const i=await H1(t.localStore,e);bT(t,s,null),ET(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await oc(t,i)}catch(i){await Ta(i)}}async function MD(n,e,t){const s=ke(n);try{const i=await function(o,l){const u=ke(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return u.mutationQueue.lookupMutationBatch(h,l).next(g=>(rt(g!==null,37113),f=g.keys(),u.mutationQueue.removeMutationBatch(h,g))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>u.localDocuments.getDocuments(h,f))})}(s.localStore,e);bT(s,e,t),ET(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await oc(s,i)}catch(i){await Ta(i)}}function ET(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function bT(n,e,t){const s=ke(n);let i=s.Au[s.currentUser.toKey()];if(i){const r=i.get(e);r&&(t?r.reject(t):r.resolve(),i=i.remove(e)),s.Au[s.currentUser.toKey()]=i}}function Ff(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Pu.get(e))n.hu.delete(s),t&&n.lu.gu(s,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(s=>{n.du.containsKey(s)||TT(n,s)})}function TT(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(Np(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),Up(n))}function pv(n,e,t){for(const s of t)s instanceof gT?(n.du.addReference(s.key,e),$D(n,s)):s instanceof _T?(de(Fp,"Document no longer in limbo: "+s.key),n.du.removeReference(s.key,e),n.du.containsKey(s.key)||TT(n,s.key)):Ce(19791,{pu:s})}function $D(n,e){const t=e.key,s=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(s)||(de(Fp,"New document in limbo: "+t),n.Tu.add(s),Up(n))}function Up(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new be(Et.fromString(e)),s=n.Vu.next();n.Eu.set(s,new SD(t)),n.Iu=n.Iu.insert(t,s),uT(n.remoteStore,new Wi(Ns(kb(t.path)),s,"TargetPurposeLimboResolution",Sh.le))}}async function oc(n,e,t){const s=ke(n),i=[],r=[],o=[];s.hu.isEmpty()||(s.hu.forEach((l,u)=>{o.push(s.fu(u,e,t).then(h=>{var f;if((h||t)&&s.isPrimaryClient){const g=h?!h.fromCache:(f=t==null?void 0:t.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;s.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(h){i.push(h);const g=Op.Rs(u.targetId,h);r.push(g)}}))}),await Promise.all(o),s.lu.Y_(i),await async function(u,h){const f=ke(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>X.forEach(h,v=>X.forEach(v.ds,b=>f.persistence.referenceDelegate.addReference(g,v.targetId,b)).next(()=>X.forEach(v.As,b=>f.persistence.referenceDelegate.removeReference(g,v.targetId,b)))))}catch(g){if(!wa(g))throw g;de(Dp,"Failed to update sequence numbers: "+g)}for(const g of h){const v=g.targetId;if(!g.fromCache){const b=f.xs.get(v),k=b.snapshotVersion,L=b.withLastLimboFreeSnapshotVersion(k);f.xs=f.xs.insert(v,L)}}}(s.localStore,r))}async function FD(n,e){const t=ke(n);if(!t.currentUser.isEqual(e)){de(Fp,"User change. New user:",e.toKey());const s=await oT(t.localStore,e);t.currentUser=e,function(r,o){r.Ru.forEach(l=>{l.forEach(u=>{u.reject(new _e(J.CANCELLED,o))})}),r.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await oc(t,s.ks)}}function UD(n,e){const t=ke(n),s=t.Eu.get(e);if(s&&s.cu)return We().add(s.key);{let i=We();const r=t.Pu.get(e);if(!r)return i;for(const o of r){const l=t.hu.get(o);i=i.unionWith(l.view.eu)}return i}}function wT(n){const e=ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=yT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LD.bind(null,e),e.lu.Y_=TD.bind(null,e.eventManager),e.lu.gu=wD.bind(null,e.eventManager),e}function jD(n){const e=ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MD.bind(null,e),e}class Qu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return B1(this.persistence,new F1,e.initialUser,this.serializer)}Su(e){return new rT(Pp.fi,this.serializer)}bu(e){return new Y1}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qu.provider={build:()=>new Qu};class BD extends Qu{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){rt(this.persistence.referenceDelegate instanceof Gu,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new A1(s,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new rT(s=>Gu.fi(s,t),this.serializer)}}class Uf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>fv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=FD.bind(null,this.syncEngine),await _D(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new yD}()}createDatastore(e){const t=Lh(e.databaseInfo.databaseId),s=function(r){return new eD(r)}(e.databaseInfo);return function(r,o,l,u){return new iD(r,o,l,u)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,i,r,o,l){return new oD(s,i,r,o,l)}(this.localStore,this.datastore,e.asyncQueue,t=>fv(this.syncEngine,t,0),function(){return av.C()?new av:new Q1}())}createSyncEngine(e,t){return function(i,r,o,l,u,h,f){const g=new RD(i,r,o,l,u,h);return f&&(g.mu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const r=ke(i);de(Yr,"RemoteStore shutting down."),r.da.add(5),await rc(r),r.Ra.shutdown(),r.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Uf.provider={build:()=>new Uf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):di("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr="FirestoreClient";class qD{constructor(e,t,s,i,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=i,this.user=rn.UNAUTHENTICATED,this.clientId=gb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(s,async o=>{de(rr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(s,o=>(de(rr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Mp(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Ud(n,e){n.asyncQueue.verifyOperationInProgress(),de(rr,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(async i=>{s.isEqual(i)||(await oT(e.localStore,i),s=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function mv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await WD(n);de(rr,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(s=>cv(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,i)=>cv(e.remoteStore,i)),n._onlineComponents=e}async function WD(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de(rr,"Using user provided OfflineComponentProvider");try{await Ud(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===J.FAILED_PRECONDITION||i.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;ia("Error using user provided cache. Falling back to memory cache: "+t),await Ud(n,new Qu)}}else de(rr,"Using default OfflineComponentProvider"),await Ud(n,new BD(void 0));return n._offlineComponents}async function AT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de(rr,"Using user provided OnlineComponentProvider"),await mv(n,n._uninitializedComponentsProvider._online)):(de(rr,"Using default OnlineComponentProvider"),await mv(n,new Uf))),n._onlineComponents}function zD(n){return AT(n).then(e=>e.syncEngine)}async function KD(n){const e=await AT(n),t=e.eventManager;return t.onListen=PD.bind(null,e.syncEngine),t.onUnlisten=ND.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=OD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=kD.bind(null,e.syncEngine),t}function GD(n,e,t={}){const s=new Xi;return n.asyncQueue.enqueueAndForget(async()=>function(r,o,l,u,h){const f=new HD({next:v=>{f.xu(),o.enqueueAndForget(()=>bD(r,g)),v.fromCache&&u.source==="server"?h.reject(new _e(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(v)},error:v=>h.reject(v)}),g=new AD(l,f,{includeMetadataChanges:!0,Qa:!0});return ED(r,g)}(await KD(n),n.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(n,e,t){if(!t)throw new _e(J.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function YD(n,e,t,s){if(e===!0&&s===!0)throw new _e(J.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function _v(n){if(!be.isDocumentKey(n))throw new _e(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function vv(n){if(be.isDocumentKey(n))throw new _e(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $h(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ce(12329,{type:typeof n})}function Yl(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new _e(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=$h(n);throw new _e(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="firestore.googleapis.com",yv=!0;class Ev{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ST,this.ssl=yv}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:yv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=iT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<T1)throw new _e(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IT((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new _e(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new _e(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new _e(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,i){return s.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fh{constructor(e,t,s,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ev({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ev(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new ZP;switch(s.type){case"firstParty":return new sO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new _e(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=gv.get(t);s&&(de("ComponentProvider","Removing Datastore"),gv.delete(t),s.terminate())}(this),Promise.resolve()}}function QD(n,e,t,s={}){var i;n=Yl(n,Fh);const r=ya(e),o=n._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;r&&(ZE(`https://${u}`),eb("Firestore",!0)),o.host!==ST&&o.host!==u&&ia("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},o),{host:u,ssl:r,emulatorOptions:s});if(!zr(h,l)&&(n._setSettings(h),s.mockUserToken)){let f,g;if(typeof s.mockUserToken=="string")f=s.mockUserToken,g=rn.MOCK_USER;else{f=CR(s.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new _e(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new rn(v)}n._authCredentials=new eO(new pb(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new hr(this.firestore,e,this._query)}}class Fn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fn(this.firestore,e,this._key)}}class Ji extends hr{constructor(e,t,s){super(e,t,kb(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fn(this.firestore,null,new be(e))}withConverter(e){return new Ji(this.firestore,e,this._path)}}function jp(n,e,...t){if(n=Un(n),CT("collection","path",e),n instanceof Fh){const s=Et.fromString(e,...t);return vv(s),new Ji(n,null,s)}{if(!(n instanceof Fn||n instanceof Ji))throw new _e(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Et.fromString(e,...t));return vv(s),new Ji(n.firestore,null,s)}}function Bp(n,e,...t){if(n=Un(n),arguments.length===1&&(e=gb.newId()),CT("doc","path",e),n instanceof Fh){const s=Et.fromString(e,...t);return _v(s),new Fn(n,null,new be(s))}{if(!(n instanceof Fn||n instanceof Ji))throw new _e(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Et.fromString(e,...t));return _v(s),new Fn(n.firestore,n instanceof Ji?n.converter:null,new be(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="AsyncQueue";class Tv{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new lT(this,"async_queue_retry"),this.rc=()=>{const s=Fd();s&&de(bv,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=e;const t=Fd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Fd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Xi;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!wa(e))throw e;de(bv,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(s=>{throw this.Xu=s,this.ec=!1,di("INTERNAL UNHANDLED ERROR: ",wv(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=t,t}enqueueAfterDelay(e,t,s){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const i=Vp.createAndSchedule(this,e,t,s,r=>this.uc(r));return this.Zu.push(i),i}oc(){this.Xu&&Ce(47125,{cc:wv(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function wv(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Hp extends Fh{constructor(e,t,s,i){super(e,t,s,i),this.type="firestore",this._queue=new Tv,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Tv(e),this._firestoreClient=void 0,await e}}}function XD(n,e){const t=typeof n=="object"?n:ib(),s=typeof n=="string"?n:ju,i=_p(t,"firestore").getImmediate({identifier:s});if(!i._initialized){const r=AR("firestore");r&&QD(i,...r)}return i}function RT(n){if(n._terminated)throw new _e(J.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||JD(n),n._firestoreClient}function JD(n){var e,t,s;const i=n._freezeSettings(),r=function(l,u,h,f){return new vO(l,u,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,IT(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=i.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new qD(n._authCredentials,n._appCheckCredentials,n._queue,r,n._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ua(en.fromBase64String(e))}catch(t){throw new _e(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ua(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new _e(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,i){if(s.length!==i.length)return!1;for(let r=0;r<s.length;++r)if(s[r]!==i[r])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=/^__.*__$/;class eN{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new io(e,this.data,this.fieldMask,t,this.fieldTransforms):new sc(e,this.data,t,this.fieldTransforms)}}function OT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ic:n})}}class Kp{constructor(e,t,s,i,r,o){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=i,r===void 0&&this.Ec(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Kp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:s,Rc:!1});return i.Vc(e),i}mc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:s,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Xu(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(OT(this.Ic)&&ZD.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class tN{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Lh(e)}bc(e,t,s,i=!1){return new Kp({Ic:e,methodName:t,wc:s,path:Zt.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function DT(n){const e=n._freezeSettings(),t=Lh(n._databaseId);return new tN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function nN(n,e,t,s,i,r={}){const o=n.bc(r.merge||r.mergeFields?2:0,e,t,i);xT("Data must be an object, but it was:",o,s);const l=NT(s,o);let u,h;if(r.merge)u=new us(o.fieldMask),h=o.fieldTransforms;else if(r.mergeFields){const f=[];for(const g of r.mergeFields){const v=iN(e,g,t);if(!o.contains(v))throw new _e(J.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);oN(f,v)||f.push(v)}u=new us(f),h=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,h=o.fieldTransforms;return new eN(new Xn(l),u,h)}function sN(n,e,t,s=!1){return Gp(t,n.bc(s?4:3,e))}function Gp(n,e){if(kT(n=Un(n)))return xT("Unsupported field value:",e,n),NT(n,e);if(n instanceof PT)return function(s,i){if(!OT(i.Ic))throw i.gc(`${s._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${s._methodName}() is not currently supported inside arrays`);const r=s._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(s,i){const r=[];let o=0;for(const l of s){let u=Gp(l,i.fc(o));u==null&&(u={nullValue:"NULL_VALUE"}),r.push(u),o++}return{arrayValue:{values:r}}}(n,e)}return function(s,i){if((s=Un(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return jO(i.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const r=Ht.fromDate(s);return{timestampValue:Ku(i.serializer,r)}}if(s instanceof Ht){const r=new Ht(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ku(i.serializer,r)}}if(s instanceof Wp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ua)return{bytesValue:Xb(i.serializer,s._byteString)};if(s instanceof Fn){const r=i.databaseId,o=s.firestore._databaseId;if(!o.isEqual(r))throw i.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Sp(s.firestore._databaseId||i.databaseId,s._key.path)}}if(s instanceof zp)return function(o,l){return{mapValue:{fields:{[Ab]:{stringValue:Ib},[Bu]:{arrayValue:{values:o.toArray().map(h=>{if(typeof h!="number")throw l.gc("VectorValues must only contain numeric values.");return Ap(l.serializer,h)})}}}}}}(s,i);throw i.gc(`Unsupported field value: ${$h(s)}`)}(n,e)}function NT(n,e){const t={};return vb(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):no(n,(s,i)=>{const r=Gp(i,e.Ac(s));r!=null&&(t[s]=r)}),{mapValue:{fields:t}}}function kT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ht||n instanceof Wp||n instanceof ua||n instanceof Fn||n instanceof PT||n instanceof zp)}function xT(n,e,t){if(!kT(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const s=$h(t);throw s==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+s)}}function iN(n,e,t){if((e=Un(e))instanceof qp)return e._internalPath;if(typeof e=="string")return LT(n,e);throw Xu("Field path arguments must be of type string or ",n,!1,void 0,t)}const rN=new RegExp("[~\\*/\\[\\]]");function LT(n,e,t){if(e.search(rN)>=0)throw Xu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new qp(...e.split("."))._internalPath}catch{throw Xu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Xu(n,e,t,s,i){const r=s&&!s.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;t&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(r||o)&&(u+=" (found",r&&(u+=` in field ${s}`),o&&(u+=` in document ${i}`),u+=")"),new _e(J.INVALID_ARGUMENT,l+n+u)}function oN(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,t,s,i,r){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Uh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class aN extends VT{data(){return super.data()}}function Uh(n,e){return typeof e=="string"?LT(n,e):e instanceof qp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new _e(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yp{}class Qp extends Yp{}function Xp(n,e,...t){let s=[];e instanceof Yp&&s.push(e),s=s.concat(t),function(r){const o=r.filter(u=>u instanceof Zp).length,l=r.filter(u=>u instanceof jh).length;if(o>1||o>0&&l>0)throw new _e(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const i of s)n=i._apply(n);return n}class jh extends Qp{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new jh(e,t,s)}_apply(e){const t=this._parse(e);return $T(e._query,t),new hr(e.firestore,e.converter,Df(e._query,t))}_parse(e){const t=DT(e.firestore);return function(r,o,l,u,h,f,g){let v;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new _e(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){Iv(g,f);const k=[];for(const L of g)k.push(Av(u,r,L));v={arrayValue:{values:k}}}else v=Av(u,r,g)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||Iv(g,f),v=sN(l,o,g,f==="in"||f==="not-in");return Vt.create(h,f,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Jp(n,e,t){const s=e,i=Uh("where",n);return jh._create(i,s,t)}class Zp extends Yp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Zp(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:ms.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,r){let o=i;const l=r.getFlattenedFilters();for(const u of l)$T(o,u),o=Df(o,u)}(e._query,t),new hr(e.firestore,e.converter,Df(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class em extends Qp{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new em(e,t)}_apply(e){const t=function(i,r,o){if(i.startAt!==null)throw new _e(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new _e(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zl(r,o)}(e._query,this._field,this._direction);return new hr(e.firestore,e.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new Aa(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function MT(n,e="asc"){const t=e,s=Uh("orderBy",n);return em._create(s,t)}class tm extends Qp{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new tm(e,t,s)}_apply(e){return new hr(e.firestore,e.converter,qu(e._query,this._limit,this._limitType))}}function cN(n){return tm._create("limit",n,"F")}function Av(n,e,t){if(typeof(t=Un(t))=="string"){if(t==="")throw new _e(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xb(e)&&t.indexOf("/")!==-1)throw new _e(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Et.fromString(t));if(!be.isDocumentKey(s))throw new _e(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return F_(n,new be(s))}if(t instanceof Fn)return F_(n,t._key);throw new _e(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$h(t)}.`)}function Iv(n,e){if(!Array.isArray(n)||n.length===0)throw new _e(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $T(n,e){const t=function(i,r){for(const o of i)for(const l of o.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new _e(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class uN{convertValue(e,t="none"){switch(sr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(nr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return no(e,(i,r)=>{s[i]=this.convertValue(r,t)}),s}convertVectorValue(e){var t,s,i;const r=(i=(s=(t=e.fields)===null||t===void 0?void 0:t[Bu].arrayValue)===null||s===void 0?void 0:s.values)===null||i===void 0?void 0:i.map(o=>Nt(o.doubleValue));return new zp(r)}convertGeoPoint(e){return new Wp(Nt(e.latitude),Nt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Ph(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Hl(e));default:return null}}convertTimestamp(e){const t=tr(e);return new Ht(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Et.fromString(e);rt(sT(s),9688,{name:e});const i=new ql(s.get(1),s.get(3)),r=new be(s.popFirst(5));return i.isEqual(t)||di(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dN extends VT{constructor(e,t,s,i,r,o){super(e,t,s,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new yu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Uh("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class yu extends dN{data(e={}){return super.data(e)}}class fN{constructor(e,t,s,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Zc(i.hasPendingWrites,i.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new yu(this._firestore,this._userDataWriter,s.key,s,new Zc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const u=new yu(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Zc(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>r||l.type!==3).map(l=>{const u=new yu(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Zc(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,f=-1;return l.type!==0&&(h=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:pN(l.type),doc:u,oldIndex:h,newIndex:f}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function pN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:n})}}class mN extends uN{constructor(e){super(),this.firestore=e}convertBytes(e){return new ua(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fn(this.firestore,null,t)}}function nm(n){n=Yl(n,hr);const e=Yl(n.firestore,Hp),t=RT(e),s=new mN(e);return lN(n._query),GD(t,n._query).then(i=>new fN(e,s,n,i))}function sm(n,e,t){n=Yl(n,Fn);const s=Yl(n.firestore,Hp),i=hN(n.converter,e,t);return gN(s,[nN(DT(s),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,ai.none())])}function gN(n,e){return function(s,i){const r=new Xi;return s.asyncQueue.enqueueAndForget(async()=>xD(await zD(s),i,r)),r.promise}(RT(n),e)}(function(e,t=!0){(function(i){ba=i})(Ea),sa(new Kr("firestore",(s,{instanceIdentifier:i,options:r})=>{const o=s.getProvider("app").getImmediate(),l=new Hp(new tO(s.getProvider("auth-internal")),new iO(o,s.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new _e(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ql(h.options.projectId,f)}(o,i),o);return r=Object.assign({useFetchStreams:t},r),l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),Yi(S_,R_,e),Yi(S_,R_,"esm2017")})();var _N="firebase",vN="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yi(_N,vN,"app");function im(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(n);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(n,s[i])&&(t[s[i]]=n[s[i]]);return t}function FT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yN=FT,UT=new tc("auth","Firebase",FT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=new mp("@firebase/auth");function EN(n,...e){Ju.logLevel<=qe.WARN&&Ju.warn(`Auth (${Ea}): ${n}`,...e)}function Eu(n,...e){Ju.logLevel<=qe.ERROR&&Ju.error(`Auth (${Ea}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(n,...e){throw om(n,...e)}function fs(n,...e){return om(n,...e)}function rm(n,e,t){const s=Object.assign(Object.assign({},yN()),{[e]:t});return new tc("auth","Firebase",s).create(e,{appName:n.name})}function li(n){return rm(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bN(n,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&ts(n,"argument-error"),rm(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function om(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return UT.create(n,...e)}function Ie(n,e,...t){if(!n)throw om(e,...t)}function ii(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Eu(e),new Error(e)}function pi(n,e){n||ii(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function TN(){return Cv()==="http:"||Cv()==="https:"}function Cv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TN()||NR()||"connection"in navigator)?navigator.onLine:!0}function AN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,t){this.shortDelay=e,this.longDelay=t,pi(t>e,"Short delay should be less than long delay!"),this.isMobile=PR()||kR()}get(){return wN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(n,e){pi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SN=new ac(3e4,6e4);function vi(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function yi(n,e,t,s,i={}){return BT(n,i,async()=>{let r={},o={};s&&(e==="GET"?o=s:r={body:JSON.stringify(s)});const l=nc(Object.assign({key:n.config.apiKey},o)).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);const h=Object.assign({method:e,headers:u},r);return DR()||(h.referrerPolicy="no-referrer"),n.emulatorConfig&&ya(n.emulatorConfig.host)&&(h.credentials="include"),jT.fetch()(await HT(n,n.config.apiHost,t,l),h)})}async function BT(n,e,t){n._canInitEmulator=!1;const s=Object.assign(Object.assign({},IN),e);try{const i=new PN(n),r=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw eu(n,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const l=r.ok?o.errorMessage:o.error.message,[u,h]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw eu(n,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw eu(n,"email-already-in-use",o);if(u==="USER_DISABLED")throw eu(n,"user-disabled",o);const f=s[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw rm(n,f,h);ts(n,f)}}catch(i){if(i instanceof _i)throw i;ts(n,"network-request-failed",{message:String(i)})}}async function lc(n,e,t,s,i={}){const r=await yi(n,e,t,s,i);return"mfaPendingCredential"in r&&ts(n,"multi-factor-auth-required",{_serverResponse:r}),r}async function HT(n,e,t,s){const i=`${e}${t}?${s}`,r=n,o=r.config.emulator?am(n.config,i):`${n.config.apiScheme}://${i}`;return CN.includes(t)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(o).toString():o}function RN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(fs(this.auth,"network-request-failed")),SN.get())})}}function eu(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const i=fs(n,e,s);return i.customData._tokenResponse=t,i}function Sv(n){return n!==void 0&&n.enterprise!==void 0}class ON{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return RN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function DN(n,e){return yi(n,"GET","/v2/recaptchaConfig",vi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NN(n,e){return yi(n,"POST","/v1/accounts:delete",e)}async function Zu(n,e){return yi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kN(n,e=!1){const t=Un(n),s=await t.getIdToken(e),i=lm(s);Ie(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const r=typeof i.firebase=="object"?i.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:i,token:s,authTime:Pl(jd(i.auth_time)),issuedAtTime:Pl(jd(i.iat)),expirationTime:Pl(jd(i.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function jd(n){return Number(n)*1e3}function lm(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return Eu("JWT malformed, contained fewer than 3 sections"),null;try{const i=YE(t);return i?JSON.parse(i):(Eu("Failed to decode base64 JWT payload"),null)}catch(i){return Eu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Rv(n){const e=lm(n);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof _i&&xN(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function xN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pl(this.lastLoginAt),this.creationTime=Pl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eh(n){var e;const t=n.auth,s=await n.getIdToken(),i=await Ql(n,Zu(t,{idToken:s}));Ie(i==null?void 0:i.users.length,t,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const o=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?qT(r.providerUserInfo):[],l=MN(n.providerData,o),u=n.isAnonymous,h=!(n.email&&r.passwordHash)&&!(l!=null&&l.length),f=u?h:!1,g={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new Bf(r.createdAt,r.lastLoginAt),isAnonymous:f};Object.assign(n,g)}async function VN(n){const e=Un(n);await eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function MN(n,e){return[...n.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function qT(n){return n.map(e=>{var{providerId:t}=e,s=im(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $N(n,e){const t=await BT(n,{},async()=>{const s=nc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=n.config,o=await HT(n,i,"/v1/token",`key=${r}`),l=await n._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:s};return n.emulatorConfig&&ya(n.emulatorConfig.host)&&(u.credentials="include"),jT.fetch()(o,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function FN(n,e){return yi(n,"POST","/v2/accounts:revokeToken",vi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Rv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const t=Rv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:i,expiresIn:r}=await $N(e,t);this.updateTokensAndExpiration(s,i,Number(r))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:i,expirationTime:r}=t,o=new Xo;return s&&(Ie(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),i&&(Ie(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),r&&(Ie(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xo,this.toJSON())}_performRefresh(){return ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(n,e){Ie(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class hs{constructor(e){var{uid:t,auth:s,stsTokenManager:i}=e,r=im(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new LN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Bf(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await Ql(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return kN(this,e)}reload(){return VN(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new hs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await eh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(li(this.auth));const e=await this.getIdToken();return await Ql(this,NN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,i,r,o,l,u,h,f;const g=(s=t.displayName)!==null&&s!==void 0?s:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,b=(r=t.phoneNumber)!==null&&r!==void 0?r:void 0,k=(o=t.photoURL)!==null&&o!==void 0?o:void 0,L=(l=t.tenantId)!==null&&l!==void 0?l:void 0,$=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,U=(h=t.createdAt)!==null&&h!==void 0?h:void 0,F=(f=t.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:K,emailVerified:H,isAnonymous:ce,providerData:he,stsTokenManager:S}=t;Ie(K&&S,e,"internal-error");const T=Xo.fromJSON(this.name,S);Ie(typeof K=="string",e,"internal-error"),Vi(g,e.name),Vi(v,e.name),Ie(typeof H=="boolean",e,"internal-error"),Ie(typeof ce=="boolean",e,"internal-error"),Vi(b,e.name),Vi(k,e.name),Vi(L,e.name),Vi($,e.name),Vi(U,e.name),Vi(F,e.name);const A=new hs({uid:K,auth:e,email:v,emailVerified:H,displayName:g,isAnonymous:ce,photoURL:k,phoneNumber:b,tenantId:L,stsTokenManager:T,createdAt:U,lastLoginAt:F});return he&&Array.isArray(he)&&(A.providerData=he.map(R=>Object.assign({},R))),$&&(A._redirectEventId=$),A}static async _fromIdTokenResponse(e,t,s=!1){const i=new Xo;i.updateFromServerResponse(t);const r=new hs({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await eh(r),r}static async _fromGetAccountInfoResponse(e,t,s){const i=t.users[0];Ie(i.localId!==void 0,"internal-error");const r=i.providerUserInfo!==void 0?qT(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(r!=null&&r.length),l=new Xo;l.updateFromIdToken(s);const u=new hs({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:r,metadata:new Bf(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(r!=null&&r.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=new Map;function ri(n){pi(n instanceof Function,"Expected a class definition");let e=Pv.get(n);return e?(pi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Pv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}WT.type="NONE";const Ov=WT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(n,e,t){return`firebase:${n}:${e}:${t}`}class Jo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:i,name:r}=this.auth;this.fullUserKey=bu(this.userKey,i.apiKey,r),this.fullPersistenceKey=bu("persistence",i.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Zu(this.auth,{idToken:e}).catch(()=>{});return t?hs._fromGetAccountInfoResponse(this.auth,t,e):null}return hs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Jo(ri(Ov),e,s);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let r=i[0]||ri(Ov);const o=bu(s,e.config.apiKey,e.name);let l=null;for(const h of t)try{const f=await h._get(o);if(f){let g;if(typeof f=="string"){const v=await Zu(e,{idToken:f}).catch(()=>{});if(!v)break;g=await hs._fromGetAccountInfoResponse(e,v,f)}else g=hs._fromJSON(e,f);h!==r&&(l=g),r=h;break}}catch{}const u=i.filter(h=>h._shouldAllowMigration);return!r._shouldAllowMigration||!u.length?new Jo(r,e,s):(r=u[0],l&&await r._set(o,l.toJSON()),await Promise.all(t.map(async h=>{if(h!==r)try{await h._remove(o)}catch{}})),new Jo(r,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XT(e))return"Blackberry";if(JT(e))return"Webos";if(KT(e))return"Safari";if((e.includes("chrome/")||GT(e))&&!e.includes("edge/"))return"Chrome";if(QT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function zT(n=dn()){return/firefox\//i.test(n)}function KT(n=dn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GT(n=dn()){return/crios\//i.test(n)}function YT(n=dn()){return/iemobile/i.test(n)}function QT(n=dn()){return/android/i.test(n)}function XT(n=dn()){return/blackberry/i.test(n)}function JT(n=dn()){return/webos/i.test(n)}function cm(n=dn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function UN(n=dn()){var e;return cm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function jN(){return xR()&&document.documentMode===10}function ZT(n=dn()){return cm(n)||QT(n)||JT(n)||XT(n)||/windows phone/i.test(n)||YT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(n,e=[]){let t;switch(n){case"Browser":t=Dv(dn());break;case"Worker":t=`${Dv(dn())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ea}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=r=>new Promise((o,l)=>{try{const u=e(r);o(u)}catch(u){l(u)}});s.onAbort=t,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HN(n,e={}){return yi(n,"GET","/v2/passwordPolicy",vi(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=6;class WN{constructor(e){var t,s,i,r;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:qN,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,i,r,o,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(s=u.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(r=u.containsUppercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let i=0;i<e.length;i++)s=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,i,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,t,s,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nv(this),this.idTokenSubscription=new Nv(this),this.beforeStateQueue=new BN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ri(t)),this._initializationPromise=this.queue(async()=>{var s,i,r;if(!this._deleted&&(this.persistenceManager=await Jo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Zu(this,{idToken:e}),s=await hs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Vn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let i=s,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(i=u.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await eh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=AN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject(li(this));const t=e?Un(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject(li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HN(this),t=new WN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new tc("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await FN(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ri(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=await Jo.create(this,[ri(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,i){if(this._deleted)return()=>{};const r=typeof t=="function"?t:t.next.bind(t);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(l,this,"internal-error"),l.then(()=>{o||r(this.currentUser)}),typeof t=="function"){const u=e.addObserver(t,s,i);return()=>{o=!0,u()}}else{const u=e.addObserver(t);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ew(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&EN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ei(n){return Un(n)}class Nv{constructor(e){this.auth=e,this.observer=null,this.addObserver=BR(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KN(n){Bh=n}function tw(n){return Bh.loadJS(n)}function GN(){return Bh.recaptchaEnterpriseScript}function YN(){return Bh.gapiScript}function QN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class XN{constructor(){this.enterprise=new JN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class JN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const ZN="recaptcha-enterprise",nw="NO_RECAPTCHA";class ek{constructor(e){this.type=ZN,this.auth=Ei(e)}async verify(e="verify",t=!1){async function s(r){if(!t){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,l)=>{DN(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const h=new ON(u);return r.tenantId==null?r._agentRecaptchaConfig=h:r._tenantRecaptchaConfigs[r.tenantId]=h,o(h.siteKey)}}).catch(u=>{l(u)})})}function i(r,o,l){const u=window.grecaptcha;Sv(u)?u.enterprise.ready(()=>{u.enterprise.execute(r,{action:e}).then(h=>{o(h)}).catch(()=>{o(nw)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new XN().execute("siteKey",{action:"verify"}):new Promise((r,o)=>{s(this.auth).then(l=>{if(!t&&Sv(window.grecaptcha))i(l,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=GN();u.length!==0&&(u+=l),tw(u).then(()=>{i(l,r,o)}).catch(h=>{o(h)})}}).catch(l=>{o(l)})})}}async function kv(n,e,t,s=!1,i=!1){const r=new ek(n);let o;if(i)o=nw;else try{o=await r.verify(t)}catch{o=await r.verify(t,!0)}const l=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,h=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return s?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function th(n,e,t,s,i){var r;if(!((r=n._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await kv(n,e,t,t==="getOobCode");return s(n,o)}else return s(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await kv(n,e,t,t==="getOobCode");return s(n,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(n,e){const t=_p(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),r=t.getOptions();if(zr(r,e??{}))return i;ts(i,"already-initialized")}return t.initialize({options:e})}function nk(n,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(ri);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function sk(n,e,t){const s=Ei(n);Ie(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const i=!1,r=sw(e),{host:o,port:l}=ik(e),u=l===null?"":`:${l}`,h={url:`${r}//${o}${u}/`},f=Object.freeze({host:o,port:l,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!s._canInitEmulator){Ie(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ie(zr(h,s.config.emulator)&&zr(f,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=h,s.emulatorConfig=f,s.settings.appVerificationDisabledForTesting=!0,ya(o)?(ZE(`${r}//${o}${u}`),eb("Auth",!0)):rk()}function sw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function ik(n){const e=sw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const r=i[1];return{host:r,port:xv(s.substr(r.length+1))}}else{const[r,o]=s.split(":");return{host:r,port:xv(o)}}}function xv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function rk(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ii("not implemented")}_getIdTokenResponse(e){return ii("not implemented")}_linkToIdToken(e,t){return ii("not implemented")}_getReauthenticationResolver(e){return ii("not implemented")}}async function ok(n,e){return yi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ak(n,e){return lc(n,"POST","/v1/accounts:signInWithPassword",vi(n,e))}async function lk(n,e){return yi(n,"POST","/v1/accounts:sendOobCode",vi(n,e))}async function ck(n,e){return lk(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uk(n,e){return lc(n,"POST","/v1/accounts:signInWithEmailLink",vi(n,e))}async function hk(n,e){return lc(n,"POST","/v1/accounts:signInWithEmailLink",vi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl extends um{constructor(e,t,s,i=null){super("password",s),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Xl(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Xl(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return th(e,t,"signInWithPassword",ak);case"emailLink":return uk(e,{email:this._email,oobCode:this._password});default:ts(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return th(e,s,"signUpPassword",ok);case"emailLink":return hk(e,{idToken:t,email:this._email,oobCode:this._password});default:ts(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(n,e){return lc(n,"POST","/v1/accounts:signInWithIdp",vi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk="http://localhost";class Qr extends um{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Qr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ts("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i}=t,r=im(t,["providerId","signInMethod"]);if(!s||!i)return null;const o=new Qr(s,i);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return Zo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Zo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Zo(e,t)}buildRequest(){const e={requestUri:dk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=nc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pk(n){const e=hl(dl(n)).link,t=e?hl(dl(e)).deep_link_id:null,s=hl(dl(n)).deep_link_id;return(s?hl(dl(s)).link:null)||s||t||e||n}class hm{constructor(e){var t,s,i,r,o,l;const u=hl(dl(e)),h=(t=u.apiKey)!==null&&t!==void 0?t:null,f=(s=u.oobCode)!==null&&s!==void 0?s:null,g=fk((i=u.mode)!==null&&i!==void 0?i:null);Ie(h&&f&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=f,this.continueUrl=(r=u.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=u.lang)!==null&&o!==void 0?o:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const t=pk(e);try{return new hm(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(){this.providerId=Ca.PROVIDER_ID}static credential(e,t){return Xl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=hm.parseLink(t);return Ie(s,"argument-error"),Xl._fromEmailAndCode(e,s.code,s.tenantId)}}Ca.PROVIDER_ID="password";Ca.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ca.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends dm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends cc{constructor(){super("facebook.com")}static credential(e){return Qr._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends cc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Qr._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return si.credential(t,s)}catch{return null}}}si.GOOGLE_SIGN_IN_METHOD="google.com";si.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends cc{constructor(){super("github.com")}static credential(e){return Qr._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.GITHUB_SIGN_IN_METHOD="github.com";Hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends cc{constructor(){super("twitter.com")}static credential(e,t){return Qr._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return qi.credential(t,s)}catch{return null}}}qi.TWITTER_SIGN_IN_METHOD="twitter.com";qi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mk(n,e){return lc(n,"POST","/v1/accounts:signUp",vi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,i=!1){const r=await hs._fromIdTokenResponse(e,s,i),o=Lv(s);return new Xr({user:r,providerId:o,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const i=Lv(s);return new Xr({user:e,providerId:i,_tokenResponse:s,operationType:t})}}function Lv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh extends _i{constructor(e,t,s,i){var r;super(t.code,t.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,nh.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,i){return new nh(e,t,s,i)}}function iw(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?nh._fromErrorAndOperation(n,r,e,s):r})}async function gk(n,e,t=!1){const s=await Ql(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Xr._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _k(n,e,t=!1){const{auth:s}=n;if(Vn(s.app))return Promise.reject(li(s));const i="reauthenticate";try{const r=await Ql(n,iw(s,i,e,n),t);Ie(r.idToken,s,"internal-error");const o=lm(r.idToken);Ie(o,s,"internal-error");const{sub:l}=o;return Ie(n.uid===l,s,"user-mismatch"),Xr._forOperation(n,i,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&ts(s,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rw(n,e,t=!1){if(Vn(n.app))return Promise.reject(li(n));const s="signIn",i=await iw(n,s,e),r=await Xr._fromIdTokenResponse(n,s,i);return t||await n._updateCurrentUser(r.user),r}async function vk(n,e){return rw(Ei(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ow(n){const e=Ei(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function yk(n,e,t){const s=Ei(n);await th(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",ck)}async function Ek(n,e,t){if(Vn(n.app))return Promise.reject(li(n));const s=Ei(n),o=await th(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mk).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&ow(n),u}),l=await Xr._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(l.user),l}function bk(n,e,t){return Vn(n.app)?Promise.reject(li(n)):vk(Un(n),Ca.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&ow(n),s})}function Tk(n,e,t,s){return Un(n).onIdTokenChanged(e,t,s)}function wk(n,e,t){return Un(n).beforeAuthStateChanged(e,t)}const sh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(sh,"1"),this.storage.removeItem(sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=1e3,Ik=10;class lw extends aw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ZT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),i=this.localCache[t];s!==i&&e(t,i,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const s=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(s);!t&&this.localCache[s]===o||this.notifyListeners(s,o)},r=this.storage.getItem(s);jN()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Ik):i()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},Ak)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}lw.type="LOCAL";const Ck=lw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw extends aw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}cw.type="SESSION";const uw=cw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const s=new Hh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:i,data:r}=t.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const l=Array.from(o).map(async h=>h(t.origin,r)),u=await Sk(l);t.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:u})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,o;return new Promise((l,u)=>{const h=fm("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},s);o={messageChannel:i,onMessage(g){const v=g;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(f),r=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),l(v.data.response);break;default:clearTimeout(f),clearTimeout(r),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(){return window}function Pk(n){xs().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(){return typeof xs().WorkerGlobalScope<"u"&&typeof xs().importScripts=="function"}async function Ok(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Dk(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Nk(){return hw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="firebaseLocalStorageDb",kk=1,ih="firebaseLocalStorage",fw="fbase_key";class uc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function qh(n,e){return n.transaction([ih],e?"readwrite":"readonly").objectStore(ih)}function xk(){const n=indexedDB.deleteDatabase(dw);return new uc(n).toPromise()}function Hf(){const n=indexedDB.open(dw,kk);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(ih,{keyPath:fw})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(ih)?e(s):(s.close(),await xk(),e(await Hf()))})})}async function Vv(n,e,t){const s=qh(n,!0).put({[fw]:e,value:t});return new uc(s).toPromise()}async function Lk(n,e){const t=qh(n,!1).get(e),s=await new uc(t).toPromise();return s===void 0?null:s.value}function Mv(n,e){const t=qh(n,!0).delete(e);return new uc(t).toPromise()}const Vk=800,Mk=3;class pw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>Mk)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hh._getInstance(Nk()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Ok(),!this.activeServiceWorker)return;this.sender=new Rk(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Dk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hf();return await Vv(e,sh,"1"),await Mv(e,sh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Vv(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>Lk(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Mv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const r=qh(i,!1).getAll();return new uc(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:i,value:r}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Vk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pw.type="LOCAL";const $k=pw;new ac(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(n,e){return e?ri(e):(Ie(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm extends um{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Zo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Zo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Fk(n){return rw(n.auth,new pm(n),n.bypassAuthState)}function Uk(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),_k(t,new pm(n),n.bypassAuthState)}async function jk(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),gk(t,new pm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e,t,s,i,r=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:i,tenantId:r,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:t,sessionId:s,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Fk;case"linkViaPopup":case"linkViaRedirect":return jk;case"reauthViaPopup":case"reauthViaRedirect":return Uk;default:ts(this.auth,"internal-error")}}resolve(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk=new ac(2e3,1e4);async function Hk(n,e,t){if(Vn(n.app))return Promise.reject(fs(n,"operation-not-supported-in-this-environment"));const s=Ei(n);bN(n,e,dm);const i=mw(s,t);return new Ur(s,"signInViaPopup",e,i).executeNotNull()}class Ur extends gw{constructor(e,t,s,i,r){super(e,t,i,r),this.provider=s,this.authWindow=null,this.pollId=null,Ur.currentPopupAction&&Ur.currentPopupAction.cancel(),Ur.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){pi(this.filter.length===1,"Popup operations only handle one event");const e=fm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(fs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ur.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Bk.get())};e()}}Ur.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk="pendingRedirect",Tu=new Map;class Wk extends gw{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Tu.get(this.auth._key());if(!e){try{const s=await zk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Tu.set(this.auth._key(),e)}return this.bypassAuthState||Tu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zk(n,e){const t=Yk(e),s=Gk(n);if(!await s._isAvailable())return!1;const i=await s._get(t)==="true";return await s._remove(t),i}function Kk(n,e){Tu.set(n._key(),e)}function Gk(n){return ri(n._redirectPersistence)}function Yk(n){return bu(qk,n.config.apiKey,n.name)}async function Qk(n,e,t=!1){if(Vn(n.app))return Promise.reject(li(n));const s=Ei(n),i=mw(s,e),o=await new Wk(s,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=10*60*1e3;class Jk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Zk(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!_w(e)){const i=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(fs(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Xk&&this.cachedEventUids.clear(),this.cachedEventUids.has($v(e))}saveEventToCache(e){this.cachedEventUids.add($v(e)),this.lastProcessedEventTime=Date.now()}}function $v(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function _w({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Zk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _w(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ex(n,e={}){return yi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nx=/^https?/;async function sx(n){if(n.config.emulator)return;const{authorizedDomains:e}=await ex(n);for(const t of e)try{if(ix(t))return}catch{}ts(n,"unauthorized-domain")}function ix(n){const e=jf(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===s}if(!nx.test(t))return!1;if(tx.test(n))return s===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx=new ac(3e4,6e4);function Fv(){const n=xs().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function ox(n){return new Promise((e,t)=>{var s,i,r;function o(){Fv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fv(),t(fs(n,"network-request-failed"))},timeout:rx.get()})}if(!((i=(s=xs().gapi)===null||s===void 0?void 0:s.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((r=xs().gapi)===null||r===void 0)&&r.load)o();else{const l=QN("iframefcb");return xs()[l]=()=>{gapi.load?o():t(fs(n,"network-request-failed"))},tw(`${YN()}?onload=${l}`).catch(u=>t(u))}}).catch(e=>{throw wu=null,e})}let wu=null;function ax(n){return wu=wu||ox(n),wu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=new ac(5e3,15e3),cx="__/auth/iframe",ux="emulator/auth/iframe",hx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fx(n){const e=n.config;Ie(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?am(e,ux):`https://${n.config.authDomain}/${cx}`,s={apiKey:e.apiKey,appName:n.name,v:Ea},i=dx.get(n.config.apiHost);i&&(s.eid=i);const r=n._getFrameworks();return r.length&&(s.fw=r.join(",")),`${t}?${nc(s).slice(1)}`}async function px(n){const e=await ax(n),t=xs().gapi;return Ie(t,n,"internal-error"),e.open({where:document.body,url:fx(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hx,dontclear:!0},s=>new Promise(async(i,r)=>{await s.restyle({setHideOnLeave:!1});const o=fs(n,"network-request-failed"),l=xs().setTimeout(()=>{r(o)},lx.get());function u(){xs().clearTimeout(l),i(s)}s.ping(u).then(u,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gx=500,_x=600,vx="_blank",yx="http://localhost";class Uv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ex(n,e,t,s=gx,i=_x){const r=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let l="";const u=Object.assign(Object.assign({},mx),{width:s.toString(),height:i.toString(),top:r,left:o}),h=dn().toLowerCase();t&&(l=GT(h)?vx:t),zT(h)&&(e=e||yx,u.scrollbars="yes");const f=Object.entries(u).reduce((v,[b,k])=>`${v}${b}=${k},`,"");if(UN(h)&&l!=="_self")return bx(e||"",l),new Uv(null);const g=window.open(e||"",l,f);Ie(g,n,"popup-blocked");try{g.focus()}catch{}return new Uv(g)}function bx(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="__/auth/handler",wx="emulator/auth/handler",Ax=encodeURIComponent("fac");async function jv(n,e,t,s,i,r){Ie(n.config.authDomain,n,"auth-domain-config-required"),Ie(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:Ea,eventId:i};if(e instanceof dm){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",jR(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,g]of Object.entries({}))o[f]=g}if(e instanceof cc){const f=e.getScopes().filter(g=>g!=="");f.length>0&&(o.scopes=f.join(","))}n.tenantId&&(o.tid=n.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await n._getAppCheckToken(),h=u?`#${Ax}=${encodeURIComponent(u)}`:"";return`${Ix(n)}?${nc(l).slice(1)}${h}`}function Ix({config:n}){return n.emulator?am(n,wx):`https://${n.authDomain}/${Tx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="webStorageSupport";class Cx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uw,this._completeRedirectFn=Qk,this._overrideRedirectResult=Kk}async _openPopup(e,t,s,i){var r;pi((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await jv(e,t,s,jf(),i);return Ex(e,o,fm())}async _openRedirect(e,t,s,i){await this._originValidation(e);const r=await jv(e,t,s,jf(),i);return Pk(r),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:r}=this.eventManagers[t];return i?Promise.resolve(i):(pi(r,"If manager is not set, promise should be"),r)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await px(e),s=new Jk(e);return t.register("authEvent",i=>(Ie(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Bd,{type:Bd},i=>{var r;const o=(r=i==null?void 0:i[0])===null||r===void 0?void 0:r[Bd];o!==void 0&&t(!!o),ts(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=sx(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ZT()||KT()||cm()}}const Sx=Cx;var Bv="@firebase/auth",Hv="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ox(n){sa(new Kr("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=s.options;Ie(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const u={apiKey:o,authDomain:l,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ew(n)},h=new zN(s,i,r,u);return nk(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),sa(new Kr("auth-internal",e=>{const t=Ei(e.getProvider("auth").getImmediate());return(s=>new Rx(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yi(Bv,Hv,Px(n)),Yi(Bv,Hv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=5*60,Nx=JE("authIdTokenMaxAge")||Dx;let qv=null;const kx=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>Nx)return;const i=t==null?void 0:t.token;qv!==i&&(qv=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function xx(n=ib()){const e=_p(n,"auth");if(e.isInitialized())return e.getImmediate();const t=tk(n,{popupRedirectResolver:Sx,persistence:[$k,Ck,uw]}),s=JE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(s,location.origin);if(location.origin===r.origin){const o=kx(r.toString());wk(t,o,()=>o(t.currentUser)),Tk(t,l=>o(l))}}const i=QE("auth");return i&&sk(t,`http://${i}`),t}function Lx(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}KN({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=i=>{const r=fs("internal-error");r.customData=i,t(r)},s.type="text/javascript",s.charset="UTF-8",Lx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ox("Browser");const Vx={apiKey:"AIzaSyCwjBfaaOxu0q3af_aPIlvDnpvSE1z3ms0",authDomain:"instant-geek.firebaseapp.com",projectId:"instant-geek",storageBucket:"instant-geek.firebasestorage.app",messagingSenderId:"317020332794",appId:"1:317020332794:web:933ab287d47fafd86cdf43",measurementId:"G-5F717TETW2"},vw=sb(Vx),Wh=xx(vw),Sa=XD(vw),js=(n,e)=>{const t=n.__vccOpts||n;for(const[s,i]of e)t[s]=i;return t},Mx={class:"container-fluid"},$x={class:"row justify-content-center"},Fx={class:"col-12 col-md-10 col-lg-8 p-0 w-100"},Ux={class:"slider-wrapper"},jx=["src","alt"],Bx=["onClick"],Hx=["href"],qx=["src","alt"],Wx=["src","alt"],zx=["src","alt"],Kx={class:"game-info mt-3"},Gx=["href"],Yx=["src"],Qx={__name:"slider",setup(n){At([]);const e=At([{src:"/assets/img/icon/gtavi.png",alt:"Image 1"},{src:"/assets/img/icon/metaphor.png",alt:"Image 2"},{src:"/assets/img/icon/nightrein.png",alt:"Image 3"},{src:"/assets/img/icon/TLOU2.jpg",alt:"Image 4"},{src:"/assets/img/icon/Clair_Obscur.jpg",alt:"Image 5"}]),t=At([{src:"https://www.instant-gaming.com/fr/2462-acheter-grand-theft-auto-vi-pc-jeu-rockstar/",alt:"Page GTA VI"},{src:"https://www.instant-gaming.com/fr/14352-acheter-metaphor-refantazio-pc-jeu-steam-europe/",alt:"Page Metaphor"},{src:"https://www.instant-gaming.com/fr/18294-acheter-elden-ring-nightreign-pc-jeu-steam-europe/",alt:"Page Elden Ring Nightrein"},{src:"https://www.instant-gaming.com/fr/6215-acheter-the-last-of-us-part-ii-remastered-pc-jeu-steam-europe/",alt:"Page The Last of Us 2"},{src:"https://www.instant-gaming.com/fr/17015-acheter-clair-obscur-expedition-33-pc-jeu-steam-europe-us-canada/",alt:"Page Clair Obscur"}]),s=[{src:"https://cdn2.steamgriddb.com/hero_thumb/b80be7960918982fceea91afaf4d5e27.jpg",alt:"Image Hero GTA VI"},{src:"https://cdn2.steamgriddb.com/hero_thumb/aaecbb83e18bf24199bc5b2d3a280054.jpg",alt:"Image Hero Metaphor"},{src:"https://cdn2.steamgriddb.com/hero_thumb/8ec28b09ec95f08279e82459f1289c34.jpg",alt:"Image Hero Nightrein"},{src:"https://cdn2.steamgriddb.com/hero_thumb/5b465c13fd8cac3b9baf4af74bc0069a.png",alt:"Image Hero TLOU2"},{src:"https://cdn2.steamgriddb.com/hero_thumb/d2d195657240f493374e95e2b75cc8cf.jpg",alt:"Image Hero Clair Obscur"}],i=At([{name:"Grand Thief Auto VI",description:"lorem ipsum",price:"59.99"},{name:"Metaphor: ReFantazio",description:"lorem ipsum",price:"49.99"},{name:"Elden Ring Nightrein",description:"lorem ipsum",price:"39.99"},{name:"The Last of Us Part II REMASTERED",description:"lorem ipsum",price:"29.99"},{name:"Clair Obscur : Expdition 33",description:"lorem ipsum",price:"19.99"}]),r=At(0),o=At(!1),l=At([!1,!1,!1,!1,!1]);Tn(()=>(r.value-1+e.value.length)%e.value.length),Tn(()=>(r.value+1)%e.value.length);const u=Tn(()=>{const U=e.value.length;return[e.value[(r.value-1+U)%U],e.value[r.value],e.value[(r.value+1)%U]]}),h=Tn(()=>{const U=e.value.length;return[e.value[(r.value-2+U)%U],e.value[(r.value+2)%U]]}),f=U=>U===1?{width:"50%"}:{width:"25%"};let g=null;function v(){g&&clearInterval(g),g=setInterval(()=>{b()},6e3)}va(()=>{v()}),hp(()=>{clearInterval(g)});const b=()=>{o.value=!0,setTimeout(()=>{r.value=(r.value+1)%e.value.length,o.value=!1,v()},500)},k=()=>{o.value=!0,setTimeout(()=>{r.value=(r.value-1+e.value.length)%e.value.length,o.value=!1,v()},500)},L=U=>{U===0&&k(),U===2&&b()},$=U=>{l.value[U]=!l.value[U]};return(U,F)=>(Ye(),Qe("div",Mx,[M("div",$x,[M("div",Fx,[M("div",{class:"carousel-container mx-auto",style:Nl({"--carousel-bg":`url('${s[r.value].src}')`})},[M("div",Ux,[M("div",{class:qo(["slide","prev"]),onClick:F[0]||(F[0]=K=>L(0))},[M("img",{src:h.value[0].src,alt:h.value[0].alt,class:"img-fluid rounded-4 w-50"},null,8,jx)]),(Ye(!0),Qe(kt,null,Zi(u.value,(K,H)=>(Ye(),Qe("div",{key:H,class:qo(["slide",H===0?"prev":H===1?"active":"next",H===1&&o.value?"fading":""]),style:Nl(f(H)),onClick:ce=>L(H)},[H===1?(Ye(),Qe("a",{key:0,href:t.value[r.value].src,target:"_blank"},[M("img",{src:K.src,alt:K.alt,class:"img-fluid rounded-4",style:{cursor:"pointer"}},null,8,qx)],8,Hx)):(Ye(),Qe("img",{key:1,src:K.src,alt:K.alt,class:"img-fluid rounded-4"},null,8,Wx))],14,Bx))),128)),M("div",{class:qo(["slide","next"]),onClick:F[1]||(F[1]=K=>L(2))},[M("img",{src:h.value[1].src,alt:h.value[1].alt,class:"img-fluid rounded-4 w-50"},null,8,zx)])]),M("div",{class:"controls d-flex justify-content-between mt-3"},[M("button",{class:"btn",onClick:k},F[3]||(F[3]=[M("span",{class:"carousel-control-prev-icon","aria-hidden":"true"},null,-1)])),M("button",{class:"btn",onClick:b},F[4]||(F[4]=[M("span",{class:"carousel-control-next-icon","aria-hidden":"true"},null,-1)]))]),M("div",Kx,[M("h2",null,Bt(i.value[r.value].name),1),M("p",null,Bt(i.value[r.value].description),1),M("p",null,Bt(i.value[r.value].price),1),F[5]||(F[5]=M("a",{class:"btn btn-page me-2"},"Acheter",-1)),M("a",{href:t.value[r.value].src,target:"_blank",class:"btn btn-page me-2"},"Page du jeu",8,Gx),M("a",{class:"btn btn-danger",onClick:F[2]||(F[2]=K=>$(r.value))},[M("img",{src:l.value[r.value]?"/assets/img/favorite_black.png":"/assets/img/favorite_empty.png",alt:"Icne",style:{width:"24px",height:"24px"}},null,8,Yx)])])],4)])])]))}},Xx=js(Qx,[["__scopeId","data-v-8ff7a5d0"]]),Jx={class:"container-fluid py-2 preco"},Zx={class:"media-scroller snaps-inline",id:"precoIn"},eL={class:"game-card"},tL=["href"],nL=["src","alt"],sL={class:"game-text"},iL={class:"titre"},rL={class:"prix"},oL={__name:"Preco",setup(n){const e=At([]),t=async()=>{const s=jp(Sa,"games"),i=new Date;i.setHours(0,0,0,0);const r=Xp(s,Jp("dateSortie",">=",i),MT("dateSortie"),cN(8));try{const o=await nm(r);e.value=[],o.forEach(l=>{const u=l.data();e.value.push({id:l.id,titre:u.name,link:u.link,image:u.image,price:`${u.price}`})})}catch(o){console.error("Erreur lors de la rcupration des jeux :",o)}};return va(()=>{t()}),(s,i)=>(Ye(),Qe("div",Jx,[i[1]||(i[1]=M("h2",{class:"font-weight-light"},"Prcommandes",-1)),M("div",null,[M("ul",Zx,[(Ye(!0),Qe(kt,null,Zi(e.value,r=>(Ye(),Qe("li",{key:r.id},[M("div",eL,[M("a",{href:r.link},[M("img",{src:`/assets/img/preview/${r.image}`,alt:r.titre},null,8,nL)],8,tL),M("div",sL,[M("h3",iL,Bt(r.titre),1),M("h3",rL,Bt(r.price),1)]),i[0]||(i[0]=M("h2",null,null,-1))])]))),128))])])]))}},aL=js(oL,[["__scopeId","data-v-dea1d3e2"]]);var Au={exports:{}};/*!
  * Bootstrap v5.3.6 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var lL=Au.exports,Wv;function cL(){return Wv||(Wv=1,function(n,e){(function(t,s){n.exports=s()})(lL,function(){const t=new Map,s={set(_,c,p){t.has(_)||t.set(_,new Map);const y=t.get(_);y.has(c)||y.size===0?y.set(c,p):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(y.keys())[0]}.`)},get:(_,c)=>t.has(_)&&t.get(_).get(c)||null,remove(_,c){if(!t.has(_))return;const p=t.get(_);p.delete(c),p.size===0&&t.delete(_)}},i="transitionend",r=_=>(_&&window.CSS&&window.CSS.escape&&(_=_.replace(/#([^\s"#']+)/g,(c,p)=>`#${CSS.escape(p)}`)),_),o=_=>{_.dispatchEvent(new Event(i))},l=_=>!(!_||typeof _!="object")&&(_.jquery!==void 0&&(_=_[0]),_.nodeType!==void 0),u=_=>l(_)?_.jquery?_[0]:_:typeof _=="string"&&_.length>0?document.querySelector(r(_)):null,h=_=>{if(!l(_)||_.getClientRects().length===0)return!1;const c=getComputedStyle(_).getPropertyValue("visibility")==="visible",p=_.closest("details:not([open])");if(!p)return c;if(p!==_){const y=_.closest("summary");if(y&&y.parentNode!==p||y===null)return!1}return c},f=_=>!_||_.nodeType!==Node.ELEMENT_NODE||!!_.classList.contains("disabled")||(_.disabled!==void 0?_.disabled:_.hasAttribute("disabled")&&_.getAttribute("disabled")!=="false"),g=_=>{if(!document.documentElement.attachShadow)return null;if(typeof _.getRootNode=="function"){const c=_.getRootNode();return c instanceof ShadowRoot?c:null}return _ instanceof ShadowRoot?_:_.parentNode?g(_.parentNode):null},v=()=>{},b=_=>{_.offsetHeight},k=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,L=[],$=()=>document.documentElement.dir==="rtl",U=_=>{var c;c=()=>{const p=k();if(p){const y=_.NAME,O=p.fn[y];p.fn[y]=_.jQueryInterface,p.fn[y].Constructor=_,p.fn[y].noConflict=()=>(p.fn[y]=O,_.jQueryInterface)}},document.readyState==="loading"?(L.length||document.addEventListener("DOMContentLoaded",()=>{for(const p of L)p()}),L.push(c)):c()},F=(_,c=[],p=_)=>typeof _=="function"?_.call(...c):p,K=(_,c,p=!0)=>{if(!p)return void F(_);const y=(B=>{if(!B)return 0;let{transitionDuration:Z,transitionDelay:oe}=window.getComputedStyle(B);const pe=Number.parseFloat(Z),ge=Number.parseFloat(oe);return pe||ge?(Z=Z.split(",")[0],oe=oe.split(",")[0],1e3*(Number.parseFloat(Z)+Number.parseFloat(oe))):0})(c)+5;let O=!1;const N=({target:B})=>{B===c&&(O=!0,c.removeEventListener(i,N),F(_))};c.addEventListener(i,N),setTimeout(()=>{O||o(c)},y)},H=(_,c,p,y)=>{const O=_.length;let N=_.indexOf(c);return N===-1?!p&&y?_[O-1]:_[0]:(N+=p?1:-1,y&&(N=(N+O)%O),_[Math.max(0,Math.min(N,O-1))])},ce=/[^.]*(?=\..*)\.|.*/,he=/\..*/,S=/::\d+$/,T={};let A=1;const R={mouseenter:"mouseover",mouseleave:"mouseout"},P=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function D(_,c){return c&&`${c}::${A++}`||_.uidEvent||A++}function I(_){const c=D(_);return _.uidEvent=c,T[c]=T[c]||{},T[c]}function ft(_,c,p=null){return Object.values(_).find(y=>y.callable===c&&y.delegationSelector===p)}function wt(_,c,p){const y=typeof c=="string",O=y?p:c||p;let N=bt(_);return P.has(N)||(N=_),[y,O,N]}function Be(_,c,p,y,O){if(typeof c!="string"||!_)return;let[N,B,Z]=wt(c,p,y);c in R&&(B=(De=>function(Pe){if(!Pe.relatedTarget||Pe.relatedTarget!==Pe.delegateTarget&&!Pe.delegateTarget.contains(Pe.relatedTarget))return De.call(this,Pe)})(B));const oe=I(_),pe=oe[Z]||(oe[Z]={}),ge=ft(pe,B,N?p:null);if(ge)return void(ge.oneOff=ge.oneOff&&O);const ue=D(B,c.replace(ce,"")),Ve=N?function(Ae,De,Pe){return function Ne(ct){const mt=Ae.querySelectorAll(De);for(let{target:je}=ct;je&&je!==this;je=je.parentNode)for(const tt of mt)if(tt===je)return xt(ct,{delegateTarget:je}),Ne.oneOff&&Y.off(Ae,ct.type,De,Pe),Pe.apply(je,[ct])}}(_,p,B):function(Ae,De){return function Pe(Ne){return xt(Ne,{delegateTarget:Ae}),Pe.oneOff&&Y.off(Ae,Ne.type,De),De.apply(Ae,[Ne])}}(_,B);Ve.delegationSelector=N?p:null,Ve.callable=B,Ve.oneOff=O,Ve.uidEvent=ue,pe[ue]=Ve,_.addEventListener(Z,Ve,N)}function we(_,c,p,y,O){const N=ft(c[p],y,O);N&&(_.removeEventListener(p,N,!!O),delete c[p][N.uidEvent])}function xe(_,c,p,y){const O=c[p]||{};for(const[N,B]of Object.entries(O))N.includes(y)&&we(_,c,p,B.callable,B.delegationSelector)}function bt(_){return _=_.replace(he,""),R[_]||_}const Y={on(_,c,p,y){Be(_,c,p,y,!1)},one(_,c,p,y){Be(_,c,p,y,!0)},off(_,c,p,y){if(typeof c!="string"||!_)return;const[O,N,B]=wt(c,p,y),Z=B!==c,oe=I(_),pe=oe[B]||{},ge=c.startsWith(".");if(N===void 0){if(ge)for(const ue of Object.keys(oe))xe(_,oe,ue,c.slice(1));for(const[ue,Ve]of Object.entries(pe)){const Ae=ue.replace(S,"");Z&&!c.includes(Ae)||we(_,oe,B,Ve.callable,Ve.delegationSelector)}}else{if(!Object.keys(pe).length)return;we(_,oe,B,N,O?p:null)}},trigger(_,c,p){if(typeof c!="string"||!_)return null;const y=k();let O=null,N=!0,B=!0,Z=!1;c!==bt(c)&&y&&(O=y.Event(c,p),y(_).trigger(O),N=!O.isPropagationStopped(),B=!O.isImmediatePropagationStopped(),Z=O.isDefaultPrevented());const oe=xt(new Event(c,{bubbles:N,cancelable:!0}),p);return Z&&oe.preventDefault(),B&&_.dispatchEvent(oe),oe.defaultPrevented&&O&&O.preventDefault(),oe}};function xt(_,c={}){for(const[p,y]of Object.entries(c))try{_[p]=y}catch{Object.defineProperty(_,p,{configurable:!0,get:()=>y})}return _}function Je(_){if(_==="true")return!0;if(_==="false")return!1;if(_===Number(_).toString())return Number(_);if(_===""||_==="null")return null;if(typeof _!="string")return _;try{return JSON.parse(decodeURIComponent(_))}catch{return _}}function Ze(_){return _.replace(/[A-Z]/g,c=>`-${c.toLowerCase()}`)}const vt={setDataAttribute(_,c,p){_.setAttribute(`data-bs-${Ze(c)}`,p)},removeDataAttribute(_,c){_.removeAttribute(`data-bs-${Ze(c)}`)},getDataAttributes(_){if(!_)return{};const c={},p=Object.keys(_.dataset).filter(y=>y.startsWith("bs")&&!y.startsWith("bsConfig"));for(const y of p){let O=y.replace(/^bs/,"");O=O.charAt(0).toLowerCase()+O.slice(1),c[O]=Je(_.dataset[y])}return c},getDataAttribute:(_,c)=>Je(_.getAttribute(`data-bs-${Ze(c)}`))};class yt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(c){return c=this._mergeConfigObj(c),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}_configAfterMerge(c){return c}_mergeConfigObj(c,p){const y=l(p)?vt.getDataAttribute(p,"config"):{};return{...this.constructor.Default,...typeof y=="object"?y:{},...l(p)?vt.getDataAttributes(p):{},...typeof c=="object"?c:{}}}_typeCheckConfig(c,p=this.constructor.DefaultType){for(const[O,N]of Object.entries(p)){const B=c[O],Z=l(B)?"element":(y=B)==null?`${y}`:Object.prototype.toString.call(y).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(N).test(Z))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${O}" provided type "${Z}" but expected type "${N}".`)}var y}}class et extends yt{constructor(c,p){super(),(c=u(c))&&(this._element=c,this._config=this._getConfig(p),s.set(this._element,this.constructor.DATA_KEY,this))}dispose(){s.remove(this._element,this.constructor.DATA_KEY),Y.off(this._element,this.constructor.EVENT_KEY);for(const c of Object.getOwnPropertyNames(this))this[c]=null}_queueCallback(c,p,y=!0){K(c,p,y)}_getConfig(c){return c=this._mergeConfigObj(c,this._element),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}static getInstance(c){return s.get(u(c),this.DATA_KEY)}static getOrCreateInstance(c,p={}){return this.getInstance(c)||new this(c,typeof p=="object"?p:null)}static get VERSION(){return"5.3.6"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(c){return`${c}${this.EVENT_KEY}`}}const W=_=>{let c=_.getAttribute("data-bs-target");if(!c||c==="#"){let p=_.getAttribute("href");if(!p||!p.includes("#")&&!p.startsWith("."))return null;p.includes("#")&&!p.startsWith("#")&&(p=`#${p.split("#")[1]}`),c=p&&p!=="#"?p.trim():null}return c?c.split(",").map(p=>r(p)).join(","):null},q={find:(_,c=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(c,_)),findOne:(_,c=document.documentElement)=>Element.prototype.querySelector.call(c,_),children:(_,c)=>[].concat(..._.children).filter(p=>p.matches(c)),parents(_,c){const p=[];let y=_.parentNode.closest(c);for(;y;)p.push(y),y=y.parentNode.closest(c);return p},prev(_,c){let p=_.previousElementSibling;for(;p;){if(p.matches(c))return[p];p=p.previousElementSibling}return[]},next(_,c){let p=_.nextElementSibling;for(;p;){if(p.matches(c))return[p];p=p.nextElementSibling}return[]},focusableChildren(_){const c=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(p=>`${p}:not([tabindex^="-"])`).join(",");return this.find(c,_).filter(p=>!f(p)&&h(p))},getSelectorFromElement(_){const c=W(_);return c&&q.findOne(c)?c:null},getElementFromSelector(_){const c=W(_);return c?q.findOne(c):null},getMultipleElementsFromSelector(_){const c=W(_);return c?q.find(c):[]}},ie=(_,c="hide")=>{const p=`click.dismiss${_.EVENT_KEY}`,y=_.NAME;Y.on(document,p,`[data-bs-dismiss="${y}"]`,function(O){if(["A","AREA"].includes(this.tagName)&&O.preventDefault(),f(this))return;const N=q.getElementFromSelector(this)||this.closest(`.${y}`);_.getOrCreateInstance(N)[c]()})},fe=".bs.alert",Ue=`close${fe}`,w=`closed${fe}`;class C extends et{static get NAME(){return"alert"}close(){if(Y.trigger(this._element,Ue).defaultPrevented)return;this._element.classList.remove("show");const c=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,c)}_destroyElement(){this._element.remove(),Y.trigger(this._element,w),this.dispose()}static jQueryInterface(c){return this.each(function(){const p=C.getOrCreateInstance(this);if(typeof c=="string"){if(p[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);p[c](this)}})}}ie(C,"close"),U(C);const x='[data-bs-toggle="button"]';class z extends et{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(c){return this.each(function(){const p=z.getOrCreateInstance(this);c==="toggle"&&p[c]()})}}Y.on(document,"click.bs.button.data-api",x,_=>{_.preventDefault();const c=_.target.closest(x);z.getOrCreateInstance(c).toggle()}),U(z);const G=".bs.swipe",Q=`touchstart${G}`,ae=`touchmove${G}`,se=`touchend${G}`,ne=`pointerdown${G}`,ee=`pointerup${G}`,Ee={endCallback:null,leftCallback:null,rightCallback:null},le={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class me extends yt{constructor(c,p){super(),this._element=c,c&&me.isSupported()&&(this._config=this._getConfig(p),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Ee}static get DefaultType(){return le}static get NAME(){return"swipe"}dispose(){Y.off(this._element,G)}_start(c){this._supportPointerEvents?this._eventIsPointerPenTouch(c)&&(this._deltaX=c.clientX):this._deltaX=c.touches[0].clientX}_end(c){this._eventIsPointerPenTouch(c)&&(this._deltaX=c.clientX-this._deltaX),this._handleSwipe(),F(this._config.endCallback)}_move(c){this._deltaX=c.touches&&c.touches.length>1?0:c.touches[0].clientX-this._deltaX}_handleSwipe(){const c=Math.abs(this._deltaX);if(c<=40)return;const p=c/this._deltaX;this._deltaX=0,p&&F(p>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Y.on(this._element,ne,c=>this._start(c)),Y.on(this._element,ee,c=>this._end(c)),this._element.classList.add("pointer-event")):(Y.on(this._element,Q,c=>this._start(c)),Y.on(this._element,ae,c=>this._move(c)),Y.on(this._element,se,c=>this._end(c)))}_eventIsPointerPenTouch(c){return this._supportPointerEvents&&(c.pointerType==="pen"||c.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const ve=".bs.carousel",ye=".data-api",Re="ArrowLeft",$e="ArrowRight",Ct="next",Tt="prev",$t="left",Pt="right",_s=`slide${ve}`,Bs=`slid${ve}`,Ft=`keydown${ve}`,In=`mouseenter${ve}`,lo=`mouseleave${ve}`,Na=`dragstart${ve}`,gc=`load${ve}${ye}`,_c=`click${ve}${ye}`,Ti="carousel",wi="active",co=".active",vs=".carousel-item",vc=co+vs,uo={[Re]:Pt,[$e]:$t},yc={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},mr={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Hs extends et{constructor(c,p){super(c,p),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=q.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Ti&&this.cycle()}static get Default(){return yc}static get DefaultType(){return mr}static get NAME(){return"carousel"}next(){this._slide(Ct)}nextWhenVisible(){!document.hidden&&h(this._element)&&this.next()}prev(){this._slide(Tt)}pause(){this._isSliding&&o(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?Y.one(this._element,Bs,()=>this.cycle()):this.cycle())}to(c){const p=this._getItems();if(c>p.length-1||c<0)return;if(this._isSliding)return void Y.one(this._element,Bs,()=>this.to(c));const y=this._getItemIndex(this._getActive());if(y===c)return;const O=c>y?Ct:Tt;this._slide(O,p[c])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(c){return c.defaultInterval=c.interval,c}_addEventListeners(){this._config.keyboard&&Y.on(this._element,Ft,c=>this._keydown(c)),this._config.pause==="hover"&&(Y.on(this._element,In,()=>this.pause()),Y.on(this._element,lo,()=>this._maybeEnableCycle())),this._config.touch&&me.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const p of q.find(".carousel-item img",this._element))Y.on(p,Na,y=>y.preventDefault());const c={leftCallback:()=>this._slide(this._directionToOrder($t)),rightCallback:()=>this._slide(this._directionToOrder(Pt)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new me(this._element,c)}_keydown(c){if(/input|textarea/i.test(c.target.tagName))return;const p=uo[c.key];p&&(c.preventDefault(),this._slide(this._directionToOrder(p)))}_getItemIndex(c){return this._getItems().indexOf(c)}_setActiveIndicatorElement(c){if(!this._indicatorsElement)return;const p=q.findOne(co,this._indicatorsElement);p.classList.remove(wi),p.removeAttribute("aria-current");const y=q.findOne(`[data-bs-slide-to="${c}"]`,this._indicatorsElement);y&&(y.classList.add(wi),y.setAttribute("aria-current","true"))}_updateInterval(){const c=this._activeElement||this._getActive();if(!c)return;const p=Number.parseInt(c.getAttribute("data-bs-interval"),10);this._config.interval=p||this._config.defaultInterval}_slide(c,p=null){if(this._isSliding)return;const y=this._getActive(),O=c===Ct,N=p||H(this._getItems(),y,O,this._config.wrap);if(N===y)return;const B=this._getItemIndex(N),Z=ue=>Y.trigger(this._element,ue,{relatedTarget:N,direction:this._orderToDirection(c),from:this._getItemIndex(y),to:B});if(Z(_s).defaultPrevented||!y||!N)return;const oe=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(B),this._activeElement=N;const pe=O?"carousel-item-start":"carousel-item-end",ge=O?"carousel-item-next":"carousel-item-prev";N.classList.add(ge),b(N),y.classList.add(pe),N.classList.add(pe),this._queueCallback(()=>{N.classList.remove(pe,ge),N.classList.add(wi),y.classList.remove(wi,ge,pe),this._isSliding=!1,Z(Bs)},y,this._isAnimated()),oe&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return q.findOne(vc,this._element)}_getItems(){return q.find(vs,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(c){return $()?c===$t?Tt:Ct:c===$t?Ct:Tt}_orderToDirection(c){return $()?c===Tt?$t:Pt:c===Tt?Pt:$t}static jQueryInterface(c){return this.each(function(){const p=Hs.getOrCreateInstance(this,c);if(typeof c!="number"){if(typeof c=="string"){if(p[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);p[c]()}}else p.to(c)})}}Y.on(document,_c,"[data-bs-slide], [data-bs-slide-to]",function(_){const c=q.getElementFromSelector(this);if(!c||!c.classList.contains(Ti))return;_.preventDefault();const p=Hs.getOrCreateInstance(c),y=this.getAttribute("data-bs-slide-to");return y?(p.to(y),void p._maybeEnableCycle()):vt.getDataAttribute(this,"slide")==="next"?(p.next(),void p._maybeEnableCycle()):(p.prev(),void p._maybeEnableCycle())}),Y.on(window,gc,()=>{const _=q.find('[data-bs-ride="carousel"]');for(const c of _)Hs.getOrCreateInstance(c)}),U(Hs);const Ot=".bs.collapse",Ec=`show${Ot}`,gr=`shown${Ot}`,_r=`hide${Ot}`,nd=`hidden${Ot}`,sd=`click${Ot}.data-api`,ys="show",Ai="collapse",ho="collapsing",fo=`:scope .${Ai} .${Ai}`,po='[data-bs-toggle="collapse"]',ka={parent:null,toggle:!0},mo={parent:"(null|element)",toggle:"boolean"};class fn extends et{constructor(c,p){super(c,p),this._isTransitioning=!1,this._triggerArray=[];const y=q.find(po);for(const O of y){const N=q.getSelectorFromElement(O),B=q.find(N).filter(Z=>Z===this._element);N!==null&&B.length&&this._triggerArray.push(O)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return ka}static get DefaultType(){return mo}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let c=[];if(this._config.parent&&(c=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(O=>O!==this._element).map(O=>fn.getOrCreateInstance(O,{toggle:!1}))),c.length&&c[0]._isTransitioning||Y.trigger(this._element,Ec).defaultPrevented)return;for(const O of c)O.hide();const p=this._getDimension();this._element.classList.remove(Ai),this._element.classList.add(ho),this._element.style[p]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const y=`scroll${p[0].toUpperCase()+p.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ho),this._element.classList.add(Ai,ys),this._element.style[p]="",Y.trigger(this._element,gr)},this._element,!0),this._element.style[p]=`${this._element[y]}px`}hide(){if(this._isTransitioning||!this._isShown()||Y.trigger(this._element,_r).defaultPrevented)return;const c=this._getDimension();this._element.style[c]=`${this._element.getBoundingClientRect()[c]}px`,b(this._element),this._element.classList.add(ho),this._element.classList.remove(Ai,ys);for(const p of this._triggerArray){const y=q.getElementFromSelector(p);y&&!this._isShown(y)&&this._addAriaAndCollapsedClass([p],!1)}this._isTransitioning=!0,this._element.style[c]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ho),this._element.classList.add(Ai),Y.trigger(this._element,nd)},this._element,!0)}_isShown(c=this._element){return c.classList.contains(ys)}_configAfterMerge(c){return c.toggle=!!c.toggle,c.parent=u(c.parent),c}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const c=this._getFirstLevelChildren(po);for(const p of c){const y=q.getElementFromSelector(p);y&&this._addAriaAndCollapsedClass([p],this._isShown(y))}}_getFirstLevelChildren(c){const p=q.find(fo,this._config.parent);return q.find(c,this._config.parent).filter(y=>!p.includes(y))}_addAriaAndCollapsedClass(c,p){if(c.length)for(const y of c)y.classList.toggle("collapsed",!p),y.setAttribute("aria-expanded",p)}static jQueryInterface(c){const p={};return typeof c=="string"&&/show|hide/.test(c)&&(p.toggle=!1),this.each(function(){const y=fn.getOrCreateInstance(this,p);if(typeof c=="string"){if(y[c]===void 0)throw new TypeError(`No method named "${c}"`);y[c]()}})}}Y.on(document,sd,po,function(_){(_.target.tagName==="A"||_.delegateTarget&&_.delegateTarget.tagName==="A")&&_.preventDefault();for(const c of q.getMultipleElementsFromSelector(this))fn.getOrCreateInstance(c,{toggle:!1}).toggle()}),U(fn);var Wt="top",tn="bottom",Xt="right",Ut="left",vr="auto",qs=[Wt,tn,Xt,Ut],Ws="start",rs="end",xa="clippingParents",yr="viewport",qn="popper",Es="reference",Er=qs.reduce(function(_,c){return _.concat([c+"-"+Ws,c+"-"+rs])},[]),La=[].concat(qs,[vr]).reduce(function(_,c){return _.concat([c,c+"-"+Ws,c+"-"+rs])},[]),Va="beforeRead",Ma="read",$a="afterRead",go="beforeMain",_o="main",Fa="afterMain",Ua="beforeWrite",bc="write",Tc="afterWrite",ja=[Va,Ma,$a,go,_o,Fa,Ua,bc,Tc];function On(_){return _?(_.nodeName||"").toLowerCase():null}function pn(_){if(_==null)return window;if(_.toString()!=="[object Window]"){var c=_.ownerDocument;return c&&c.defaultView||window}return _}function mn(_){return _ instanceof pn(_).Element||_ instanceof Element}function St(_){return _ instanceof pn(_).HTMLElement||_ instanceof HTMLElement}function Ii(_){return typeof ShadowRoot<"u"&&(_ instanceof pn(_).ShadowRoot||_ instanceof ShadowRoot)}const Ci={name:"applyStyles",enabled:!0,phase:"write",fn:function(_){var c=_.state;Object.keys(c.elements).forEach(function(p){var y=c.styles[p]||{},O=c.attributes[p]||{},N=c.elements[p];St(N)&&On(N)&&(Object.assign(N.style,y),Object.keys(O).forEach(function(B){var Z=O[B];Z===!1?N.removeAttribute(B):N.setAttribute(B,Z===!0?"":Z)}))})},effect:function(_){var c=_.state,p={popper:{position:c.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(c.elements.popper.style,p.popper),c.styles=p,c.elements.arrow&&Object.assign(c.elements.arrow.style,p.arrow),function(){Object.keys(c.elements).forEach(function(y){var O=c.elements[y],N=c.attributes[y]||{},B=Object.keys(c.styles.hasOwnProperty(y)?c.styles[y]:p[y]).reduce(function(Z,oe){return Z[oe]="",Z},{});St(O)&&On(O)&&(Object.assign(O.style,B),Object.keys(N).forEach(function(Z){O.removeAttribute(Z)}))})}},requires:["computeStyles"]};function Dn(_){return _.split("-")[0]}var Xe=Math.max,zs=Math.min,Wn=Math.round;function Ks(){var _=navigator.userAgentData;return _!=null&&_.brands&&Array.isArray(_.brands)?_.brands.map(function(c){return c.brand+"/"+c.version}).join(" "):navigator.userAgent}function wc(){return!/^((?!chrome|android).)*safari/i.test(Ks())}function Gs(_,c,p){c===void 0&&(c=!1),p===void 0&&(p=!1);var y=_.getBoundingClientRect(),O=1,N=1;c&&St(_)&&(O=_.offsetWidth>0&&Wn(y.width)/_.offsetWidth||1,N=_.offsetHeight>0&&Wn(y.height)/_.offsetHeight||1);var B=(mn(_)?pn(_):window).visualViewport,Z=!wc()&&p,oe=(y.left+(Z&&B?B.offsetLeft:0))/O,pe=(y.top+(Z&&B?B.offsetTop:0))/N,ge=y.width/O,ue=y.height/N;return{width:ge,height:ue,top:pe,right:oe+ge,bottom:pe+ue,left:oe,x:oe,y:pe}}function Ba(_){var c=Gs(_),p=_.offsetWidth,y=_.offsetHeight;return Math.abs(c.width-p)<=1&&(p=c.width),Math.abs(c.height-y)<=1&&(y=c.height),{x:_.offsetLeft,y:_.offsetTop,width:p,height:y}}function Ac(_,c){var p=c.getRootNode&&c.getRootNode();if(_.contains(c))return!0;if(p&&Ii(p)){var y=c;do{if(y&&_.isSameNode(y))return!0;y=y.parentNode||y.host}while(y)}return!1}function os(_){return pn(_).getComputedStyle(_)}function id(_){return["table","td","th"].indexOf(On(_))>=0}function Cn(_){return((mn(_)?_.ownerDocument:_.document)||window.document).documentElement}function Nn(_){return On(_)==="html"?_:_.assignedSlot||_.parentNode||(Ii(_)?_.host:null)||Cn(_)}function Ha(_){return St(_)&&os(_).position!=="fixed"?_.offsetParent:null}function Si(_){for(var c=pn(_),p=Ha(_);p&&id(p)&&os(p).position==="static";)p=Ha(p);return p&&(On(p)==="html"||On(p)==="body"&&os(p).position==="static")?c:p||function(y){var O=/firefox/i.test(Ks());if(/Trident/i.test(Ks())&&St(y)&&os(y).position==="fixed")return null;var N=Nn(y);for(Ii(N)&&(N=N.host);St(N)&&["html","body"].indexOf(On(N))<0;){var B=os(N);if(B.transform!=="none"||B.perspective!=="none"||B.contain==="paint"||["transform","perspective"].indexOf(B.willChange)!==-1||O&&B.willChange==="filter"||O&&B.filter&&B.filter!=="none")return N;N=N.parentNode}return null}(_)||c}function vo(_){return["top","bottom"].indexOf(_)>=0?"x":"y"}function zn(_,c,p){return Xe(_,zs(c,p))}function Ic(_){return Object.assign({},{top:0,right:0,bottom:0,left:0},_)}function Cc(_,c){return c.reduce(function(p,y){return p[y]=_,p},{})}const Sc={name:"arrow",enabled:!0,phase:"main",fn:function(_){var c,p=_.state,y=_.name,O=_.options,N=p.elements.arrow,B=p.modifiersData.popperOffsets,Z=Dn(p.placement),oe=vo(Z),pe=[Ut,Xt].indexOf(Z)>=0?"height":"width";if(N&&B){var ge=function(ut,lt){return Ic(typeof(ut=typeof ut=="function"?ut(Object.assign({},lt.rects,{placement:lt.placement})):ut)!="number"?ut:Cc(ut,qs))}(O.padding,p),ue=Ba(N),Ve=oe==="y"?Wt:Ut,Ae=oe==="y"?tn:Xt,De=p.rects.reference[pe]+p.rects.reference[oe]-B[oe]-p.rects.popper[pe],Pe=B[oe]-p.rects.reference[oe],Ne=Si(N),ct=Ne?oe==="y"?Ne.clientHeight||0:Ne.clientWidth||0:0,mt=De/2-Pe/2,je=ge[Ve],tt=ct-ue[pe]-ge[Ae],Me=ct/2-ue[pe]/2+mt,ze=zn(je,Me,tt),at=oe;p.modifiersData[y]=((c={})[at]=ze,c.centerOffset=ze-Me,c)}},effect:function(_){var c=_.state,p=_.options.element,y=p===void 0?"[data-popper-arrow]":p;y!=null&&(typeof y!="string"||(y=c.elements.popper.querySelector(y)))&&Ac(c.elements.popper,y)&&(c.elements.arrow=y)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function gn(_){return _.split("-")[1]}var rd={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Rc(_){var c,p=_.popper,y=_.popperRect,O=_.placement,N=_.variation,B=_.offsets,Z=_.position,oe=_.gpuAcceleration,pe=_.adaptive,ge=_.roundOffsets,ue=_.isFixed,Ve=B.x,Ae=Ve===void 0?0:Ve,De=B.y,Pe=De===void 0?0:De,Ne=typeof ge=="function"?ge({x:Ae,y:Pe}):{x:Ae,y:Pe};Ae=Ne.x,Pe=Ne.y;var ct=B.hasOwnProperty("x"),mt=B.hasOwnProperty("y"),je=Ut,tt=Wt,Me=window;if(pe){var ze=Si(p),at="clientHeight",ut="clientWidth";ze===pn(p)&&os(ze=Cn(p)).position!=="static"&&Z==="absolute"&&(at="scrollHeight",ut="scrollWidth"),(O===Wt||(O===Ut||O===Xt)&&N===rs)&&(tt=tn,Pe-=(ue&&ze===Me&&Me.visualViewport?Me.visualViewport.height:ze[at])-y.height,Pe*=oe?1:-1),O!==Ut&&(O!==Wt&&O!==tn||N!==rs)||(je=Xt,Ae-=(ue&&ze===Me&&Me.visualViewport?Me.visualViewport.width:ze[ut])-y.width,Ae*=oe?1:-1)}var lt,Dt=Object.assign({position:Z},pe&&rd),kn=ge===!0?function(ls,vn){var Gn=ls.x,Yn=ls.y,Rt=vn.devicePixelRatio||1;return{x:Wn(Gn*Rt)/Rt||0,y:Wn(Yn*Rt)/Rt||0}}({x:Ae,y:Pe},pn(p)):{x:Ae,y:Pe};return Ae=kn.x,Pe=kn.y,oe?Object.assign({},Dt,((lt={})[tt]=mt?"0":"",lt[je]=ct?"0":"",lt.transform=(Me.devicePixelRatio||1)<=1?"translate("+Ae+"px, "+Pe+"px)":"translate3d("+Ae+"px, "+Pe+"px, 0)",lt)):Object.assign({},Dt,((c={})[tt]=mt?Pe+"px":"",c[je]=ct?Ae+"px":"",c.transform="",c))}const Ri={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(_){var c=_.state,p=_.options,y=p.gpuAcceleration,O=y===void 0||y,N=p.adaptive,B=N===void 0||N,Z=p.roundOffsets,oe=Z===void 0||Z,pe={placement:Dn(c.placement),variation:gn(c.placement),popper:c.elements.popper,popperRect:c.rects.popper,gpuAcceleration:O,isFixed:c.options.strategy==="fixed"};c.modifiersData.popperOffsets!=null&&(c.styles.popper=Object.assign({},c.styles.popper,Rc(Object.assign({},pe,{offsets:c.modifiersData.popperOffsets,position:c.options.strategy,adaptive:B,roundOffsets:oe})))),c.modifiersData.arrow!=null&&(c.styles.arrow=Object.assign({},c.styles.arrow,Rc(Object.assign({},pe,{offsets:c.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:oe})))),c.attributes.popper=Object.assign({},c.attributes.popper,{"data-popper-placement":c.placement})},data:{}};var Ys={passive:!0};const yo={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(_){var c=_.state,p=_.instance,y=_.options,O=y.scroll,N=O===void 0||O,B=y.resize,Z=B===void 0||B,oe=pn(c.elements.popper),pe=[].concat(c.scrollParents.reference,c.scrollParents.popper);return N&&pe.forEach(function(ge){ge.addEventListener("scroll",p.update,Ys)}),Z&&oe.addEventListener("resize",p.update,Ys),function(){N&&pe.forEach(function(ge){ge.removeEventListener("scroll",p.update,Ys)}),Z&&oe.removeEventListener("resize",p.update,Ys)}},data:{}};var br={left:"right",right:"left",bottom:"top",top:"bottom"};function bs(_){return _.replace(/left|right|bottom|top/g,function(c){return br[c]})}var Pc={start:"end",end:"start"};function Eo(_){return _.replace(/start|end/g,function(c){return Pc[c]})}function pt(_){var c=pn(_);return{scrollLeft:c.pageXOffset,scrollTop:c.pageYOffset}}function qa(_){return Gs(Cn(_)).left+pt(_).scrollLeft}function Wa(_){var c=os(_),p=c.overflow,y=c.overflowX,O=c.overflowY;return/auto|scroll|overlay|hidden/.test(p+O+y)}function za(_){return["html","body","#document"].indexOf(On(_))>=0?_.ownerDocument.body:St(_)&&Wa(_)?_:za(Nn(_))}function Pi(_,c){var p;c===void 0&&(c=[]);var y=za(_),O=y===((p=_.ownerDocument)==null?void 0:p.body),N=pn(y),B=O?[N].concat(N.visualViewport||[],Wa(y)?y:[]):y,Z=c.concat(B);return O?Z:Z.concat(Pi(Nn(B)))}function bo(_){return Object.assign({},_,{left:_.x,top:_.y,right:_.x+_.width,bottom:_.y+_.height})}function Tr(_,c,p){return c===yr?bo(function(y,O){var N=pn(y),B=Cn(y),Z=N.visualViewport,oe=B.clientWidth,pe=B.clientHeight,ge=0,ue=0;if(Z){oe=Z.width,pe=Z.height;var Ve=wc();(Ve||!Ve&&O==="fixed")&&(ge=Z.offsetLeft,ue=Z.offsetTop)}return{width:oe,height:pe,x:ge+qa(y),y:ue}}(_,p)):mn(c)?function(y,O){var N=Gs(y,!1,O==="fixed");return N.top=N.top+y.clientTop,N.left=N.left+y.clientLeft,N.bottom=N.top+y.clientHeight,N.right=N.left+y.clientWidth,N.width=y.clientWidth,N.height=y.clientHeight,N.x=N.left,N.y=N.top,N}(c,p):bo(function(y){var O,N=Cn(y),B=pt(y),Z=(O=y.ownerDocument)==null?void 0:O.body,oe=Xe(N.scrollWidth,N.clientWidth,Z?Z.scrollWidth:0,Z?Z.clientWidth:0),pe=Xe(N.scrollHeight,N.clientHeight,Z?Z.scrollHeight:0,Z?Z.clientHeight:0),ge=-B.scrollLeft+qa(y),ue=-B.scrollTop;return os(Z||N).direction==="rtl"&&(ge+=Xe(N.clientWidth,Z?Z.clientWidth:0)-oe),{width:oe,height:pe,x:ge,y:ue}}(Cn(_)))}function Ka(_){var c,p=_.reference,y=_.element,O=_.placement,N=O?Dn(O):null,B=O?gn(O):null,Z=p.x+p.width/2-y.width/2,oe=p.y+p.height/2-y.height/2;switch(N){case Wt:c={x:Z,y:p.y-y.height};break;case tn:c={x:Z,y:p.y+p.height};break;case Xt:c={x:p.x+p.width,y:oe};break;case Ut:c={x:p.x-y.width,y:oe};break;default:c={x:p.x,y:p.y}}var pe=N?vo(N):null;if(pe!=null){var ge=pe==="y"?"height":"width";switch(B){case Ws:c[pe]=c[pe]-(p[ge]/2-y[ge]/2);break;case rs:c[pe]=c[pe]+(p[ge]/2-y[ge]/2)}}return c}function nn(_,c){c===void 0&&(c={});var p=c,y=p.placement,O=y===void 0?_.placement:y,N=p.strategy,B=N===void 0?_.strategy:N,Z=p.boundary,oe=Z===void 0?xa:Z,pe=p.rootBoundary,ge=pe===void 0?yr:pe,ue=p.elementContext,Ve=ue===void 0?qn:ue,Ae=p.altBoundary,De=Ae!==void 0&&Ae,Pe=p.padding,Ne=Pe===void 0?0:Pe,ct=Ic(typeof Ne!="number"?Ne:Cc(Ne,qs)),mt=Ve===qn?Es:qn,je=_.rects.popper,tt=_.elements[De?mt:Ve],Me=function(vn,Gn,Yn,Rt){var ws=Gn==="clippingParents"?function(ht){var yn=Pi(Nn(ht)),Qn=["absolute","fixed"].indexOf(os(ht).position)>=0&&St(ht)?Si(ht):ht;return mn(Qn)?yn.filter(function(xi){return mn(xi)&&Ac(xi,Qn)&&On(xi)!=="body"}):[]}(vn):[].concat(Gn),As=[].concat(ws,[Yn]),Ro=As[0],Yt=As.reduce(function(ht,yn){var Qn=Tr(vn,yn,Rt);return ht.top=Xe(Qn.top,ht.top),ht.right=zs(Qn.right,ht.right),ht.bottom=zs(Qn.bottom,ht.bottom),ht.left=Xe(Qn.left,ht.left),ht},Tr(vn,Ro,Rt));return Yt.width=Yt.right-Yt.left,Yt.height=Yt.bottom-Yt.top,Yt.x=Yt.left,Yt.y=Yt.top,Yt}(mn(tt)?tt:tt.contextElement||Cn(_.elements.popper),oe,ge,B),ze=Gs(_.elements.reference),at=Ka({reference:ze,element:je,placement:O}),ut=bo(Object.assign({},je,at)),lt=Ve===qn?ut:ze,Dt={top:Me.top-lt.top+ct.top,bottom:lt.bottom-Me.bottom+ct.bottom,left:Me.left-lt.left+ct.left,right:lt.right-Me.right+ct.right},kn=_.modifiersData.offset;if(Ve===qn&&kn){var ls=kn[O];Object.keys(Dt).forEach(function(vn){var Gn=[Xt,tn].indexOf(vn)>=0?1:-1,Yn=[Wt,tn].indexOf(vn)>=0?"y":"x";Dt[vn]+=ls[Yn]*Gn})}return Dt}function Oc(_,c){c===void 0&&(c={});var p=c,y=p.placement,O=p.boundary,N=p.rootBoundary,B=p.padding,Z=p.flipVariations,oe=p.allowedAutoPlacements,pe=oe===void 0?La:oe,ge=gn(y),ue=ge?Z?Er:Er.filter(function(De){return gn(De)===ge}):qs,Ve=ue.filter(function(De){return pe.indexOf(De)>=0});Ve.length===0&&(Ve=ue);var Ae=Ve.reduce(function(De,Pe){return De[Pe]=nn(_,{placement:Pe,boundary:O,rootBoundary:N,padding:B})[Dn(Pe)],De},{});return Object.keys(Ae).sort(function(De,Pe){return Ae[De]-Ae[Pe]})}const Dc={name:"flip",enabled:!0,phase:"main",fn:function(_){var c=_.state,p=_.options,y=_.name;if(!c.modifiersData[y]._skip){for(var O=p.mainAxis,N=O===void 0||O,B=p.altAxis,Z=B===void 0||B,oe=p.fallbackPlacements,pe=p.padding,ge=p.boundary,ue=p.rootBoundary,Ve=p.altBoundary,Ae=p.flipVariations,De=Ae===void 0||Ae,Pe=p.allowedAutoPlacements,Ne=c.options.placement,ct=Dn(Ne),mt=oe||(ct!==Ne&&De?function(ht){if(Dn(ht)===vr)return[];var yn=bs(ht);return[Eo(ht),yn,Eo(yn)]}(Ne):[bs(Ne)]),je=[Ne].concat(mt).reduce(function(ht,yn){return ht.concat(Dn(yn)===vr?Oc(c,{placement:yn,boundary:ge,rootBoundary:ue,padding:pe,flipVariations:De,allowedAutoPlacements:Pe}):yn)},[]),tt=c.rects.reference,Me=c.rects.popper,ze=new Map,at=!0,ut=je[0],lt=0;lt<je.length;lt++){var Dt=je[lt],kn=Dn(Dt),ls=gn(Dt)===Ws,vn=[Wt,tn].indexOf(kn)>=0,Gn=vn?"width":"height",Yn=nn(c,{placement:Dt,boundary:ge,rootBoundary:ue,altBoundary:Ve,padding:pe}),Rt=vn?ls?Xt:Ut:ls?tn:Wt;tt[Gn]>Me[Gn]&&(Rt=bs(Rt));var ws=bs(Rt),As=[];if(N&&As.push(Yn[kn]<=0),Z&&As.push(Yn[Rt]<=0,Yn[ws]<=0),As.every(function(ht){return ht})){ut=Dt,at=!1;break}ze.set(Dt,As)}if(at)for(var Ro=function(ht){var yn=je.find(function(Qn){var xi=ze.get(Qn);if(xi)return xi.slice(0,ht).every(function(Bc){return Bc})});if(yn)return ut=yn,"break"},Yt=De?3:1;Yt>0&&Ro(Yt)!=="break";Yt--);c.placement!==ut&&(c.modifiersData[y]._skip=!0,c.placement=ut,c.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Oi(_,c,p){return p===void 0&&(p={x:0,y:0}),{top:_.top-c.height-p.y,right:_.right-c.width+p.x,bottom:_.bottom-c.height+p.y,left:_.left-c.width-p.x}}function Ga(_){return[Wt,Xt,tn,Ut].some(function(c){return _[c]>=0})}const To={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(_){var c=_.state,p=_.name,y=c.rects.reference,O=c.rects.popper,N=c.modifiersData.preventOverflow,B=nn(c,{elementContext:"reference"}),Z=nn(c,{altBoundary:!0}),oe=Oi(B,y),pe=Oi(Z,O,N),ge=Ga(oe),ue=Ga(pe);c.modifiersData[p]={referenceClippingOffsets:oe,popperEscapeOffsets:pe,isReferenceHidden:ge,hasPopperEscaped:ue},c.attributes.popper=Object.assign({},c.attributes.popper,{"data-popper-reference-hidden":ge,"data-popper-escaped":ue})}},wr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(_){var c=_.state,p=_.options,y=_.name,O=p.offset,N=O===void 0?[0,0]:O,B=La.reduce(function(ge,ue){return ge[ue]=function(Ve,Ae,De){var Pe=Dn(Ve),Ne=[Ut,Wt].indexOf(Pe)>=0?-1:1,ct=typeof De=="function"?De(Object.assign({},Ae,{placement:Ve})):De,mt=ct[0],je=ct[1];return mt=mt||0,je=(je||0)*Ne,[Ut,Xt].indexOf(Pe)>=0?{x:je,y:mt}:{x:mt,y:je}}(ue,c.rects,N),ge},{}),Z=B[c.placement],oe=Z.x,pe=Z.y;c.modifiersData.popperOffsets!=null&&(c.modifiersData.popperOffsets.x+=oe,c.modifiersData.popperOffsets.y+=pe),c.modifiersData[y]=B}},wo={name:"popperOffsets",enabled:!0,phase:"read",fn:function(_){var c=_.state,p=_.name;c.modifiersData[p]=Ka({reference:c.rects.reference,element:c.rects.popper,placement:c.placement})},data:{}},Ar={name:"preventOverflow",enabled:!0,phase:"main",fn:function(_){var c=_.state,p=_.options,y=_.name,O=p.mainAxis,N=O===void 0||O,B=p.altAxis,Z=B!==void 0&&B,oe=p.boundary,pe=p.rootBoundary,ge=p.altBoundary,ue=p.padding,Ve=p.tether,Ae=Ve===void 0||Ve,De=p.tetherOffset,Pe=De===void 0?0:De,Ne=nn(c,{boundary:oe,rootBoundary:pe,padding:ue,altBoundary:ge}),ct=Dn(c.placement),mt=gn(c.placement),je=!mt,tt=vo(ct),Me=tt==="x"?"y":"x",ze=c.modifiersData.popperOffsets,at=c.rects.reference,ut=c.rects.popper,lt=typeof Pe=="function"?Pe(Object.assign({},c.rects,{placement:c.placement})):Pe,Dt=typeof lt=="number"?{mainAxis:lt,altAxis:lt}:Object.assign({mainAxis:0,altAxis:0},lt),kn=c.modifiersData.offset?c.modifiersData.offset[c.placement]:null,ls={x:0,y:0};if(ze){if(N){var vn,Gn=tt==="y"?Wt:Ut,Yn=tt==="y"?tn:Xt,Rt=tt==="y"?"height":"width",ws=ze[tt],As=ws+Ne[Gn],Ro=ws-Ne[Yn],Yt=Ae?-ut[Rt]/2:0,ht=mt===Ws?at[Rt]:ut[Rt],yn=mt===Ws?-ut[Rt]:-at[Rt],Qn=c.elements.arrow,xi=Ae&&Qn?Ba(Qn):{width:0,height:0},Bc=c.modifiersData["arrow#persistent"]?c.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},lg=Bc[Gn],cg=Bc[Yn],Hc=zn(0,at[Rt],xi[Rt]),kI=je?at[Rt]/2-Yt-Hc-lg-Dt.mainAxis:ht-Hc-lg-Dt.mainAxis,xI=je?-at[Rt]/2+Yt+Hc+cg+Dt.mainAxis:yn+Hc+cg+Dt.mainAxis,_d=c.elements.arrow&&Si(c.elements.arrow),LI=_d?tt==="y"?_d.clientTop||0:_d.clientLeft||0:0,ug=(vn=kn==null?void 0:kn[tt])!=null?vn:0,VI=ws+xI-ug,hg=zn(Ae?zs(As,ws+kI-ug-LI):As,ws,Ae?Xe(Ro,VI):Ro);ze[tt]=hg,ls[tt]=hg-ws}if(Z){var dg,MI=tt==="x"?Wt:Ut,$I=tt==="x"?tn:Xt,kr=ze[Me],qc=Me==="y"?"height":"width",fg=kr+Ne[MI],pg=kr-Ne[$I],vd=[Wt,Ut].indexOf(ct)!==-1,mg=(dg=kn==null?void 0:kn[Me])!=null?dg:0,gg=vd?fg:kr-at[qc]-ut[qc]-mg+Dt.altAxis,_g=vd?kr+at[qc]+ut[qc]-mg-Dt.altAxis:pg,vg=Ae&&vd?function(FI,UI,yd){var yg=zn(FI,UI,yd);return yg>yd?yd:yg}(gg,kr,_g):zn(Ae?gg:fg,kr,Ae?_g:pg);ze[Me]=vg,ls[Me]=vg-kr}c.modifiersData[y]=ls}},requiresIfExists:["offset"]};function od(_,c,p){p===void 0&&(p=!1);var y,O,N=St(c),B=St(c)&&function(ue){var Ve=ue.getBoundingClientRect(),Ae=Wn(Ve.width)/ue.offsetWidth||1,De=Wn(Ve.height)/ue.offsetHeight||1;return Ae!==1||De!==1}(c),Z=Cn(c),oe=Gs(_,B,p),pe={scrollLeft:0,scrollTop:0},ge={x:0,y:0};return(N||!N&&!p)&&((On(c)!=="body"||Wa(Z))&&(pe=(y=c)!==pn(y)&&St(y)?{scrollLeft:(O=y).scrollLeft,scrollTop:O.scrollTop}:pt(y)),St(c)?((ge=Gs(c,!0)).x+=c.clientLeft,ge.y+=c.clientTop):Z&&(ge.x=qa(Z))),{x:oe.left+pe.scrollLeft-ge.x,y:oe.top+pe.scrollTop-ge.y,width:oe.width,height:oe.height}}function Nc(_){var c=new Map,p=new Set,y=[];function O(N){p.add(N.name),[].concat(N.requires||[],N.requiresIfExists||[]).forEach(function(B){if(!p.has(B)){var Z=c.get(B);Z&&O(Z)}}),y.push(N)}return _.forEach(function(N){c.set(N.name,N)}),_.forEach(function(N){p.has(N.name)||O(N)}),y}var Di={placement:"bottom",modifiers:[],strategy:"absolute"};function Ya(){for(var _=arguments.length,c=new Array(_),p=0;p<_;p++)c[p]=arguments[p];return!c.some(function(y){return!(y&&typeof y.getBoundingClientRect=="function")})}function Ir(_){_===void 0&&(_={});var c=_,p=c.defaultModifiers,y=p===void 0?[]:p,O=c.defaultOptions,N=O===void 0?Di:O;return function(B,Z,oe){oe===void 0&&(oe=N);var pe,ge,ue={placement:"bottom",orderedModifiers:[],options:Object.assign({},Di,N),modifiersData:{},elements:{reference:B,popper:Z},attributes:{},styles:{}},Ve=[],Ae=!1,De={state:ue,setOptions:function(Ne){var ct=typeof Ne=="function"?Ne(ue.options):Ne;Pe(),ue.options=Object.assign({},N,ue.options,ct),ue.scrollParents={reference:mn(B)?Pi(B):B.contextElement?Pi(B.contextElement):[],popper:Pi(Z)};var mt,je,tt=function(Me){var ze=Nc(Me);return ja.reduce(function(at,ut){return at.concat(ze.filter(function(lt){return lt.phase===ut}))},[])}((mt=[].concat(y,ue.options.modifiers),je=mt.reduce(function(Me,ze){var at=Me[ze.name];return Me[ze.name]=at?Object.assign({},at,ze,{options:Object.assign({},at.options,ze.options),data:Object.assign({},at.data,ze.data)}):ze,Me},{}),Object.keys(je).map(function(Me){return je[Me]})));return ue.orderedModifiers=tt.filter(function(Me){return Me.enabled}),ue.orderedModifiers.forEach(function(Me){var ze=Me.name,at=Me.options,ut=at===void 0?{}:at,lt=Me.effect;if(typeof lt=="function"){var Dt=lt({state:ue,name:ze,instance:De,options:ut});Ve.push(Dt||function(){})}}),De.update()},forceUpdate:function(){if(!Ae){var Ne=ue.elements,ct=Ne.reference,mt=Ne.popper;if(Ya(ct,mt)){ue.rects={reference:od(ct,Si(mt),ue.options.strategy==="fixed"),popper:Ba(mt)},ue.reset=!1,ue.placement=ue.options.placement,ue.orderedModifiers.forEach(function(lt){return ue.modifiersData[lt.name]=Object.assign({},lt.data)});for(var je=0;je<ue.orderedModifiers.length;je++)if(ue.reset!==!0){var tt=ue.orderedModifiers[je],Me=tt.fn,ze=tt.options,at=ze===void 0?{}:ze,ut=tt.name;typeof Me=="function"&&(ue=Me({state:ue,options:at,name:ut,instance:De})||ue)}else ue.reset=!1,je=-1}}},update:(pe=function(){return new Promise(function(Ne){De.forceUpdate(),Ne(ue)})},function(){return ge||(ge=new Promise(function(Ne){Promise.resolve().then(function(){ge=void 0,Ne(pe())})})),ge}),destroy:function(){Pe(),Ae=!0}};if(!Ya(B,Z))return De;function Pe(){Ve.forEach(function(Ne){return Ne()}),Ve=[]}return De.setOptions(oe).then(function(Ne){!Ae&&oe.onFirstUpdate&&oe.onFirstUpdate(Ne)}),De}}var Qa=Ir(),Xa=Ir({defaultModifiers:[yo,wo,Ri,Ci]}),Ao=Ir({defaultModifiers:[yo,wo,Ri,Ci,wr,Dc,Ar,Sc,To]});const Cr=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Fa,afterRead:$a,afterWrite:Tc,applyStyles:Ci,arrow:Sc,auto:vr,basePlacements:qs,beforeMain:go,beforeRead:Va,beforeWrite:Ua,bottom:tn,clippingParents:xa,computeStyles:Ri,createPopper:Ao,createPopperBase:Qa,createPopperLite:Xa,detectOverflow:nn,end:rs,eventListeners:yo,flip:Dc,hide:To,left:Ut,main:_o,modifierPhases:ja,offset:wr,placements:La,popper:qn,popperGenerator:Ir,popperOffsets:wo,preventOverflow:Ar,read:Ma,reference:Es,right:Xt,start:Ws,top:Wt,variationPlacements:Er,viewport:yr,write:bc},Symbol.toStringTag,{value:"Module"})),Ja="dropdown",Ts=".bs.dropdown",as=".data-api",kc="ArrowUp",Za="ArrowDown",xc=`hide${Ts}`,Lc=`hidden${Ts}`,Io=`show${Ts}`,_n=`shown${Ts}`,el=`click${Ts}${as}`,tl=`keydown${Ts}${as}`,Ni=`keyup${Ts}${as}`,a="show",d='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',m=`${d}.${a}`,E=".dropdown-menu",V=$()?"top-end":"top-start",j=$()?"top-start":"top-end",re=$()?"bottom-end":"bottom-start",ot=$()?"bottom-start":"bottom-end",jt=$()?"left-start":"right-start",Ke=$()?"right-start":"left-start",zt={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Kt={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Gt extends et{constructor(c,p){super(c,p),this._popper=null,this._parent=this._element.parentNode,this._menu=q.next(this._element,E)[0]||q.prev(this._element,E)[0]||q.findOne(E,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return zt}static get DefaultType(){return Kt}static get NAME(){return Ja}toggle(){return this._isShown()?this.hide():this.show()}show(){if(f(this._element)||this._isShown())return;const c={relatedTarget:this._element};if(!Y.trigger(this._element,Io,c).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const p of[].concat(...document.body.children))Y.on(p,"mouseover",v);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(a),this._element.classList.add(a),Y.trigger(this._element,_n,c)}}hide(){if(f(this._element)||!this._isShown())return;const c={relatedTarget:this._element};this._completeHide(c)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(c){if(!Y.trigger(this._element,xc,c).defaultPrevented){if("ontouchstart"in document.documentElement)for(const p of[].concat(...document.body.children))Y.off(p,"mouseover",v);this._popper&&this._popper.destroy(),this._menu.classList.remove(a),this._element.classList.remove(a),this._element.setAttribute("aria-expanded","false"),vt.removeDataAttribute(this._menu,"popper"),Y.trigger(this._element,Lc,c),this._element.focus()}}_getConfig(c){if(typeof(c=super._getConfig(c)).reference=="object"&&!l(c.reference)&&typeof c.reference.getBoundingClientRect!="function")throw new TypeError(`${Ja.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return c}_createPopper(){if(Cr===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let c=this._element;this._config.reference==="parent"?c=this._parent:l(this._config.reference)?c=u(this._config.reference):typeof this._config.reference=="object"&&(c=this._config.reference);const p=this._getPopperConfig();this._popper=Ao(c,this._menu,p)}_isShown(){return this._menu.classList.contains(a)}_getPlacement(){const c=this._parent;if(c.classList.contains("dropend"))return jt;if(c.classList.contains("dropstart"))return Ke;if(c.classList.contains("dropup-center"))return"top";if(c.classList.contains("dropdown-center"))return"bottom";const p=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return c.classList.contains("dropup")?p?j:V:p?ot:re}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:c}=this._config;return typeof c=="string"?c.split(",").map(p=>Number.parseInt(p,10)):typeof c=="function"?p=>c(p,this._element):c}_getPopperConfig(){const c={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(vt.setDataAttribute(this._menu,"popper","static"),c.modifiers=[{name:"applyStyles",enabled:!1}]),{...c,...F(this._config.popperConfig,[void 0,c])}}_selectMenuItem({key:c,target:p}){const y=q.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(O=>h(O));y.length&&H(y,p,c===Za,!y.includes(p)).focus()}static jQueryInterface(c){return this.each(function(){const p=Gt.getOrCreateInstance(this,c);if(typeof c=="string"){if(p[c]===void 0)throw new TypeError(`No method named "${c}"`);p[c]()}})}static clearMenus(c){if(c.button===2||c.type==="keyup"&&c.key!=="Tab")return;const p=q.find(m);for(const y of p){const O=Gt.getInstance(y);if(!O||O._config.autoClose===!1)continue;const N=c.composedPath(),B=N.includes(O._menu);if(N.includes(O._element)||O._config.autoClose==="inside"&&!B||O._config.autoClose==="outside"&&B||O._menu.contains(c.target)&&(c.type==="keyup"&&c.key==="Tab"||/input|select|option|textarea|form/i.test(c.target.tagName)))continue;const Z={relatedTarget:O._element};c.type==="click"&&(Z.clickEvent=c),O._completeHide(Z)}}static dataApiKeydownHandler(c){const p=/input|textarea/i.test(c.target.tagName),y=c.key==="Escape",O=[kc,Za].includes(c.key);if(!O&&!y||p&&!y)return;c.preventDefault();const N=this.matches(d)?this:q.prev(this,d)[0]||q.next(this,d)[0]||q.findOne(d,c.delegateTarget.parentNode),B=Gt.getOrCreateInstance(N);if(O)return c.stopPropagation(),B.show(),void B._selectMenuItem(c);B._isShown()&&(c.stopPropagation(),B.hide(),N.focus())}}Y.on(document,tl,d,Gt.dataApiKeydownHandler),Y.on(document,tl,E,Gt.dataApiKeydownHandler),Y.on(document,el,Gt.clearMenus),Y.on(document,Ni,Gt.clearMenus),Y.on(document,el,d,function(_){_.preventDefault(),Gt.getOrCreateInstance(this).toggle()}),U(Gt);const Sn="backdrop",Sr="show",Co=`mousedown.bs.${Sn}`,bA={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},TA={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class km extends yt{constructor(c){super(),this._config=this._getConfig(c),this._isAppended=!1,this._element=null}static get Default(){return bA}static get DefaultType(){return TA}static get NAME(){return Sn}show(c){if(!this._config.isVisible)return void F(c);this._append();const p=this._getElement();this._config.isAnimated&&b(p),p.classList.add(Sr),this._emulateAnimation(()=>{F(c)})}hide(c){this._config.isVisible?(this._getElement().classList.remove(Sr),this._emulateAnimation(()=>{this.dispose(),F(c)})):F(c)}dispose(){this._isAppended&&(Y.off(this._element,Co),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const c=document.createElement("div");c.className=this._config.className,this._config.isAnimated&&c.classList.add("fade"),this._element=c}return this._element}_configAfterMerge(c){return c.rootElement=u(c.rootElement),c}_append(){if(this._isAppended)return;const c=this._getElement();this._config.rootElement.append(c),Y.on(c,Co,()=>{F(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(c){K(c,this._getElement(),this._config.isAnimated)}}const Vc=".bs.focustrap",wA=`focusin${Vc}`,AA=`keydown.tab${Vc}`,xm="backward",IA={autofocus:!0,trapElement:null},CA={autofocus:"boolean",trapElement:"element"};class Lm extends yt{constructor(c){super(),this._config=this._getConfig(c),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return IA}static get DefaultType(){return CA}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Y.off(document,Vc),Y.on(document,wA,c=>this._handleFocusin(c)),Y.on(document,AA,c=>this._handleKeydown(c)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Y.off(document,Vc))}_handleFocusin(c){const{trapElement:p}=this._config;if(c.target===document||c.target===p||p.contains(c.target))return;const y=q.focusableChildren(p);y.length===0?p.focus():this._lastTabNavDirection===xm?y[y.length-1].focus():y[0].focus()}_handleKeydown(c){c.key==="Tab"&&(this._lastTabNavDirection=c.shiftKey?xm:"forward")}}const Vm=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Mm=".sticky-top",Mc="padding-right",$m="margin-right";class ad{constructor(){this._element=document.body}getWidth(){const c=document.documentElement.clientWidth;return Math.abs(window.innerWidth-c)}hide(){const c=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Mc,p=>p+c),this._setElementAttributes(Vm,Mc,p=>p+c),this._setElementAttributes(Mm,$m,p=>p-c)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Mc),this._resetElementAttributes(Vm,Mc),this._resetElementAttributes(Mm,$m)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(c,p,y){const O=this.getWidth();this._applyManipulationCallback(c,N=>{if(N!==this._element&&window.innerWidth>N.clientWidth+O)return;this._saveInitialAttribute(N,p);const B=window.getComputedStyle(N).getPropertyValue(p);N.style.setProperty(p,`${y(Number.parseFloat(B))}px`)})}_saveInitialAttribute(c,p){const y=c.style.getPropertyValue(p);y&&vt.setDataAttribute(c,p,y)}_resetElementAttributes(c,p){this._applyManipulationCallback(c,y=>{const O=vt.getDataAttribute(y,p);O!==null?(vt.removeDataAttribute(y,p),y.style.setProperty(p,O)):y.style.removeProperty(p)})}_applyManipulationCallback(c,p){if(l(c))p(c);else for(const y of q.find(c,this._element))p(y)}}const Kn=".bs.modal",SA=`hide${Kn}`,RA=`hidePrevented${Kn}`,Fm=`hidden${Kn}`,Um=`show${Kn}`,PA=`shown${Kn}`,OA=`resize${Kn}`,DA=`click.dismiss${Kn}`,NA=`mousedown.dismiss${Kn}`,kA=`keydown.dismiss${Kn}`,xA=`click${Kn}.data-api`,jm="modal-open",Bm="show",ld="modal-static",LA={backdrop:!0,focus:!0,keyboard:!0},VA={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Rr extends et{constructor(c,p){super(c,p),this._dialog=q.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ad,this._addEventListeners()}static get Default(){return LA}static get DefaultType(){return VA}static get NAME(){return"modal"}toggle(c){return this._isShown?this.hide():this.show(c)}show(c){this._isShown||this._isTransitioning||Y.trigger(this._element,Um,{relatedTarget:c}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(jm),this._adjustDialog(),this._backdrop.show(()=>this._showElement(c)))}hide(){this._isShown&&!this._isTransitioning&&(Y.trigger(this._element,SA).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Bm),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){Y.off(window,Kn),Y.off(this._dialog,Kn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new km({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Lm({trapElement:this._element})}_showElement(c){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const p=q.findOne(".modal-body",this._dialog);p&&(p.scrollTop=0),b(this._element),this._element.classList.add(Bm),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Y.trigger(this._element,PA,{relatedTarget:c})},this._dialog,this._isAnimated())}_addEventListeners(){Y.on(this._element,kA,c=>{c.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),Y.on(window,OA,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Y.on(this._element,NA,c=>{Y.one(this._element,DA,p=>{this._element===c.target&&this._element===p.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(jm),this._resetAdjustments(),this._scrollBar.reset(),Y.trigger(this._element,Fm)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Y.trigger(this._element,RA).defaultPrevented)return;const c=this._element.scrollHeight>document.documentElement.clientHeight,p=this._element.style.overflowY;p==="hidden"||this._element.classList.contains(ld)||(c||(this._element.style.overflowY="hidden"),this._element.classList.add(ld),this._queueCallback(()=>{this._element.classList.remove(ld),this._queueCallback(()=>{this._element.style.overflowY=p},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const c=this._element.scrollHeight>document.documentElement.clientHeight,p=this._scrollBar.getWidth(),y=p>0;if(y&&!c){const O=$()?"paddingLeft":"paddingRight";this._element.style[O]=`${p}px`}if(!y&&c){const O=$()?"paddingRight":"paddingLeft";this._element.style[O]=`${p}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(c,p){return this.each(function(){const y=Rr.getOrCreateInstance(this,c);if(typeof c=="string"){if(y[c]===void 0)throw new TypeError(`No method named "${c}"`);y[c](p)}})}}Y.on(document,xA,'[data-bs-toggle="modal"]',function(_){const c=q.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&_.preventDefault(),Y.one(c,Um,y=>{y.defaultPrevented||Y.one(c,Fm,()=>{h(this)&&this.focus()})});const p=q.findOne(".modal.show");p&&Rr.getInstance(p).hide(),Rr.getOrCreateInstance(c).toggle(this)}),ie(Rr),U(Rr);const Qs=".bs.offcanvas",Hm=".data-api",MA=`load${Qs}${Hm}`,qm="show",Wm="showing",zm="hiding",Km=".offcanvas.show",$A=`show${Qs}`,FA=`shown${Qs}`,UA=`hide${Qs}`,Gm=`hidePrevented${Qs}`,Ym=`hidden${Qs}`,jA=`resize${Qs}`,BA=`click${Qs}${Hm}`,HA=`keydown.dismiss${Qs}`,qA={backdrop:!0,keyboard:!0,scroll:!1},WA={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Xs extends et{constructor(c,p){super(c,p),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return qA}static get DefaultType(){return WA}static get NAME(){return"offcanvas"}toggle(c){return this._isShown?this.hide():this.show(c)}show(c){this._isShown||Y.trigger(this._element,$A,{relatedTarget:c}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new ad().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Wm),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(qm),this._element.classList.remove(Wm),Y.trigger(this._element,FA,{relatedTarget:c})},this._element,!0))}hide(){this._isShown&&(Y.trigger(this._element,UA).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(zm),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(qm,zm),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new ad().reset(),Y.trigger(this._element,Ym)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const c=!!this._config.backdrop;return new km({className:"offcanvas-backdrop",isVisible:c,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:c?()=>{this._config.backdrop!=="static"?this.hide():Y.trigger(this._element,Gm)}:null})}_initializeFocusTrap(){return new Lm({trapElement:this._element})}_addEventListeners(){Y.on(this._element,HA,c=>{c.key==="Escape"&&(this._config.keyboard?this.hide():Y.trigger(this._element,Gm))})}static jQueryInterface(c){return this.each(function(){const p=Xs.getOrCreateInstance(this,c);if(typeof c=="string"){if(p[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);p[c](this)}})}}Y.on(document,BA,'[data-bs-toggle="offcanvas"]',function(_){const c=q.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&_.preventDefault(),f(this))return;Y.one(c,Ym,()=>{h(this)&&this.focus()});const p=q.findOne(Km);p&&p!==c&&Xs.getInstance(p).hide(),Xs.getOrCreateInstance(c).toggle(this)}),Y.on(window,MA,()=>{for(const _ of q.find(Km))Xs.getOrCreateInstance(_).show()}),Y.on(window,jA,()=>{for(const _ of q.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(_).position!=="fixed"&&Xs.getOrCreateInstance(_).hide()}),ie(Xs),U(Xs);const Qm={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},zA=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),KA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,GA=(_,c)=>{const p=_.nodeName.toLowerCase();return c.includes(p)?!zA.has(p)||!!KA.test(_.nodeValue):c.filter(y=>y instanceof RegExp).some(y=>y.test(p))},YA={allowList:Qm,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},QA={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},XA={entry:"(string|element|function|null)",selector:"(string|element)"};class JA extends yt{constructor(c){super(),this._config=this._getConfig(c)}static get Default(){return YA}static get DefaultType(){return QA}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(c=>this._resolvePossibleFunction(c)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(c){return this._checkContent(c),this._config.content={...this._config.content,...c},this}toHtml(){const c=document.createElement("div");c.innerHTML=this._maybeSanitize(this._config.template);for(const[O,N]of Object.entries(this._config.content))this._setContent(c,N,O);const p=c.children[0],y=this._resolvePossibleFunction(this._config.extraClass);return y&&p.classList.add(...y.split(" ")),p}_typeCheckConfig(c){super._typeCheckConfig(c),this._checkContent(c.content)}_checkContent(c){for(const[p,y]of Object.entries(c))super._typeCheckConfig({selector:p,entry:y},XA)}_setContent(c,p,y){const O=q.findOne(y,c);O&&((p=this._resolvePossibleFunction(p))?l(p)?this._putElementInTemplate(u(p),O):this._config.html?O.innerHTML=this._maybeSanitize(p):O.textContent=p:O.remove())}_maybeSanitize(c){return this._config.sanitize?function(p,y,O){if(!p.length)return p;if(O&&typeof O=="function")return O(p);const N=new window.DOMParser().parseFromString(p,"text/html"),B=[].concat(...N.body.querySelectorAll("*"));for(const Z of B){const oe=Z.nodeName.toLowerCase();if(!Object.keys(y).includes(oe)){Z.remove();continue}const pe=[].concat(...Z.attributes),ge=[].concat(y["*"]||[],y[oe]||[]);for(const ue of pe)GA(ue,ge)||Z.removeAttribute(ue.nodeName)}return N.body.innerHTML}(c,this._config.allowList,this._config.sanitizeFn):c}_resolvePossibleFunction(c){return F(c,[void 0,this])}_putElementInTemplate(c,p){if(this._config.html)return p.innerHTML="",void p.append(c);p.textContent=c.textContent}}const ZA=new Set(["sanitize","allowList","sanitizeFn"]),cd="fade",$c="show",eI=".tooltip-inner",Xm=".modal",Jm="hide.bs.modal",nl="hover",ud="focus",tI={AUTO:"auto",TOP:"top",RIGHT:$()?"left":"right",BOTTOM:"bottom",LEFT:$()?"right":"left"},nI={allowList:Qm,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},sI={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Pr extends et{constructor(c,p){if(Cr===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(c,p),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return nI}static get DefaultType(){return sI}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),Y.off(this._element.closest(Xm),Jm,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const c=Y.trigger(this._element,this.constructor.eventName("show")),p=(g(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(c.defaultPrevented||!p)return;this._disposePopper();const y=this._getTipElement();this._element.setAttribute("aria-describedby",y.getAttribute("id"));const{container:O}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(O.append(y),Y.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(y),y.classList.add($c),"ontouchstart"in document.documentElement)for(const N of[].concat(...document.body.children))Y.on(N,"mouseover",v);this._queueCallback(()=>{Y.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Y.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove($c),"ontouchstart"in document.documentElement)for(const c of[].concat(...document.body.children))Y.off(c,"mouseover",v);this._activeTrigger.click=!1,this._activeTrigger[ud]=!1,this._activeTrigger[nl]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Y.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(c){const p=this._getTemplateFactory(c).toHtml();if(!p)return null;p.classList.remove(cd,$c),p.classList.add(`bs-${this.constructor.NAME}-auto`);const y=(O=>{do O+=Math.floor(1e6*Math.random());while(document.getElementById(O));return O})(this.constructor.NAME).toString();return p.setAttribute("id",y),this._isAnimated()&&p.classList.add(cd),p}setContent(c){this._newContent=c,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(c){return this._templateFactory?this._templateFactory.changeContent(c):this._templateFactory=new JA({...this._config,content:c,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[eI]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(c){return this.constructor.getOrCreateInstance(c.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(cd)}_isShown(){return this.tip&&this.tip.classList.contains($c)}_createPopper(c){const p=F(this._config.placement,[this,c,this._element]),y=tI[p.toUpperCase()];return Ao(this._element,c,this._getPopperConfig(y))}_getOffset(){const{offset:c}=this._config;return typeof c=="string"?c.split(",").map(p=>Number.parseInt(p,10)):typeof c=="function"?p=>c(p,this._element):c}_resolvePossibleFunction(c){return F(c,[this._element,this._element])}_getPopperConfig(c){const p={placement:c,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:y=>{this._getTipElement().setAttribute("data-popper-placement",y.state.placement)}}]};return{...p,...F(this._config.popperConfig,[void 0,p])}}_setListeners(){const c=this._config.trigger.split(" ");for(const p of c)if(p==="click")Y.on(this._element,this.constructor.eventName("click"),this._config.selector,y=>{this._initializeOnDelegatedTarget(y).toggle()});else if(p!=="manual"){const y=p===nl?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),O=p===nl?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");Y.on(this._element,y,this._config.selector,N=>{const B=this._initializeOnDelegatedTarget(N);B._activeTrigger[N.type==="focusin"?ud:nl]=!0,B._enter()}),Y.on(this._element,O,this._config.selector,N=>{const B=this._initializeOnDelegatedTarget(N);B._activeTrigger[N.type==="focusout"?ud:nl]=B._element.contains(N.relatedTarget),B._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Y.on(this._element.closest(Xm),Jm,this._hideModalHandler)}_fixTitle(){const c=this._element.getAttribute("title");c&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",c),this._element.setAttribute("data-bs-original-title",c),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(c,p){clearTimeout(this._timeout),this._timeout=setTimeout(c,p)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(c){const p=vt.getDataAttributes(this._element);for(const y of Object.keys(p))ZA.has(y)&&delete p[y];return c={...p,...typeof c=="object"&&c?c:{}},c=this._mergeConfigObj(c),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}_configAfterMerge(c){return c.container=c.container===!1?document.body:u(c.container),typeof c.delay=="number"&&(c.delay={show:c.delay,hide:c.delay}),typeof c.title=="number"&&(c.title=c.title.toString()),typeof c.content=="number"&&(c.content=c.content.toString()),c}_getDelegateConfig(){const c={};for(const[p,y]of Object.entries(this._config))this.constructor.Default[p]!==y&&(c[p]=y);return c.selector=!1,c.trigger="manual",c}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(c){return this.each(function(){const p=Pr.getOrCreateInstance(this,c);if(typeof c=="string"){if(p[c]===void 0)throw new TypeError(`No method named "${c}"`);p[c]()}})}}U(Pr);const iI=".popover-header",rI=".popover-body",oI={...Pr.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},aI={...Pr.DefaultType,content:"(null|string|element|function)"};class Fc extends Pr{static get Default(){return oI}static get DefaultType(){return aI}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[iI]:this._getTitle(),[rI]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(c){return this.each(function(){const p=Fc.getOrCreateInstance(this,c);if(typeof c=="string"){if(p[c]===void 0)throw new TypeError(`No method named "${c}"`);p[c]()}})}}U(Fc);const hd=".bs.scrollspy",lI=`activate${hd}`,Zm=`click${hd}`,cI=`load${hd}.data-api`,So="active",dd="[href]",eg=".nav-link",uI=`${eg}, .nav-item > ${eg}, .list-group-item`,hI={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},dI={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class sl extends et{constructor(c,p){super(c,p),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return hI}static get DefaultType(){return dI}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const c of this._observableSections.values())this._observer.observe(c)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(c){return c.target=u(c.target)||document.body,c.rootMargin=c.offset?`${c.offset}px 0px -30%`:c.rootMargin,typeof c.threshold=="string"&&(c.threshold=c.threshold.split(",").map(p=>Number.parseFloat(p))),c}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Y.off(this._config.target,Zm),Y.on(this._config.target,Zm,dd,c=>{const p=this._observableSections.get(c.target.hash);if(p){c.preventDefault();const y=this._rootElement||window,O=p.offsetTop-this._element.offsetTop;if(y.scrollTo)return void y.scrollTo({top:O,behavior:"smooth"});y.scrollTop=O}}))}_getNewObserver(){const c={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(p=>this._observerCallback(p),c)}_observerCallback(c){const p=B=>this._targetLinks.get(`#${B.target.id}`),y=B=>{this._previousScrollData.visibleEntryTop=B.target.offsetTop,this._process(p(B))},O=(this._rootElement||document.documentElement).scrollTop,N=O>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=O;for(const B of c){if(!B.isIntersecting){this._activeTarget=null,this._clearActiveClass(p(B));continue}const Z=B.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(N&&Z){if(y(B),!O)return}else N||Z||y(B)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const c=q.find(dd,this._config.target);for(const p of c){if(!p.hash||f(p))continue;const y=q.findOne(decodeURI(p.hash),this._element);h(y)&&(this._targetLinks.set(decodeURI(p.hash),p),this._observableSections.set(p.hash,y))}}_process(c){this._activeTarget!==c&&(this._clearActiveClass(this._config.target),this._activeTarget=c,c.classList.add(So),this._activateParents(c),Y.trigger(this._element,lI,{relatedTarget:c}))}_activateParents(c){if(c.classList.contains("dropdown-item"))q.findOne(".dropdown-toggle",c.closest(".dropdown")).classList.add(So);else for(const p of q.parents(c,".nav, .list-group"))for(const y of q.prev(p,uI))y.classList.add(So)}_clearActiveClass(c){c.classList.remove(So);const p=q.find(`${dd}.${So}`,c);for(const y of p)y.classList.remove(So)}static jQueryInterface(c){return this.each(function(){const p=sl.getOrCreateInstance(this,c);if(typeof c=="string"){if(p[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);p[c]()}})}}Y.on(window,cI,()=>{for(const _ of q.find('[data-bs-spy="scroll"]'))sl.getOrCreateInstance(_)}),U(sl);const Or=".bs.tab",fI=`hide${Or}`,pI=`hidden${Or}`,mI=`show${Or}`,gI=`shown${Or}`,_I=`click${Or}`,vI=`keydown${Or}`,yI=`load${Or}`,EI="ArrowLeft",tg="ArrowRight",bI="ArrowUp",ng="ArrowDown",fd="Home",sg="End",Dr="active",ig="fade",pd="show",rg=".dropdown-toggle",md=`:not(${rg})`,og='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',gd=`.nav-link${md}, .list-group-item${md}, [role="tab"]${md}, ${og}`,TI=`.${Dr}[data-bs-toggle="tab"], .${Dr}[data-bs-toggle="pill"], .${Dr}[data-bs-toggle="list"]`;class Nr extends et{constructor(c){super(c),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Y.on(this._element,vI,p=>this._keydown(p)))}static get NAME(){return"tab"}show(){const c=this._element;if(this._elemIsActive(c))return;const p=this._getActiveElem(),y=p?Y.trigger(p,fI,{relatedTarget:c}):null;Y.trigger(c,mI,{relatedTarget:p}).defaultPrevented||y&&y.defaultPrevented||(this._deactivate(p,c),this._activate(c,p))}_activate(c,p){c&&(c.classList.add(Dr),this._activate(q.getElementFromSelector(c)),this._queueCallback(()=>{c.getAttribute("role")==="tab"?(c.removeAttribute("tabindex"),c.setAttribute("aria-selected",!0),this._toggleDropDown(c,!0),Y.trigger(c,gI,{relatedTarget:p})):c.classList.add(pd)},c,c.classList.contains(ig)))}_deactivate(c,p){c&&(c.classList.remove(Dr),c.blur(),this._deactivate(q.getElementFromSelector(c)),this._queueCallback(()=>{c.getAttribute("role")==="tab"?(c.setAttribute("aria-selected",!1),c.setAttribute("tabindex","-1"),this._toggleDropDown(c,!1),Y.trigger(c,pI,{relatedTarget:p})):c.classList.remove(pd)},c,c.classList.contains(ig)))}_keydown(c){if(![EI,tg,bI,ng,fd,sg].includes(c.key))return;c.stopPropagation(),c.preventDefault();const p=this._getChildren().filter(O=>!f(O));let y;if([fd,sg].includes(c.key))y=p[c.key===fd?0:p.length-1];else{const O=[tg,ng].includes(c.key);y=H(p,c.target,O,!0)}y&&(y.focus({preventScroll:!0}),Nr.getOrCreateInstance(y).show())}_getChildren(){return q.find(gd,this._parent)}_getActiveElem(){return this._getChildren().find(c=>this._elemIsActive(c))||null}_setInitialAttributes(c,p){this._setAttributeIfNotExists(c,"role","tablist");for(const y of p)this._setInitialAttributesOnChild(y)}_setInitialAttributesOnChild(c){c=this._getInnerElement(c);const p=this._elemIsActive(c),y=this._getOuterElement(c);c.setAttribute("aria-selected",p),y!==c&&this._setAttributeIfNotExists(y,"role","presentation"),p||c.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(c,"role","tab"),this._setInitialAttributesOnTargetPanel(c)}_setInitialAttributesOnTargetPanel(c){const p=q.getElementFromSelector(c);p&&(this._setAttributeIfNotExists(p,"role","tabpanel"),c.id&&this._setAttributeIfNotExists(p,"aria-labelledby",`${c.id}`))}_toggleDropDown(c,p){const y=this._getOuterElement(c);if(!y.classList.contains("dropdown"))return;const O=(N,B)=>{const Z=q.findOne(N,y);Z&&Z.classList.toggle(B,p)};O(rg,Dr),O(".dropdown-menu",pd),y.setAttribute("aria-expanded",p)}_setAttributeIfNotExists(c,p,y){c.hasAttribute(p)||c.setAttribute(p,y)}_elemIsActive(c){return c.classList.contains(Dr)}_getInnerElement(c){return c.matches(gd)?c:q.findOne(gd,c)}_getOuterElement(c){return c.closest(".nav-item, .list-group-item")||c}static jQueryInterface(c){return this.each(function(){const p=Nr.getOrCreateInstance(this);if(typeof c=="string"){if(p[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);p[c]()}})}}Y.on(document,_I,og,function(_){["A","AREA"].includes(this.tagName)&&_.preventDefault(),f(this)||Nr.getOrCreateInstance(this).show()}),Y.on(window,yI,()=>{for(const _ of q.find(TI))Nr.getOrCreateInstance(_)}),U(Nr);const ki=".bs.toast",wI=`mouseover${ki}`,AI=`mouseout${ki}`,II=`focusin${ki}`,CI=`focusout${ki}`,SI=`hide${ki}`,RI=`hidden${ki}`,PI=`show${ki}`,OI=`shown${ki}`,ag="hide",Uc="show",jc="showing",DI={animation:"boolean",autohide:"boolean",delay:"number"},NI={animation:!0,autohide:!0,delay:5e3};class il extends et{constructor(c,p){super(c,p),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return NI}static get DefaultType(){return DI}static get NAME(){return"toast"}show(){Y.trigger(this._element,PI).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(ag),b(this._element),this._element.classList.add(Uc,jc),this._queueCallback(()=>{this._element.classList.remove(jc),Y.trigger(this._element,OI),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(Y.trigger(this._element,SI).defaultPrevented||(this._element.classList.add(jc),this._queueCallback(()=>{this._element.classList.add(ag),this._element.classList.remove(jc,Uc),Y.trigger(this._element,RI)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Uc),super.dispose()}isShown(){return this._element.classList.contains(Uc)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(c,p){switch(c.type){case"mouseover":case"mouseout":this._hasMouseInteraction=p;break;case"focusin":case"focusout":this._hasKeyboardInteraction=p}if(p)return void this._clearTimeout();const y=c.relatedTarget;this._element===y||this._element.contains(y)||this._maybeScheduleHide()}_setListeners(){Y.on(this._element,wI,c=>this._onInteraction(c,!0)),Y.on(this._element,AI,c=>this._onInteraction(c,!1)),Y.on(this._element,II,c=>this._onInteraction(c,!0)),Y.on(this._element,CI,c=>this._onInteraction(c,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(c){return this.each(function(){const p=il.getOrCreateInstance(this,c);if(typeof c=="string"){if(p[c]===void 0)throw new TypeError(`No method named "${c}"`);p[c](this)}})}}return ie(il),U(il),{Alert:C,Button:z,Carousel:Hs,Collapse:fn,Dropdown:Gt,Modal:Rr,Offcanvas:Xs,Popover:Fc,ScrollSpy:sl,Tab:Nr,Toast:il,Tooltip:Pr}})}(Au)),Au.exports}cL();const uL={props:{text:{type:String,required:!0},maxLength:{type:Number,default:100}},computed:{truncatedText(){return this.text.length<=this.maxLength?this.text:this.text.slice(0,this.maxLength).trim()+"..."}}};function hL(n,e,t,s,i,r){return Ye(),Qe("div",null,[M("p",null,Bt(r.truncatedText),1)])}const dL=js(uL,[["render",hL]]),fL={class:"container-fluid py-2 commentaires"},pL={class:"font-weight-light"},mL={class:"media-scroller snaps-inline comms",id:"commentairesIn"},gL={class:"comm-card"},_L={class:"small"},vL={class:"user"},yL=["src","alt"],EL={class:"username"},bL={class:"stars"},TL={__name:"Comments",setup(n){const e=At([{id:1,username:"xXDarkSasukeDu44Xx",picture:"/assets/img/gtavi.png",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"1"},{id:2,username:"xXDarkSasukeDu44Xx",picture:"",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"2"},{id:3,username:"xXDarkSasukeDu44Xx",picture:"",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"3"},{id:4,username:"xXDarkSasukeDu44Xx",picture:"",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"5"},{id:5,username:"xXDarkSasukeDu44Xx",picture:"",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"3"},{id:6,username:"xXDarkSasukeDu44Xx",picture:"",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"3"}]);return(t,s)=>(Ye(),Qe("div",fL,[M("h2",pL,Bt(e.value.length)+" Commentaires :",1),M("div",null,[M("ul",mL,[(Ye(!0),Qe(kt,null,Zi(e.value,i=>(Ye(),Qe("li",{key:i.id},[M("div",gL,[M("div",_L,[M("div",vL,[M("img",{src:i.picture,alt:i.username},null,8,yL),M("h3",EL,Bt(i.username),1)]),M("div",bL,[(Ye(),Qe(kt,null,Zi(5,(r,o)=>M("span",{key:o},Bt(o<i.rating?"":""),1)),64))])]),s[0]||(s[0]=M("div",{class:"texte"},null,-1)),M("h4",null,[He(dL,{text:i.text,maxLength:80},null,8,["text"])]),s[1]||(s[1]=M("h2",null,null,-1))])]))),128))])])]))}},wL=js(TL,[["__scopeId","data-v-410a89e0"]]),AL={class:"container-fluid py-2"},IL={class:"media-scroller snaps-inline"},CL={class:"game-card"},SL=["href"],RL=["src","alt"],PL={class:"game-text"},OL={class:"titre"},DL={class:"prix"},NL={__name:"Promo",setup(n){const e=At([]),t=["kn9pH1dkwMBBF3YOvmvN","sTIYDzvGIubJuR7DOIaD","NUSTlf7nbt76DKvcEFmv"],s=async()=>{const i=jp(Sa,"games"),r=Xp(i,Jp("__name__","in",t));try{const o=await nm(r);e.value=[],o.forEach(l=>{const u=l.data();e.value.push({id:l.id,titre:u.name,link:u.link,image:u.image,price:`${u.price}`})})}catch(o){console.error("Erreur lors de la rcupration des jeux :",o)}};return va(()=>{s()}),console.log("Rsultat Firestore:",e.value),(i,r)=>(Ye(),Qe("div",AL,[r[1]||(r[1]=M("h2",{class:"font-weight-light"},"Les jeux de la semaine",-1)),M("div",null,[M("ul",IL,[(Ye(!0),Qe(kt,null,Zi(e.value,o=>(Ye(),Qe("li",{key:o.id},[M("div",CL,[M("a",{href:o.link},[M("img",{src:`/assets/img/preview/${o.image}`,alt:o.titre},null,8,RL)],8,SL),M("div",PL,[M("h3",OL,Bt(o.titre)+" :",1),M("h3",DL,Bt(o.price),1)]),r[0]||(r[0]=M("h2",null,null,-1))])]))),128))])])]))}},kL=js(NL,[["__scopeId","data-v-72334672"]]);var wn="top",jn="bottom",Bn="right",An="left",zh="auto",Ra=[wn,jn,Bn,An],Jr="start",ha="end",yw="clippingParents",mm="viewport",$o="popper",Ew="reference",qf=Ra.reduce(function(n,e){return n.concat([e+"-"+Jr,e+"-"+ha])},[]),gm=[].concat(Ra,[zh]).reduce(function(n,e){return n.concat([e,e+"-"+Jr,e+"-"+ha])},[]),bw="beforeRead",Tw="read",ww="afterRead",Aw="beforeMain",Iw="main",Cw="afterMain",Sw="beforeWrite",Rw="write",Pw="afterWrite",Ow=[bw,Tw,ww,Aw,Iw,Cw,Sw,Rw,Pw];function Us(n){return n?(n.nodeName||"").toLowerCase():null}function Hn(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Zr(n){var e=Hn(n).Element;return n instanceof e||n instanceof Element}function Zn(n){var e=Hn(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function _m(n){if(typeof ShadowRoot>"u")return!1;var e=Hn(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function xL(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var s=e.styles[t]||{},i=e.attributes[t]||{},r=e.elements[t];!Zn(r)||!Us(r)||(Object.assign(r.style,s),Object.keys(i).forEach(function(o){var l=i[o];l===!1?r.removeAttribute(o):r.setAttribute(o,l===!0?"":l)}))})}function LL(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(s){var i=e.elements[s],r=e.attributes[s]||{},o=Object.keys(e.styles.hasOwnProperty(s)?e.styles[s]:t[s]),l=o.reduce(function(u,h){return u[h]="",u},{});!Zn(i)||!Us(i)||(Object.assign(i.style,l),Object.keys(r).forEach(function(u){i.removeAttribute(u)}))})}}const vm={name:"applyStyles",enabled:!0,phase:"write",fn:xL,effect:LL,requires:["computeStyles"]};function Ls(n){return n.split("-")[0]}var qr=Math.max,rh=Math.min,da=Math.round;function Wf(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Dw(){return!/^((?!chrome|android).)*safari/i.test(Wf())}function fa(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var s=n.getBoundingClientRect(),i=1,r=1;e&&Zn(n)&&(i=n.offsetWidth>0&&da(s.width)/n.offsetWidth||1,r=n.offsetHeight>0&&da(s.height)/n.offsetHeight||1);var o=Zr(n)?Hn(n):window,l=o.visualViewport,u=!Dw()&&t,h=(s.left+(u&&l?l.offsetLeft:0))/i,f=(s.top+(u&&l?l.offsetTop:0))/r,g=s.width/i,v=s.height/r;return{width:g,height:v,top:f,right:h+g,bottom:f+v,left:h,x:h,y:f}}function ym(n){var e=fa(n),t=n.offsetWidth,s=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:s}}function Nw(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&_m(t)){var s=e;do{if(s&&n.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function mi(n){return Hn(n).getComputedStyle(n)}function VL(n){return["table","td","th"].indexOf(Us(n))>=0}function dr(n){return((Zr(n)?n.ownerDocument:n.document)||window.document).documentElement}function Kh(n){return Us(n)==="html"?n:n.assignedSlot||n.parentNode||(_m(n)?n.host:null)||dr(n)}function zv(n){return!Zn(n)||mi(n).position==="fixed"?null:n.offsetParent}function ML(n){var e=/firefox/i.test(Wf()),t=/Trident/i.test(Wf());if(t&&Zn(n)){var s=mi(n);if(s.position==="fixed")return null}var i=Kh(n);for(_m(i)&&(i=i.host);Zn(i)&&["html","body"].indexOf(Us(i))<0;){var r=mi(i);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||e&&r.willChange==="filter"||e&&r.filter&&r.filter!=="none")return i;i=i.parentNode}return null}function hc(n){for(var e=Hn(n),t=zv(n);t&&VL(t)&&mi(t).position==="static";)t=zv(t);return t&&(Us(t)==="html"||Us(t)==="body"&&mi(t).position==="static")?e:t||ML(n)||e}function Em(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Ol(n,e,t){return qr(n,rh(e,t))}function $L(n,e,t){var s=Ol(n,e,t);return s>t?t:s}function kw(){return{top:0,right:0,bottom:0,left:0}}function xw(n){return Object.assign({},kw(),n)}function Lw(n,e){return e.reduce(function(t,s){return t[s]=n,t},{})}var FL=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,xw(typeof e!="number"?e:Lw(e,Ra))};function UL(n){var e,t=n.state,s=n.name,i=n.options,r=t.elements.arrow,o=t.modifiersData.popperOffsets,l=Ls(t.placement),u=Em(l),h=[An,Bn].indexOf(l)>=0,f=h?"height":"width";if(!(!r||!o)){var g=FL(i.padding,t),v=ym(r),b=u==="y"?wn:An,k=u==="y"?jn:Bn,L=t.rects.reference[f]+t.rects.reference[u]-o[u]-t.rects.popper[f],$=o[u]-t.rects.reference[u],U=hc(r),F=U?u==="y"?U.clientHeight||0:U.clientWidth||0:0,K=L/2-$/2,H=g[b],ce=F-v[f]-g[k],he=F/2-v[f]/2+K,S=Ol(H,he,ce),T=u;t.modifiersData[s]=(e={},e[T]=S,e.centerOffset=S-he,e)}}function jL(n){var e=n.state,t=n.options,s=t.element,i=s===void 0?"[data-popper-arrow]":s;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Nw(e.elements.popper,i)&&(e.elements.arrow=i))}const Vw={name:"arrow",enabled:!0,phase:"main",fn:UL,effect:jL,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function pa(n){return n.split("-")[1]}var BL={top:"auto",right:"auto",bottom:"auto",left:"auto"};function HL(n,e){var t=n.x,s=n.y,i=e.devicePixelRatio||1;return{x:da(t*i)/i||0,y:da(s*i)/i||0}}function Kv(n){var e,t=n.popper,s=n.popperRect,i=n.placement,r=n.variation,o=n.offsets,l=n.position,u=n.gpuAcceleration,h=n.adaptive,f=n.roundOffsets,g=n.isFixed,v=o.x,b=v===void 0?0:v,k=o.y,L=k===void 0?0:k,$=typeof f=="function"?f({x:b,y:L}):{x:b,y:L};b=$.x,L=$.y;var U=o.hasOwnProperty("x"),F=o.hasOwnProperty("y"),K=An,H=wn,ce=window;if(h){var he=hc(t),S="clientHeight",T="clientWidth";if(he===Hn(t)&&(he=dr(t),mi(he).position!=="static"&&l==="absolute"&&(S="scrollHeight",T="scrollWidth")),he=he,i===wn||(i===An||i===Bn)&&r===ha){H=jn;var A=g&&he===ce&&ce.visualViewport?ce.visualViewport.height:he[S];L-=A-s.height,L*=u?1:-1}if(i===An||(i===wn||i===jn)&&r===ha){K=Bn;var R=g&&he===ce&&ce.visualViewport?ce.visualViewport.width:he[T];b-=R-s.width,b*=u?1:-1}}var P=Object.assign({position:l},h&&BL),D=f===!0?HL({x:b,y:L},Hn(t)):{x:b,y:L};if(b=D.x,L=D.y,u){var I;return Object.assign({},P,(I={},I[H]=F?"0":"",I[K]=U?"0":"",I.transform=(ce.devicePixelRatio||1)<=1?"translate("+b+"px, "+L+"px)":"translate3d("+b+"px, "+L+"px, 0)",I))}return Object.assign({},P,(e={},e[H]=F?L+"px":"",e[K]=U?b+"px":"",e.transform="",e))}function qL(n){var e=n.state,t=n.options,s=t.gpuAcceleration,i=s===void 0?!0:s,r=t.adaptive,o=r===void 0?!0:r,l=t.roundOffsets,u=l===void 0?!0:l,h={placement:Ls(e.placement),variation:pa(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Kv(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Kv(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const bm={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:qL,data:{}};var tu={passive:!0};function WL(n){var e=n.state,t=n.instance,s=n.options,i=s.scroll,r=i===void 0?!0:i,o=s.resize,l=o===void 0?!0:o,u=Hn(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&h.forEach(function(f){f.addEventListener("scroll",t.update,tu)}),l&&u.addEventListener("resize",t.update,tu),function(){r&&h.forEach(function(f){f.removeEventListener("scroll",t.update,tu)}),l&&u.removeEventListener("resize",t.update,tu)}}const Tm={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:WL,data:{}};var zL={left:"right",right:"left",bottom:"top",top:"bottom"};function Iu(n){return n.replace(/left|right|bottom|top/g,function(e){return zL[e]})}var KL={start:"end",end:"start"};function Gv(n){return n.replace(/start|end/g,function(e){return KL[e]})}function wm(n){var e=Hn(n),t=e.pageXOffset,s=e.pageYOffset;return{scrollLeft:t,scrollTop:s}}function Am(n){return fa(dr(n)).left+wm(n).scrollLeft}function GL(n,e){var t=Hn(n),s=dr(n),i=t.visualViewport,r=s.clientWidth,o=s.clientHeight,l=0,u=0;if(i){r=i.width,o=i.height;var h=Dw();(h||!h&&e==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}return{width:r,height:o,x:l+Am(n),y:u}}function YL(n){var e,t=dr(n),s=wm(n),i=(e=n.ownerDocument)==null?void 0:e.body,r=qr(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=qr(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-s.scrollLeft+Am(n),u=-s.scrollTop;return mi(i||t).direction==="rtl"&&(l+=qr(t.clientWidth,i?i.clientWidth:0)-r),{width:r,height:o,x:l,y:u}}function Im(n){var e=mi(n),t=e.overflow,s=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+s)}function Mw(n){return["html","body","#document"].indexOf(Us(n))>=0?n.ownerDocument.body:Zn(n)&&Im(n)?n:Mw(Kh(n))}function Dl(n,e){var t;e===void 0&&(e=[]);var s=Mw(n),i=s===((t=n.ownerDocument)==null?void 0:t.body),r=Hn(s),o=i?[r].concat(r.visualViewport||[],Im(s)?s:[]):s,l=e.concat(o);return i?l:l.concat(Dl(Kh(o)))}function zf(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function QL(n,e){var t=fa(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function Yv(n,e,t){return e===mm?zf(GL(n,t)):Zr(e)?QL(e,t):zf(YL(dr(n)))}function XL(n){var e=Dl(Kh(n)),t=["absolute","fixed"].indexOf(mi(n).position)>=0,s=t&&Zn(n)?hc(n):n;return Zr(s)?e.filter(function(i){return Zr(i)&&Nw(i,s)&&Us(i)!=="body"}):[]}function JL(n,e,t,s){var i=e==="clippingParents"?XL(n):[].concat(e),r=[].concat(i,[t]),o=r[0],l=r.reduce(function(u,h){var f=Yv(n,h,s);return u.top=qr(f.top,u.top),u.right=rh(f.right,u.right),u.bottom=rh(f.bottom,u.bottom),u.left=qr(f.left,u.left),u},Yv(n,o,s));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function $w(n){var e=n.reference,t=n.element,s=n.placement,i=s?Ls(s):null,r=s?pa(s):null,o=e.x+e.width/2-t.width/2,l=e.y+e.height/2-t.height/2,u;switch(i){case wn:u={x:o,y:e.y-t.height};break;case jn:u={x:o,y:e.y+e.height};break;case Bn:u={x:e.x+e.width,y:l};break;case An:u={x:e.x-t.width,y:l};break;default:u={x:e.x,y:e.y}}var h=i?Em(i):null;if(h!=null){var f=h==="y"?"height":"width";switch(r){case Jr:u[h]=u[h]-(e[f]/2-t[f]/2);break;case ha:u[h]=u[h]+(e[f]/2-t[f]/2);break}}return u}function ma(n,e){e===void 0&&(e={});var t=e,s=t.placement,i=s===void 0?n.placement:s,r=t.strategy,o=r===void 0?n.strategy:r,l=t.boundary,u=l===void 0?yw:l,h=t.rootBoundary,f=h===void 0?mm:h,g=t.elementContext,v=g===void 0?$o:g,b=t.altBoundary,k=b===void 0?!1:b,L=t.padding,$=L===void 0?0:L,U=xw(typeof $!="number"?$:Lw($,Ra)),F=v===$o?Ew:$o,K=n.rects.popper,H=n.elements[k?F:v],ce=JL(Zr(H)?H:H.contextElement||dr(n.elements.popper),u,f,o),he=fa(n.elements.reference),S=$w({reference:he,element:K,placement:i}),T=zf(Object.assign({},K,S)),A=v===$o?T:he,R={top:ce.top-A.top+U.top,bottom:A.bottom-ce.bottom+U.bottom,left:ce.left-A.left+U.left,right:A.right-ce.right+U.right},P=n.modifiersData.offset;if(v===$o&&P){var D=P[i];Object.keys(R).forEach(function(I){var ft=[Bn,jn].indexOf(I)>=0?1:-1,wt=[wn,jn].indexOf(I)>=0?"y":"x";R[I]+=D[wt]*ft})}return R}function ZL(n,e){e===void 0&&(e={});var t=e,s=t.placement,i=t.boundary,r=t.rootBoundary,o=t.padding,l=t.flipVariations,u=t.allowedAutoPlacements,h=u===void 0?gm:u,f=pa(s),g=f?l?qf:qf.filter(function(k){return pa(k)===f}):Ra,v=g.filter(function(k){return h.indexOf(k)>=0});v.length===0&&(v=g);var b=v.reduce(function(k,L){return k[L]=ma(n,{placement:L,boundary:i,rootBoundary:r,padding:o})[Ls(L)],k},{});return Object.keys(b).sort(function(k,L){return b[k]-b[L]})}function eV(n){if(Ls(n)===zh)return[];var e=Iu(n);return[Gv(n),e,Gv(e)]}function tV(n){var e=n.state,t=n.options,s=n.name;if(!e.modifiersData[s]._skip){for(var i=t.mainAxis,r=i===void 0?!0:i,o=t.altAxis,l=o===void 0?!0:o,u=t.fallbackPlacements,h=t.padding,f=t.boundary,g=t.rootBoundary,v=t.altBoundary,b=t.flipVariations,k=b===void 0?!0:b,L=t.allowedAutoPlacements,$=e.options.placement,U=Ls($),F=U===$,K=u||(F||!k?[Iu($)]:eV($)),H=[$].concat(K).reduce(function(vt,yt){return vt.concat(Ls(yt)===zh?ZL(e,{placement:yt,boundary:f,rootBoundary:g,padding:h,flipVariations:k,allowedAutoPlacements:L}):yt)},[]),ce=e.rects.reference,he=e.rects.popper,S=new Map,T=!0,A=H[0],R=0;R<H.length;R++){var P=H[R],D=Ls(P),I=pa(P)===Jr,ft=[wn,jn].indexOf(D)>=0,wt=ft?"width":"height",Be=ma(e,{placement:P,boundary:f,rootBoundary:g,altBoundary:v,padding:h}),we=ft?I?Bn:An:I?jn:wn;ce[wt]>he[wt]&&(we=Iu(we));var xe=Iu(we),bt=[];if(r&&bt.push(Be[D]<=0),l&&bt.push(Be[we]<=0,Be[xe]<=0),bt.every(function(vt){return vt})){A=P,T=!1;break}S.set(P,bt)}if(T)for(var Y=k?3:1,xt=function(yt){var et=H.find(function(W){var q=S.get(W);if(q)return q.slice(0,yt).every(function(ie){return ie})});if(et)return A=et,"break"},Je=Y;Je>0;Je--){var Ze=xt(Je);if(Ze==="break")break}e.placement!==A&&(e.modifiersData[s]._skip=!0,e.placement=A,e.reset=!0)}}const Fw={name:"flip",enabled:!0,phase:"main",fn:tV,requiresIfExists:["offset"],data:{_skip:!1}};function Qv(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function Xv(n){return[wn,Bn,jn,An].some(function(e){return n[e]>=0})}function nV(n){var e=n.state,t=n.name,s=e.rects.reference,i=e.rects.popper,r=e.modifiersData.preventOverflow,o=ma(e,{elementContext:"reference"}),l=ma(e,{altBoundary:!0}),u=Qv(o,s),h=Qv(l,i,r),f=Xv(u),g=Xv(h);e.modifiersData[t]={referenceClippingOffsets:u,popperEscapeOffsets:h,isReferenceHidden:f,hasPopperEscaped:g},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":g})}const Uw={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:nV};function sV(n,e,t){var s=Ls(n),i=[An,wn].indexOf(s)>=0?-1:1,r=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,o=r[0],l=r[1];return o=o||0,l=(l||0)*i,[An,Bn].indexOf(s)>=0?{x:l,y:o}:{x:o,y:l}}function iV(n){var e=n.state,t=n.options,s=n.name,i=t.offset,r=i===void 0?[0,0]:i,o=gm.reduce(function(f,g){return f[g]=sV(g,e.rects,r),f},{}),l=o[e.placement],u=l.x,h=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=h),e.modifiersData[s]=o}const jw={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:iV};function rV(n){var e=n.state,t=n.name;e.modifiersData[t]=$w({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Cm={name:"popperOffsets",enabled:!0,phase:"read",fn:rV,data:{}};function oV(n){return n==="x"?"y":"x"}function aV(n){var e=n.state,t=n.options,s=n.name,i=t.mainAxis,r=i===void 0?!0:i,o=t.altAxis,l=o===void 0?!1:o,u=t.boundary,h=t.rootBoundary,f=t.altBoundary,g=t.padding,v=t.tether,b=v===void 0?!0:v,k=t.tetherOffset,L=k===void 0?0:k,$=ma(e,{boundary:u,rootBoundary:h,padding:g,altBoundary:f}),U=Ls(e.placement),F=pa(e.placement),K=!F,H=Em(U),ce=oV(H),he=e.modifiersData.popperOffsets,S=e.rects.reference,T=e.rects.popper,A=typeof L=="function"?L(Object.assign({},e.rects,{placement:e.placement})):L,R=typeof A=="number"?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),P=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,D={x:0,y:0};if(he){if(r){var I,ft=H==="y"?wn:An,wt=H==="y"?jn:Bn,Be=H==="y"?"height":"width",we=he[H],xe=we+$[ft],bt=we-$[wt],Y=b?-T[Be]/2:0,xt=F===Jr?S[Be]:T[Be],Je=F===Jr?-T[Be]:-S[Be],Ze=e.elements.arrow,vt=b&&Ze?ym(Ze):{width:0,height:0},yt=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:kw(),et=yt[ft],W=yt[wt],q=Ol(0,S[Be],vt[Be]),ie=K?S[Be]/2-Y-q-et-R.mainAxis:xt-q-et-R.mainAxis,fe=K?-S[Be]/2+Y+q+W+R.mainAxis:Je+q+W+R.mainAxis,Ue=e.elements.arrow&&hc(e.elements.arrow),w=Ue?H==="y"?Ue.clientTop||0:Ue.clientLeft||0:0,C=(I=P==null?void 0:P[H])!=null?I:0,x=we+ie-C-w,z=we+fe-C,G=Ol(b?rh(xe,x):xe,we,b?qr(bt,z):bt);he[H]=G,D[H]=G-we}if(l){var Q,ae=H==="x"?wn:An,se=H==="x"?jn:Bn,ne=he[ce],ee=ce==="y"?"height":"width",Ee=ne+$[ae],le=ne-$[se],me=[wn,An].indexOf(U)!==-1,ve=(Q=P==null?void 0:P[ce])!=null?Q:0,ye=me?Ee:ne-S[ee]-T[ee]-ve+R.altAxis,Re=me?ne+S[ee]+T[ee]-ve-R.altAxis:le,$e=b&&me?$L(ye,ne,Re):Ol(b?ye:Ee,ne,b?Re:le);he[ce]=$e,D[ce]=$e-ne}e.modifiersData[s]=D}}const Bw={name:"preventOverflow",enabled:!0,phase:"main",fn:aV,requiresIfExists:["offset"]};function lV(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function cV(n){return n===Hn(n)||!Zn(n)?wm(n):lV(n)}function uV(n){var e=n.getBoundingClientRect(),t=da(e.width)/n.offsetWidth||1,s=da(e.height)/n.offsetHeight||1;return t!==1||s!==1}function hV(n,e,t){t===void 0&&(t=!1);var s=Zn(e),i=Zn(e)&&uV(e),r=dr(e),o=fa(n,i,t),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(s||!s&&!t)&&((Us(e)!=="body"||Im(r))&&(l=cV(e)),Zn(e)?(u=fa(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):r&&(u.x=Am(r))),{x:o.left+l.scrollLeft-u.x,y:o.top+l.scrollTop-u.y,width:o.width,height:o.height}}function dV(n){var e=new Map,t=new Set,s=[];n.forEach(function(r){e.set(r.name,r)});function i(r){t.add(r.name);var o=[].concat(r.requires||[],r.requiresIfExists||[]);o.forEach(function(l){if(!t.has(l)){var u=e.get(l);u&&i(u)}}),s.push(r)}return n.forEach(function(r){t.has(r.name)||i(r)}),s}function fV(n){var e=dV(n);return Ow.reduce(function(t,s){return t.concat(e.filter(function(i){return i.phase===s}))},[])}function pV(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function mV(n){var e=n.reduce(function(t,s){var i=t[s.name];return t[s.name]=i?Object.assign({},i,s,{options:Object.assign({},i.options,s.options),data:Object.assign({},i.data,s.data)}):s,t},{});return Object.keys(e).map(function(t){return e[t]})}var Jv={placement:"bottom",modifiers:[],strategy:"absolute"};function Zv(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function Gh(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,s=t===void 0?[]:t,i=e.defaultOptions,r=i===void 0?Jv:i;return function(l,u,h){h===void 0&&(h=r);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},Jv,r),modifiersData:{},elements:{reference:l,popper:u},attributes:{},styles:{}},g=[],v=!1,b={state:f,setOptions:function(U){var F=typeof U=="function"?U(f.options):U;L(),f.options=Object.assign({},r,f.options,F),f.scrollParents={reference:Zr(l)?Dl(l):l.contextElement?Dl(l.contextElement):[],popper:Dl(u)};var K=fV(mV([].concat(s,f.options.modifiers)));return f.orderedModifiers=K.filter(function(H){return H.enabled}),k(),b.update()},forceUpdate:function(){if(!v){var U=f.elements,F=U.reference,K=U.popper;if(Zv(F,K)){f.rects={reference:hV(F,hc(K),f.options.strategy==="fixed"),popper:ym(K)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(R){return f.modifiersData[R.name]=Object.assign({},R.data)});for(var H=0;H<f.orderedModifiers.length;H++){if(f.reset===!0){f.reset=!1,H=-1;continue}var ce=f.orderedModifiers[H],he=ce.fn,S=ce.options,T=S===void 0?{}:S,A=ce.name;typeof he=="function"&&(f=he({state:f,options:T,name:A,instance:b})||f)}}}},update:pV(function(){return new Promise(function($){b.forceUpdate(),$(f)})}),destroy:function(){L(),v=!0}};if(!Zv(l,u))return b;b.setOptions(h).then(function($){!v&&h.onFirstUpdate&&h.onFirstUpdate($)});function k(){f.orderedModifiers.forEach(function($){var U=$.name,F=$.options,K=F===void 0?{}:F,H=$.effect;if(typeof H=="function"){var ce=H({state:f,name:U,instance:b,options:K}),he=function(){};g.push(ce||he)}})}function L(){g.forEach(function($){return $()}),g=[]}return b}}var gV=Gh(),_V=[Tm,Cm,bm,vm],vV=Gh({defaultModifiers:_V}),yV=[Tm,Cm,bm,vm,jw,Fw,Bw,Vw,Uw],Sm=Gh({defaultModifiers:yV});const Hw=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Cw,afterRead:ww,afterWrite:Pw,applyStyles:vm,arrow:Vw,auto:zh,basePlacements:Ra,beforeMain:Aw,beforeRead:bw,beforeWrite:Sw,bottom:jn,clippingParents:yw,computeStyles:bm,createPopper:Sm,createPopperBase:gV,createPopperLite:vV,detectOverflow:ma,end:ha,eventListeners:Tm,flip:Fw,hide:Uw,left:An,main:Iw,modifierPhases:Ow,offset:jw,placements:gm,popper:$o,popperGenerator:Gh,popperOffsets:Cm,preventOverflow:Bw,read:Tw,reference:Ew,right:Bn,start:Jr,top:wn,variationPlacements:qf,viewport:mm,write:Rw},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.6 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Mi=new Map,Hd={set(n,e,t){Mi.has(n)||Mi.set(n,new Map);const s=Mi.get(n);if(!s.has(e)&&s.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`);return}s.set(e,t)},get(n,e){return Mi.has(n)&&Mi.get(n).get(e)||null},remove(n,e){if(!Mi.has(n))return;const t=Mi.get(n);t.delete(e),t.size===0&&Mi.delete(n)}},EV=1e6,bV=1e3,Kf="transitionend",qw=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),n),TV=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),wV=n=>{do n+=Math.floor(Math.random()*EV);while(document.getElementById(n));return n},AV=n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n);const s=Number.parseFloat(e),i=Number.parseFloat(t);return!s&&!i?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*bV)},Ww=n=>{n.dispatchEvent(new Event(Kf))},ci=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),or=n=>ci(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(qw(n)):null,Pa=n=>{if(!ci(n)||n.getClientRects().length===0)return!1;const e=getComputedStyle(n).getPropertyValue("visibility")==="visible",t=n.closest("details:not([open])");if(!t)return e;if(t!==n){const s=n.closest("summary");if(s&&s.parentNode!==t||s===null)return!1}return e},ar=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",zw=n=>{if(!document.documentElement.attachShadow)return null;if(typeof n.getRootNode=="function"){const e=n.getRootNode();return e instanceof ShadowRoot?e:null}return n instanceof ShadowRoot?n:n.parentNode?zw(n.parentNode):null},oh=()=>{},dc=n=>{n.offsetHeight},Kw=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,qd=[],IV=n=>{document.readyState==="loading"?(qd.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of qd)e()}),qd.push(n)):n()},ns=()=>document.documentElement.dir==="rtl",is=n=>{IV(()=>{const e=Kw();if(e){const t=n.NAME,s=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=s,n.jQueryInterface)}})},Pn=(n,e=[],t=n)=>typeof n=="function"?n.call(...e):t,Gw=(n,e,t=!0)=>{if(!t){Pn(n);return}const i=AV(e)+5;let r=!1;const o=({target:l})=>{l===e&&(r=!0,e.removeEventListener(Kf,o),Pn(n))};e.addEventListener(Kf,o),setTimeout(()=>{r||Ww(e)},i)},Rm=(n,e,t,s)=>{const i=n.length;let r=n.indexOf(e);return r===-1?!t&&s?n[i-1]:n[0]:(r+=t?1:-1,s&&(r=(r+i)%i),n[Math.max(0,Math.min(r,i-1))])},CV=/[^.]*(?=\..*)\.|.*/,SV=/\..*/,RV=/::\d+$/,Wd={};let ey=1;const Yw={mouseenter:"mouseover",mouseleave:"mouseout"},PV=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Qw(n,e){return e&&`${e}::${ey++}`||n.uidEvent||ey++}function Xw(n){const e=Qw(n);return n.uidEvent=e,Wd[e]=Wd[e]||{},Wd[e]}function OV(n,e){return function t(s){return Pm(s,{delegateTarget:n}),t.oneOff&&te.off(n,s.type,e),e.apply(n,[s])}}function DV(n,e,t){return function s(i){const r=n.querySelectorAll(e);for(let{target:o}=i;o&&o!==this;o=o.parentNode)for(const l of r)if(l===o)return Pm(i,{delegateTarget:o}),s.oneOff&&te.off(n,i.type,e,t),t.apply(o,[i])}}function Jw(n,e,t=null){return Object.values(n).find(s=>s.callable===e&&s.delegationSelector===t)}function Zw(n,e,t){const s=typeof e=="string",i=s?t:e||t;let r=eA(n);return PV.has(r)||(r=n),[s,i,r]}function ty(n,e,t,s,i){if(typeof e!="string"||!n)return;let[r,o,l]=Zw(e,t,s);e in Yw&&(o=(k=>function(L){if(!L.relatedTarget||L.relatedTarget!==L.delegateTarget&&!L.delegateTarget.contains(L.relatedTarget))return k.call(this,L)})(o));const u=Xw(n),h=u[l]||(u[l]={}),f=Jw(h,o,r?t:null);if(f){f.oneOff=f.oneOff&&i;return}const g=Qw(o,e.replace(CV,"")),v=r?DV(n,t,o):OV(n,o);v.delegationSelector=r?t:null,v.callable=o,v.oneOff=i,v.uidEvent=g,h[g]=v,n.addEventListener(l,v,r)}function Gf(n,e,t,s,i){const r=Jw(e[t],s,i);r&&(n.removeEventListener(t,r,!!i),delete e[t][r.uidEvent])}function NV(n,e,t,s){const i=e[t]||{};for(const[r,o]of Object.entries(i))r.includes(s)&&Gf(n,e,t,o.callable,o.delegationSelector)}function eA(n){return n=n.replace(SV,""),Yw[n]||n}const te={on(n,e,t,s){ty(n,e,t,s,!1)},one(n,e,t,s){ty(n,e,t,s,!0)},off(n,e,t,s){if(typeof e!="string"||!n)return;const[i,r,o]=Zw(e,t,s),l=o!==e,u=Xw(n),h=u[o]||{},f=e.startsWith(".");if(typeof r<"u"){if(!Object.keys(h).length)return;Gf(n,u,o,r,i?t:null);return}if(f)for(const g of Object.keys(u))NV(n,u,g,e.slice(1));for(const[g,v]of Object.entries(h)){const b=g.replace(RV,"");(!l||e.includes(b))&&Gf(n,u,o,v.callable,v.delegationSelector)}},trigger(n,e,t){if(typeof e!="string"||!n)return null;const s=Kw(),i=eA(e),r=e!==i;let o=null,l=!0,u=!0,h=!1;r&&s&&(o=s.Event(e,t),s(n).trigger(o),l=!o.isPropagationStopped(),u=!o.isImmediatePropagationStopped(),h=o.isDefaultPrevented());const f=Pm(new Event(e,{bubbles:l,cancelable:!0}),t);return h&&f.preventDefault(),u&&n.dispatchEvent(f),f.defaultPrevented&&o&&o.preventDefault(),f}};function Pm(n,e={}){for(const[t,s]of Object.entries(e))try{n[t]=s}catch{Object.defineProperty(n,t,{configurable:!0,get(){return s}})}return n}function ny(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function zd(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const ui={setDataAttribute(n,e,t){n.setAttribute(`data-bs-${zd(e)}`,t)},removeDataAttribute(n,e){n.removeAttribute(`data-bs-${zd(e)}`)},getDataAttributes(n){if(!n)return{};const e={},t=Object.keys(n.dataset).filter(s=>s.startsWith("bs")&&!s.startsWith("bsConfig"));for(const s of t){let i=s.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1),e[i]=ny(n.dataset[s])}return e},getDataAttribute(n,e){return ny(n.getAttribute(`data-bs-${zd(e)}`))}};class fc{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const s=ci(t)?ui.getDataAttribute(t,"config"):{};return{...this.constructor.Default,...typeof s=="object"?s:{},...ci(t)?ui.getDataAttributes(t):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[s,i]of Object.entries(t)){const r=e[s],o=ci(r)?"element":TV(r);if(!new RegExp(i).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${s}" provided type "${o}" but expected type "${i}".`)}}}const kV="5.3.6";class gs extends fc{constructor(e,t){super(),e=or(e),e&&(this._element=e,this._config=this._getConfig(t),Hd.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Hd.remove(this._element,this.constructor.DATA_KEY),te.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,s=!0){Gw(e,t,s)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Hd.get(or(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return kV}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Kd=n=>{let e=n.getAttribute("data-bs-target");if(!e||e==="#"){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e?e.split(",").map(t=>qw(t)).join(","):null},Te={find(n,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,n))},findOne(n,e=document.documentElement){return Element.prototype.querySelector.call(e,n)},children(n,e){return[].concat(...n.children).filter(t=>t.matches(e))},parents(n,e){const t=[];let s=n.parentNode.closest(e);for(;s;)t.push(s),s=s.parentNode.closest(e);return t},prev(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,n).filter(t=>!ar(t)&&Pa(t))},getSelectorFromElement(n){const e=Kd(n);return e&&Te.findOne(e)?e:null},getElementFromSelector(n){const e=Kd(n);return e?Te.findOne(e):null},getMultipleElementsFromSelector(n){const e=Kd(n);return e?Te.find(e):[]}},Yh=(n,e="hide")=>{const t=`click.dismiss${n.EVENT_KEY}`,s=n.NAME;te.on(document,t,`[data-bs-dismiss="${s}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),ar(this))return;const r=Te.getElementFromSelector(this)||this.closest(`.${s}`);n.getOrCreateInstance(r)[e]()})},xV="alert",LV="bs.alert",tA=`.${LV}`,VV=`close${tA}`,MV=`closed${tA}`,$V="fade",FV="show";class Qh extends gs{static get NAME(){return xV}close(){if(te.trigger(this._element,VV).defaultPrevented)return;this._element.classList.remove(FV);const t=this._element.classList.contains($V);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),te.trigger(this._element,MV),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=Qh.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Yh(Qh,"close");is(Qh);const UV="button",jV="bs.button",BV=`.${jV}`,HV=".data-api",qV="active",sy='[data-bs-toggle="button"]',WV=`click${BV}${HV}`;class Xh extends gs{static get NAME(){return UV}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(qV))}static jQueryInterface(e){return this.each(function(){const t=Xh.getOrCreateInstance(this);e==="toggle"&&t[e]()})}}te.on(document,WV,sy,n=>{n.preventDefault();const e=n.target.closest(sy);Xh.getOrCreateInstance(e).toggle()});is(Xh);const zV="swipe",Oa=".bs.swipe",KV=`touchstart${Oa}`,GV=`touchmove${Oa}`,YV=`touchend${Oa}`,QV=`pointerdown${Oa}`,XV=`pointerup${Oa}`,JV="touch",ZV="pen",eM="pointer-event",tM=40,nM={endCallback:null,leftCallback:null,rightCallback:null},sM={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ah extends fc{constructor(e,t){super(),this._element=e,!(!e||!ah.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return nM}static get DefaultType(){return sM}static get NAME(){return zV}dispose(){te.off(this._element,Oa)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Pn(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=tM)return;const t=e/this._deltaX;this._deltaX=0,t&&Pn(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(te.on(this._element,QV,e=>this._start(e)),te.on(this._element,XV,e=>this._end(e)),this._element.classList.add(eM)):(te.on(this._element,KV,e=>this._start(e)),te.on(this._element,GV,e=>this._move(e)),te.on(this._element,YV,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===ZV||e.pointerType===JV)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const iM="carousel",rM="bs.carousel",fr=`.${rM}`,nA=".data-api",oM="ArrowLeft",aM="ArrowRight",lM=500,ll="next",Oo="prev",Fo="left",Cu="right",cM=`slide${fr}`,Gd=`slid${fr}`,uM=`keydown${fr}`,hM=`mouseenter${fr}`,dM=`mouseleave${fr}`,fM=`dragstart${fr}`,pM=`load${fr}${nA}`,mM=`click${fr}${nA}`,sA="carousel",nu="active",gM="slide",_M="carousel-item-end",vM="carousel-item-start",yM="carousel-item-next",EM="carousel-item-prev",iA=".active",rA=".carousel-item",bM=iA+rA,TM=".carousel-item img",wM=".carousel-indicators",AM="[data-bs-slide], [data-bs-slide-to]",IM='[data-bs-ride="carousel"]',CM={[oM]:Cu,[aM]:Fo},SM={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},RM={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class pc extends gs{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Te.findOne(wM,this._element),this._addEventListeners(),this._config.ride===sA&&this.cycle()}static get Default(){return SM}static get DefaultType(){return RM}static get NAME(){return iM}next(){this._slide(ll)}nextWhenVisible(){!document.hidden&&Pa(this._element)&&this.next()}prev(){this._slide(Oo)}pause(){this._isSliding&&Ww(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){te.one(this._element,Gd,()=>this.cycle());return}this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){te.one(this._element,Gd,()=>this.to(e));return}const s=this._getItemIndex(this._getActive());if(s===e)return;const i=e>s?ll:Oo;this._slide(i,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&te.on(this._element,uM,e=>this._keydown(e)),this._config.pause==="hover"&&(te.on(this._element,hM,()=>this.pause()),te.on(this._element,dM,()=>this._maybeEnableCycle())),this._config.touch&&ah.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const s of Te.find(TM,this._element))te.on(s,fM,i=>i.preventDefault());const t={leftCallback:()=>this._slide(this._directionToOrder(Fo)),rightCallback:()=>this._slide(this._directionToOrder(Cu)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),lM+this._config.interval))}};this._swipeHelper=new ah(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=CM[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=Te.findOne(iA,this._indicatorsElement);t.classList.remove(nu),t.removeAttribute("aria-current");const s=Te.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);s&&(s.classList.add(nu),s.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const s=this._getActive(),i=e===ll,r=t||Rm(this._getItems(),s,i,this._config.wrap);if(r===s)return;const o=this._getItemIndex(r),l=b=>te.trigger(this._element,b,{relatedTarget:r,direction:this._orderToDirection(e),from:this._getItemIndex(s),to:o});if(l(cM).defaultPrevented||!s||!r)return;const h=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=r;const f=i?vM:_M,g=i?yM:EM;r.classList.add(g),dc(r),s.classList.add(f),r.classList.add(f);const v=()=>{r.classList.remove(f,g),r.classList.add(nu),s.classList.remove(nu,g,f),this._isSliding=!1,l(Gd)};this._queueCallback(v,s,this._isAnimated()),h&&this.cycle()}_isAnimated(){return this._element.classList.contains(gM)}_getActive(){return Te.findOne(bM,this._element)}_getItems(){return Te.find(rA,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return ns()?e===Fo?Oo:ll:e===Fo?ll:Oo}_orderToDirection(e){return ns()?e===Oo?Fo:Cu:e===Oo?Cu:Fo}static jQueryInterface(e){return this.each(function(){const t=pc.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}te.on(document,mM,AM,function(n){const e=Te.getElementFromSelector(this);if(!e||!e.classList.contains(sA))return;n.preventDefault();const t=pc.getOrCreateInstance(e),s=this.getAttribute("data-bs-slide-to");if(s){t.to(s),t._maybeEnableCycle();return}if(ui.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});te.on(window,pM,()=>{const n=Te.find(IM);for(const e of n)pc.getOrCreateInstance(e)});is(pc);const PM="collapse",OM="bs.collapse",mc=`.${OM}`,DM=".data-api",NM=`show${mc}`,kM=`shown${mc}`,xM=`hide${mc}`,LM=`hidden${mc}`,VM=`click${mc}${DM}`,Yd="show",jo="collapse",su="collapsing",MM="collapsed",$M=`:scope .${jo} .${jo}`,FM="collapse-horizontal",UM="width",jM="height",BM=".collapse.show, .collapse.collapsing",Yf='[data-bs-toggle="collapse"]',HM={parent:null,toggle:!0},qM={parent:"(null|element)",toggle:"boolean"};class ga extends gs{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const s=Te.find(Yf);for(const i of s){const r=Te.getSelectorFromElement(i),o=Te.find(r).filter(l=>l===this._element);r!==null&&o.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return HM}static get DefaultType(){return qM}static get NAME(){return PM}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(BM).filter(l=>l!==this._element).map(l=>ga.getOrCreateInstance(l,{toggle:!1}))),e.length&&e[0]._isTransitioning||te.trigger(this._element,NM).defaultPrevented)return;for(const l of e)l.hide();const s=this._getDimension();this._element.classList.remove(jo),this._element.classList.add(su),this._element.style[s]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(su),this._element.classList.add(jo,Yd),this._element.style[s]="",te.trigger(this._element,kM)},o=`scroll${s[0].toUpperCase()+s.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[s]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||te.trigger(this._element,xM).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,dc(this._element),this._element.classList.add(su),this._element.classList.remove(jo,Yd);for(const i of this._triggerArray){const r=Te.getElementFromSelector(i);r&&!this._isShown(r)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(su),this._element.classList.add(jo),te.trigger(this._element,LM)};this._element.style[t]="",this._queueCallback(s,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Yd)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=or(e.parent),e}_getDimension(){return this._element.classList.contains(FM)?UM:jM}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Yf);for(const t of e){const s=Te.getElementFromSelector(t);s&&this._addAriaAndCollapsedClass([t],this._isShown(s))}}_getFirstLevelChildren(e){const t=Te.find($M,this._config.parent);return Te.find(e,this._config.parent).filter(s=>!t.includes(s))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const s of e)s.classList.toggle(MM,!t),s.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const s=ga.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e]()}})}}te.on(document,VM,Yf,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();for(const e of Te.getMultipleElementsFromSelector(this))ga.getOrCreateInstance(e,{toggle:!1}).toggle()});is(ga);const iy="dropdown",WM="bs.dropdown",oo=`.${WM}`,Om=".data-api",zM="Escape",ry="Tab",KM="ArrowUp",oy="ArrowDown",GM=2,YM=`hide${oo}`,QM=`hidden${oo}`,XM=`show${oo}`,JM=`shown${oo}`,oA=`click${oo}${Om}`,aA=`keydown${oo}${Om}`,ZM=`keyup${oo}${Om}`,Uo="show",e$="dropup",t$="dropend",n$="dropstart",s$="dropup-center",i$="dropdown-center",jr='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',r$=`${jr}.${Uo}`,Su=".dropdown-menu",o$=".navbar",a$=".navbar-nav",l$=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",c$=ns()?"top-end":"top-start",u$=ns()?"top-start":"top-end",h$=ns()?"bottom-end":"bottom-start",d$=ns()?"bottom-start":"bottom-end",f$=ns()?"left-start":"right-start",p$=ns()?"right-start":"left-start",m$="top",g$="bottom",_$={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},v$={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Vs extends gs{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=Te.next(this._element,Su)[0]||Te.prev(this._element,Su)[0]||Te.findOne(Su,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return _$}static get DefaultType(){return v$}static get NAME(){return iy}toggle(){return this._isShown()?this.hide():this.show()}show(){if(ar(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!te.trigger(this._element,XM,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(a$))for(const s of[].concat(...document.body.children))te.on(s,"mouseover",oh);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Uo),this._element.classList.add(Uo),te.trigger(this._element,JM,e)}}hide(){if(ar(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!te.trigger(this._element,YM,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))te.off(s,"mouseover",oh);this._popper&&this._popper.destroy(),this._menu.classList.remove(Uo),this._element.classList.remove(Uo),this._element.setAttribute("aria-expanded","false"),ui.removeDataAttribute(this._menu,"popper"),te.trigger(this._element,QM,e),this._element.focus()}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!ci(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${iy.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof Hw>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let e=this._element;this._config.reference==="parent"?e=this._parent:ci(this._config.reference)?e=or(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=Sm(e,this._menu,t)}_isShown(){return this._menu.classList.contains(Uo)}_getPlacement(){const e=this._parent;if(e.classList.contains(t$))return f$;if(e.classList.contains(n$))return p$;if(e.classList.contains(s$))return m$;if(e.classList.contains(i$))return g$;const t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(e$)?t?u$:c$:t?d$:h$}_detectNavbar(){return this._element.closest(o$)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(ui.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...Pn(this._config.popperConfig,[void 0,e])}}_selectMenuItem({key:e,target:t}){const s=Te.find(l$,this._menu).filter(i=>Pa(i));s.length&&Rm(s,t,e===oy,!s.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=Vs.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===GM||e.type==="keyup"&&e.key!==ry)return;const t=Te.find(r$);for(const s of t){const i=Vs.getInstance(s);if(!i||i._config.autoClose===!1)continue;const r=e.composedPath(),o=r.includes(i._menu);if(r.includes(i._element)||i._config.autoClose==="inside"&&!o||i._config.autoClose==="outside"&&o||i._menu.contains(e.target)&&(e.type==="keyup"&&e.key===ry||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const l={relatedTarget:i._element};e.type==="click"&&(l.clickEvent=e),i._completeHide(l)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),s=e.key===zM,i=[KM,oy].includes(e.key);if(!i&&!s||t&&!s)return;e.preventDefault();const r=this.matches(jr)?this:Te.prev(this,jr)[0]||Te.next(this,jr)[0]||Te.findOne(jr,e.delegateTarget.parentNode),o=Vs.getOrCreateInstance(r);if(i){e.stopPropagation(),o.show(),o._selectMenuItem(e);return}o._isShown()&&(e.stopPropagation(),o.hide(),r.focus())}}te.on(document,aA,jr,Vs.dataApiKeydownHandler);te.on(document,aA,Su,Vs.dataApiKeydownHandler);te.on(document,oA,Vs.clearMenus);te.on(document,ZM,Vs.clearMenus);te.on(document,oA,jr,function(n){n.preventDefault(),Vs.getOrCreateInstance(this).toggle()});is(Vs);const lA="backdrop",y$="fade",ay="show",ly=`mousedown.bs.${lA}`,E$={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},b$={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class cA extends fc{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return E$}static get DefaultType(){return b$}static get NAME(){return lA}show(e){if(!this._config.isVisible){Pn(e);return}this._append();const t=this._getElement();this._config.isAnimated&&dc(t),t.classList.add(ay),this._emulateAnimation(()=>{Pn(e)})}hide(e){if(!this._config.isVisible){Pn(e);return}this._getElement().classList.remove(ay),this._emulateAnimation(()=>{this.dispose(),Pn(e)})}dispose(){this._isAppended&&(te.off(this._element,ly),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(y$),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=or(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),te.on(e,ly,()=>{Pn(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){Gw(e,this._getElement(),this._config.isAnimated)}}const T$="focustrap",w$="bs.focustrap",lh=`.${w$}`,A$=`focusin${lh}`,I$=`keydown.tab${lh}`,C$="Tab",S$="forward",cy="backward",R$={autofocus:!0,trapElement:null},P$={autofocus:"boolean",trapElement:"element"};class uA extends fc{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return R$}static get DefaultType(){return P$}static get NAME(){return T$}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),te.off(document,lh),te.on(document,A$,e=>this._handleFocusin(e)),te.on(document,I$,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,te.off(document,lh))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const s=Te.focusableChildren(t);s.length===0?t.focus():this._lastTabNavDirection===cy?s[s.length-1].focus():s[0].focus()}_handleKeydown(e){e.key===C$&&(this._lastTabNavDirection=e.shiftKey?cy:S$)}}const uy=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",hy=".sticky-top",iu="padding-right",dy="margin-right";class Qf{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,iu,t=>t+e),this._setElementAttributes(uy,iu,t=>t+e),this._setElementAttributes(hy,dy,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,iu),this._resetElementAttributes(uy,iu),this._resetElementAttributes(hy,dy)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,s){const i=this.getWidth(),r=o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+i)return;this._saveInitialAttribute(o,t);const l=window.getComputedStyle(o).getPropertyValue(t);o.style.setProperty(t,`${s(Number.parseFloat(l))}px`)};this._applyManipulationCallback(e,r)}_saveInitialAttribute(e,t){const s=e.style.getPropertyValue(t);s&&ui.setDataAttribute(e,t,s)}_resetElementAttributes(e,t){const s=i=>{const r=ui.getDataAttribute(i,t);if(r===null){i.style.removeProperty(t);return}ui.removeDataAttribute(i,t),i.style.setProperty(t,r)};this._applyManipulationCallback(e,s)}_applyManipulationCallback(e,t){if(ci(e)){t(e);return}for(const s of Te.find(e,this._element))t(s)}}const O$="modal",D$="bs.modal",ss=`.${D$}`,N$=".data-api",k$="Escape",x$=`hide${ss}`,L$=`hidePrevented${ss}`,hA=`hidden${ss}`,dA=`show${ss}`,V$=`shown${ss}`,M$=`resize${ss}`,$$=`click.dismiss${ss}`,F$=`mousedown.dismiss${ss}`,U$=`keydown.dismiss${ss}`,j$=`click${ss}${N$}`,fy="modal-open",B$="fade",py="show",Qd="modal-static",H$=".modal.show",q$=".modal-dialog",W$=".modal-body",z$='[data-bs-toggle="modal"]',K$={backdrop:!0,focus:!0,keyboard:!0},G$={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class eo extends gs{constructor(e,t){super(e,t),this._dialog=Te.findOne(q$,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Qf,this._addEventListeners()}static get Default(){return K$}static get DefaultType(){return G$}static get NAME(){return O$}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||te.trigger(this._element,dA,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(fy),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||te.trigger(this._element,x$).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(py),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){te.off(window,ss),te.off(this._dialog,ss),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new cA({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new uA({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=Te.findOne(W$,this._dialog);t&&(t.scrollTop=0),dc(this._element),this._element.classList.add(py);const s=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,te.trigger(this._element,V$,{relatedTarget:e})};this._queueCallback(s,this._dialog,this._isAnimated())}_addEventListeners(){te.on(this._element,U$,e=>{if(e.key===k$){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),te.on(window,M$,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),te.on(this._element,F$,e=>{te.one(this._element,$$,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(fy),this._resetAdjustments(),this._scrollBar.reset(),te.trigger(this._element,hA)})}_isAnimated(){return this._element.classList.contains(B$)}_triggerBackdropTransition(){if(te.trigger(this._element,L$).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,s=this._element.style.overflowY;s==="hidden"||this._element.classList.contains(Qd)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(Qd),this._queueCallback(()=>{this._element.classList.remove(Qd),this._queueCallback(()=>{this._element.style.overflowY=s},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),s=t>0;if(s&&!e){const i=ns()?"paddingLeft":"paddingRight";this._element.style[i]=`${t}px`}if(!s&&e){const i=ns()?"paddingRight":"paddingLeft";this._element.style[i]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const s=eo.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e](t)}})}}te.on(document,j$,z$,function(n){const e=Te.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),te.one(e,dA,i=>{i.defaultPrevented||te.one(e,hA,()=>{Pa(this)&&this.focus()})});const t=Te.findOne(H$);t&&eo.getInstance(t).hide(),eo.getOrCreateInstance(e).toggle(this)});Yh(eo);is(eo);const Y$="offcanvas",Q$="bs.offcanvas",bi=`.${Q$}`,fA=".data-api",X$=`load${bi}${fA}`,J$="Escape",my="show",gy="showing",_y="hiding",Z$="offcanvas-backdrop",pA=".offcanvas.show",e2=`show${bi}`,t2=`shown${bi}`,n2=`hide${bi}`,vy=`hidePrevented${bi}`,mA=`hidden${bi}`,s2=`resize${bi}`,i2=`click${bi}${fA}`,r2=`keydown.dismiss${bi}`,o2='[data-bs-toggle="offcanvas"]',a2={backdrop:!0,keyboard:!0,scroll:!1},l2={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class lr extends gs{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return a2}static get DefaultType(){return l2}static get NAME(){return Y$}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||te.trigger(this._element,e2,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Qf().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(gy);const s=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(my),this._element.classList.remove(gy),te.trigger(this._element,t2,{relatedTarget:e})};this._queueCallback(s,this._element,!0)}hide(){if(!this._isShown||te.trigger(this._element,n2).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(_y),this._backdrop.hide();const t=()=>{this._element.classList.remove(my,_y),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Qf().reset(),te.trigger(this._element,mA)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){te.trigger(this._element,vy);return}this.hide()},t=!!this._config.backdrop;return new cA({className:Z$,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new uA({trapElement:this._element})}_addEventListeners(){te.on(this._element,r2,e=>{if(e.key===J$){if(this._config.keyboard){this.hide();return}te.trigger(this._element,vy)}})}static jQueryInterface(e){return this.each(function(){const t=lr.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}te.on(document,i2,o2,function(n){const e=Te.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),ar(this))return;te.one(e,mA,()=>{Pa(this)&&this.focus()});const t=Te.findOne(pA);t&&t!==e&&lr.getInstance(t).hide(),lr.getOrCreateInstance(e).toggle(this)});te.on(window,X$,()=>{for(const n of Te.find(pA))lr.getOrCreateInstance(n).show()});te.on(window,s2,()=>{for(const n of Te.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(n).position!=="fixed"&&lr.getOrCreateInstance(n).hide()});Yh(lr);is(lr);const c2=/^aria-[\w-]*$/i,gA={"*":["class","dir","id","lang","role",c2],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},u2=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),h2=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,d2=(n,e)=>{const t=n.nodeName.toLowerCase();return e.includes(t)?u2.has(t)?!!h2.test(n.nodeValue):!0:e.filter(s=>s instanceof RegExp).some(s=>s.test(t))};function f2(n,e,t){if(!n.length)return n;if(t&&typeof t=="function")return t(n);const i=new window.DOMParser().parseFromString(n,"text/html"),r=[].concat(...i.body.querySelectorAll("*"));for(const o of r){const l=o.nodeName.toLowerCase();if(!Object.keys(e).includes(l)){o.remove();continue}const u=[].concat(...o.attributes),h=[].concat(e["*"]||[],e[l]||[]);for(const f of u)d2(f,h)||o.removeAttribute(f.nodeName)}return i.body.innerHTML}const p2="TemplateFactory",m2={allowList:gA,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},g2={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},_2={entry:"(string|element|function|null)",selector:"(string|element)"};class v2 extends fc{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return m2}static get DefaultType(){return g2}static get NAME(){return p2}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[i,r]of Object.entries(this._config.content))this._setContent(e,r,i);const t=e.children[0],s=this._resolvePossibleFunction(this._config.extraClass);return s&&t.classList.add(...s.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,s]of Object.entries(e))super._typeCheckConfig({selector:t,entry:s},_2)}_setContent(e,t,s){const i=Te.findOne(s,e);if(i){if(t=this._resolvePossibleFunction(t),!t){i.remove();return}if(ci(t)){this._putElementInTemplate(or(t),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(t);return}i.textContent=t}}_maybeSanitize(e){return this._config.sanitize?f2(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return Pn(e,[void 0,this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}}const y2="tooltip",E2=new Set(["sanitize","allowList","sanitizeFn"]),Xd="fade",b2="modal",ru="show",T2=".tooltip-inner",yy=`.${b2}`,Ey="hide.bs.modal",cl="hover",Jd="focus",w2="click",A2="manual",I2="hide",C2="hidden",S2="show",R2="shown",P2="inserted",O2="click",D2="focusin",N2="focusout",k2="mouseenter",x2="mouseleave",L2={AUTO:"auto",TOP:"top",RIGHT:ns()?"left":"right",BOTTOM:"bottom",LEFT:ns()?"right":"left"},V2={allowList:gA,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},M2={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Da extends gs{constructor(e,t){if(typeof Hw>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return V2}static get DefaultType(){return M2}static get NAME(){return y2}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),te.off(this._element.closest(yy),Ey,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=te.trigger(this._element,this.constructor.eventName(S2)),s=(zw(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!s)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(i),te.trigger(this._element,this.constructor.eventName(P2))),this._popper=this._createPopper(i),i.classList.add(ru),"ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))te.on(l,"mouseover",oh);const o=()=>{te.trigger(this._element,this.constructor.eventName(R2)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(o,this.tip,this._isAnimated())}hide(){if(!this._isShown()||te.trigger(this._element,this.constructor.eventName(I2)).defaultPrevented)return;if(this._getTipElement().classList.remove(ru),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))te.off(i,"mouseover",oh);this._activeTrigger[w2]=!1,this._activeTrigger[Jd]=!1,this._activeTrigger[cl]=!1,this._isHovered=null;const s=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),te.trigger(this._element,this.constructor.eventName(C2)))};this._queueCallback(s,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(Xd,ru),t.classList.add(`bs-${this.constructor.NAME}-auto`);const s=wV(this.constructor.NAME).toString();return t.setAttribute("id",s),this._isAnimated()&&t.classList.add(Xd),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new v2({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[T2]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Xd)}_isShown(){return this.tip&&this.tip.classList.contains(ru)}_createPopper(e){const t=Pn(this._config.placement,[this,e,this._element]),s=L2[t.toUpperCase()];return Sm(this._element,e,this._getPopperConfig(s))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return Pn(e,[this._element,this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:s=>{this._getTipElement().setAttribute("data-popper-placement",s.state.placement)}}]};return{...t,...Pn(this._config.popperConfig,[void 0,t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if(t==="click")te.on(this._element,this.constructor.eventName(O2),this._config.selector,s=>{this._initializeOnDelegatedTarget(s).toggle()});else if(t!==A2){const s=t===cl?this.constructor.eventName(k2):this.constructor.eventName(D2),i=t===cl?this.constructor.eventName(x2):this.constructor.eventName(N2);te.on(this._element,s,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger[r.type==="focusin"?Jd:cl]=!0,o._enter()}),te.on(this._element,i,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger[r.type==="focusout"?Jd:cl]=o._element.contains(r.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},te.on(this._element.closest(yy),Ey,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=ui.getDataAttributes(this._element);for(const s of Object.keys(t))E2.has(s)&&delete t[s];return e={...t,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:or(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,s]of Object.entries(this._config))this.constructor.Default[t]!==s&&(e[t]=s);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=Da.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}is(Da);const $2="popover",F2=".popover-header",U2=".popover-body",j2={...Da.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},B2={...Da.DefaultType,content:"(null|string|element|function)"};class Dm extends Da{static get Default(){return j2}static get DefaultType(){return B2}static get NAME(){return $2}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[F2]:this._getTitle(),[U2]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=Dm.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}is(Dm);const H2="scrollspy",q2="bs.scrollspy",Nm=`.${q2}`,W2=".data-api",z2=`activate${Nm}`,by=`click${Nm}`,K2=`load${Nm}${W2}`,G2="dropdown-item",Do="active",Y2='[data-bs-spy="scroll"]',Zd="[href]",Q2=".nav, .list-group",Ty=".nav-link",X2=".nav-item",J2=".list-group-item",Z2=`${Ty}, ${X2} > ${Ty}, ${J2}`,eF=".dropdown",tF=".dropdown-toggle",nF={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},sF={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Jh extends gs{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return nF}static get DefaultType(){return sF}static get NAME(){return H2}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=or(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(te.off(this._config.target,by),te.on(this._config.target,by,Zd,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const s=this._rootElement||window,i=t.offsetTop-this._element.offsetTop;if(s.scrollTo){s.scrollTo({top:i,behavior:"smooth"});return}s.scrollTop=i}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){const t=o=>this._targetLinks.get(`#${o.target.id}`),s=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(t(o))},i=(this._rootElement||document.documentElement).scrollTop,r=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const o of e){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(o));continue}const l=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&l){if(s(o),!i)return;continue}!r&&!l&&s(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=Te.find(Zd,this._config.target);for(const t of e){if(!t.hash||ar(t))continue;const s=Te.findOne(decodeURI(t.hash),this._element);Pa(s)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,s))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Do),this._activateParents(e),te.trigger(this._element,z2,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(G2)){Te.findOne(tF,e.closest(eF)).classList.add(Do);return}for(const t of Te.parents(e,Q2))for(const s of Te.prev(t,Z2))s.classList.add(Do)}_clearActiveClass(e){e.classList.remove(Do);const t=Te.find(`${Zd}.${Do}`,e);for(const s of t)s.classList.remove(Do)}static jQueryInterface(e){return this.each(function(){const t=Jh.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}te.on(window,K2,()=>{for(const n of Te.find(Y2))Jh.getOrCreateInstance(n)});is(Jh);const iF="tab",rF="bs.tab",ao=`.${rF}`,oF=`hide${ao}`,aF=`hidden${ao}`,lF=`show${ao}`,cF=`shown${ao}`,uF=`click${ao}`,hF=`keydown${ao}`,dF=`load${ao}`,fF="ArrowLeft",wy="ArrowRight",pF="ArrowUp",Ay="ArrowDown",ef="Home",Iy="End",Br="active",Cy="fade",tf="show",mF="dropdown",_A=".dropdown-toggle",gF=".dropdown-menu",nf=`:not(${_A})`,_F='.list-group, .nav, [role="tablist"]',vF=".nav-item, .list-group-item",yF=`.nav-link${nf}, .list-group-item${nf}, [role="tab"]${nf}`,vA='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',sf=`${yF}, ${vA}`,EF=`.${Br}[data-bs-toggle="tab"], .${Br}[data-bs-toggle="pill"], .${Br}[data-bs-toggle="list"]`;class _a extends gs{constructor(e){super(e),this._parent=this._element.closest(_F),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),te.on(this._element,hF,t=>this._keydown(t)))}static get NAME(){return iF}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),s=t?te.trigger(t,oF,{relatedTarget:e}):null;te.trigger(e,lF,{relatedTarget:t}).defaultPrevented||s&&s.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(Br),this._activate(Te.getElementFromSelector(e));const s=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(tf);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),te.trigger(e,cF,{relatedTarget:t})};this._queueCallback(s,e,e.classList.contains(Cy))}_deactivate(e,t){if(!e)return;e.classList.remove(Br),e.blur(),this._deactivate(Te.getElementFromSelector(e));const s=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(tf);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),te.trigger(e,aF,{relatedTarget:t})};this._queueCallback(s,e,e.classList.contains(Cy))}_keydown(e){if(![fF,wy,pF,Ay,ef,Iy].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(i=>!ar(i));let s;if([ef,Iy].includes(e.key))s=t[e.key===ef?0:t.length-1];else{const i=[wy,Ay].includes(e.key);s=Rm(t,e.target,i,!0)}s&&(s.focus({preventScroll:!0}),_a.getOrCreateInstance(s).show())}_getChildren(){return Te.find(sf,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const s of t)this._setInitialAttributesOnChild(s)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),s=this._getOuterElement(e);e.setAttribute("aria-selected",t),s!==e&&this._setAttributeIfNotExists(s,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=Te.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const s=this._getOuterElement(e);if(!s.classList.contains(mF))return;const i=(r,o)=>{const l=Te.findOne(r,s);l&&l.classList.toggle(o,t)};i(_A,Br),i(gF,tf),s.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,s){e.hasAttribute(t)||e.setAttribute(t,s)}_elemIsActive(e){return e.classList.contains(Br)}_getInnerElement(e){return e.matches(sf)?e:Te.findOne(sf,e)}_getOuterElement(e){return e.closest(vF)||e}static jQueryInterface(e){return this.each(function(){const t=_a.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}te.on(document,uF,vA,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!ar(this)&&_a.getOrCreateInstance(this).show()});te.on(window,dF,()=>{for(const n of Te.find(EF))_a.getOrCreateInstance(n)});is(_a);const bF="toast",TF="bs.toast",pr=`.${TF}`,wF=`mouseover${pr}`,AF=`mouseout${pr}`,IF=`focusin${pr}`,CF=`focusout${pr}`,SF=`hide${pr}`,RF=`hidden${pr}`,PF=`show${pr}`,OF=`shown${pr}`,DF="fade",Sy="hide",ou="show",au="showing",NF={animation:"boolean",autohide:"boolean",delay:"number"},kF={animation:!0,autohide:!0,delay:5e3};class Zh extends gs{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return kF}static get DefaultType(){return NF}static get NAME(){return bF}show(){if(te.trigger(this._element,PF).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(DF);const t=()=>{this._element.classList.remove(au),te.trigger(this._element,OF),this._maybeScheduleHide()};this._element.classList.remove(Sy),dc(this._element),this._element.classList.add(ou,au),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||te.trigger(this._element,SF).defaultPrevented)return;const t=()=>{this._element.classList.add(Sy),this._element.classList.remove(au,ou),te.trigger(this._element,RF)};this._element.classList.add(au),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ou),super.dispose()}isShown(){return this._element.classList.contains(ou)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}const s=e.relatedTarget;this._element===s||this._element.contains(s)||this._maybeScheduleHide()}_setListeners(){te.on(this._element,wF,e=>this._onInteraction(e,!0)),te.on(this._element,AF,e=>this._onInteraction(e,!1)),te.on(this._element,IF,e=>this._onInteraction(e,!0)),te.on(this._element,CF,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=Zh.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Yh(Zh);is(Zh);const xF={name:"Footer",data(){return{modalInstance:null,selectedLangue:"fr",selectedDevise:"EUR",langues:[{value:"fr",text:"Franais"},{value:"en",text:"Anglais"},{value:"es",text:"Espagnol"}],devises:[{value:"EUR",text:"Euro ()"},{value:"USD",text:"Dollar ($)"},{value:"GBP",text:"Livre ()"}]}},mounted(){const n=this.$refs.preferencesModal;this.modalInstance=new eo(n);const e=localStorage.getItem("langue"),t=localStorage.getItem("devise");e&&(this.selectedLangue=e),t&&(this.selectedDevise=t)},methods:{getLangueText(n){const e=this.langues.find(t=>t.value===n);return e?e.text:"Langue"},getDeviseText(n){const e=this.devises.find(t=>t.value===n);return e?e.text:"Devise"},openModal(){this.modalInstance&&this.modalInstance.show()},appliquerPreferences(){localStorage.setItem("langue",this.selectedLangue),localStorage.setItem("devise",this.selectedDevise),this.modalInstance&&this.modalInstance.hide()}}},LF={class:"modal fade",id:"preferencesModal",ref:"preferencesModal",tabindex:"-1","aria-labelledby":"preferencesModalLabel","aria-hidden":"true"},VF={class:"modal-dialog modal-dialog-centered"},MF={class:"modal-content"},$F={class:"modal-body"},FF={class:"mb-3"},UF=["value"],jF={class:"mb-3"},BF=["value"],HF={class:"modal-footer"};function qF(n,e,t,s,i,r){return Ye(),Qe("footer",null,[e[8]||(e[8]=IC('<p class="footer-text" data-v-2af8034d> 2025 Instant Geek</p><div class="footer-links" data-v-2af8034d><a class="footer-link" href="/about" data-v-2af8034d> propos</a> | <a class="footer-link" href="/privacy-policy" data-v-2af8034d>Politique de confidentialit</a> | <a class="footer-link" href="/terms-of-service" data-v-2af8034d>Conditions de ventes</a> | <a class="footer-link" href="/contact" data-v-2af8034d>Nous Contacter</a></div>',2)),M("div",null,[M("button",{class:"footer-button btn btn-primary",onClick:e[0]||(e[0]=(...o)=>r.openModal&&r.openModal(...o))},Bt(r.getLangueText(i.selectedLangue))+" | "+Bt(r.getDeviseText(i.selectedDevise)),1)]),M("div",LF,[M("div",VF,[M("div",MF,[e[7]||(e[7]=M("div",{class:"modal-header"},[M("h5",{class:"modal-title",id:"preferencesModalLabel"},"Prfrences"),M("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),M("div",$F,[M("form",null,[M("div",FF,[e[4]||(e[4]=M("label",{for:"langueSelect",class:"form-label"},"Langue :",-1)),Rs(M("select",{class:"form-select",id:"langueSelect","onUpdate:modelValue":e[1]||(e[1]=o=>i.selectedLangue=o)},[(Ye(!0),Qe(kt,null,Zi(i.langues,o=>(Ye(),Qe("option",{key:o.value,value:o.value},Bt(o.text),9,UF))),128))],512),[[Yg,i.selectedLangue]])]),M("div",jF,[e[5]||(e[5]=M("label",{for:"deviseSelect",class:"form-label"},"Devise :",-1)),Rs(M("select",{class:"form-select",id:"deviseSelect","onUpdate:modelValue":e[2]||(e[2]=o=>i.selectedDevise=o)},[(Ye(!0),Qe(kt,null,Zi(i.devises,o=>(Ye(),Qe("option",{key:o.value,value:o.value},Bt(o.text),9,BF))),128))],512),[[Yg,i.selectedDevise]])])])]),M("div",HF,[e[6]||(e[6]=M("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Annuler",-1)),M("button",{type:"button",class:"btn btn-primary",onClick:e[3]||(e[3]=(...o)=>r.appliquerPreferences&&r.appliquerPreferences(...o))},"Appliquer")])])])],512)])}const ed=js(xF,[["render",qF],["__scopeId","data-v-2af8034d"]]),WF="/assets/img/Logo.png",zF="/assets/img/sun.svg",KF="/assets/img/moon.svg";function Ry(n,e,t){const s=new Date;s.setTime(s.getTime()+t*24*60*60*1e3),document.cookie=`${n}=${e};expires=${s.toUTCString()};path=/`}function GF(n){const e=document.cookie.split(";");for(let t=0;t<e.length;t++){const s=e[t].trim();if(s.startsWith(`${n}=`))return s.substring(n.length+1)}return null}const ch=At(GF("dark-mode")==="active");function yA(){ch.value?(document.body.classList.add("dark-mode"),Ry("dark-mode","active",365)):(document.body.classList.remove("dark-mode"),Ry("dark-mode","inactive",365))}yA();const Py=()=>{ch.value=!ch.value,yA()},YF={class:"navbar navbar-expand-lg navbar-light bg-white shadow-sm"},QF={class:"container-fluid"},XF=["aria-expanded"],JF={class:"navbar-nav mx-auto mb-2 mb-lg-0"},ZF={class:"nav-item"},e4={class:"nav-item"},t4={class:"nav-item"},n4={class:"d-flex align-items-center"},s4={key:0,src:zF,alt:"Light mode",width:"24",height:"24"},i4={key:1,src:KF,alt:"Dark mode",width:"24",height:"24"},r4={__name:"Navbar",setup(n){const e=At(null);let t=null;const s=At(!1);va(()=>{e.value&&(t=new ga(e.value,{toggle:!1}))});const i=()=>{t&&(e.value.classList.contains("show")?(t.hide(),s.value=!1):(t.show(),s.value=!0))};return(r,o)=>{const l=Eh("router-link");return Ye(),Qe("nav",YF,[M("div",QF,[He(l,{class:"navbar-brand fw-bold me-auto",to:"/"},{default:cs(()=>o[1]||(o[1]=[M("img",{src:WF,alt:"Logo",width:"150",height:"50",class:"d-inline-block align-text-top"},null,-1)])),_:1}),M("button",{class:"navbar-toggler",type:"button",onClick:i,"aria-controls":"navbarSupportedContent","aria-expanded":s.value?"true":"false","aria-label":"Toggle navigation"},o[2]||(o[2]=[M("svg",{class:"navbar-toggler-icon-svg",viewBox:"0 0 30 30",xmlns:"http://www.w3.org/2000/svg"},[M("path",{stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-miterlimit":"10",d:"M4 7h22M4 15h22M4 23h22"})],-1)]),8,XF),M("div",{class:"collapse navbar-collapse",id:"navbarSupportedContent",ref_key:"collapseElement",ref:e},[M("ul",JF,[M("li",ZF,[He(l,{class:"nav-link",to:"/nouveautes"},{default:cs(()=>o[3]||(o[3]=[Go("Nouveauts")])),_:1})]),M("li",e4,[He(l,{class:"nav-link",to:"/precommandes"},{default:cs(()=>o[4]||(o[4]=[Go("Prcommandes")])),_:1})]),M("li",t4,[He(l,{class:"nav-link",to:"/prochaines-sorties"},{default:cs(()=>o[5]||(o[5]=[Go("Prochaines sorties")])),_:1})])]),M("div",n4,[o[8]||(o[8]=M("form",{class:"d-none d-lg-flex me-3",role:"search"},[M("input",{class:"form-control me-2",type:"search",placeholder:"Rechercher...","aria-label":"Search"}),M("button",{class:"btn btn-outline-secondary",type:"submit"},[M("i",{class:"bi bi-search"})])],-1)),He(l,{class:"nav-link fs-5 text ms-2",to:"/connexion"},{default:cs(()=>o[6]||(o[6]=[M("i",{class:"bi bi-person-circle"},null,-1)])),_:1}),He(l,{class:"nav-link fs-5 text ms-2",to:"/panier"},{default:cs(()=>o[7]||(o[7]=[M("i",{class:"bi bi-cart3"},null,-1)])),_:1}),M("button",{id:"theme_btn",class:"btn btn-primary",onClick:o[0]||(o[0]=(...u)=>oi(Py)&&oi(Py)(...u))},[oi(ch)?(Ye(),Qe("img",s4)):(Ye(),Qe("img",i4))])])],512)])])}}},td=js(r4,[["__scopeId","data-v-7b00a62a"]]),o4={__name:"Accueil",setup(n){return(e,t)=>(Ye(),Qe(kt,null,[He(td),He(Xx),He(aL),He(wL),He(kL),He(ed)],64))}},a4={__name:"Nouveautes",setup(n){return(e,t)=>(Ye(),Qe(kt,null,[He(td),t[0]||(t[0]=M("div",null,[M("h1",null,"Nouveauts"),M("p",null,"Dcouvrez ici les dernires nouveauts.")],-1)),He(ed)],64))}},l4={class:"container-fluid py-2 preco"},c4={id:"precoIn"},u4={class:"game-card"},h4=["href"],d4=["src","alt"],f4={class:"game-text"},p4={class:"titre"},m4={class:"prix"},g4={class:"dateSortie"},_4={__name:"PrecoPage",setup(n){const e=At([]),t=async()=>{const s=jp(Sa,"games"),i=new Date;i.setHours(0,0,0,0);const r=Xp(s,Jp("dateSortie",">=",i),MT("dateSortie"));try{const o=await nm(r);e.value=[],o.forEach(l=>{const u=l.data();e.value.push({id:l.id,titre:u.name,link:u.link,image:u.image,price:`${u.price}`,date:u.dateSortie.toDate().toLocaleDateString("fr-FR")})})}catch(o){console.error("Erreur lors de la rcupration des jeux :",o)}};return va(()=>{t()}),(s,i)=>(Ye(),Qe("div",l4,[M("div",null,[i[0]||(i[0]=M("h1",{class:"mt-3"},"Prcommandes",-1)),i[1]||(i[1]=M("p",{class:"mb-5"},"Rservez ds maintenant les articles  venir.",-1)),M("ul",c4,[(Ye(!0),Qe(kt,null,Zi(e.value,r=>(Ye(),Qe("li",{key:r.id},[M("div",u4,[M("a",{href:r.link},[M("img",{src:`/assets/img/preview/${r.image}`,alt:r.titre},null,8,d4)],8,h4),M("div",f4,[M("h3",p4,Bt(r.titre),1),M("h3",m4,Bt(r.price),1)]),M("p",g4,Bt(r.date),1)])]))),128))])])]))}},v4=js(_4,[["__scopeId","data-v-7f2bdaa9"]]),y4={__name:"Precommandes",setup(n){return(e,t)=>(Ye(),Qe(kt,null,[He(td),M("div",null,[He(v4)]),He(ed)],64))}},E4={__name:"ProchainesSorties",setup(n){return(e,t)=>(Ye(),Qe(kt,null,[He(td),t[0]||(t[0]=M("div",null,[M("h1",null,"Prochaines sorties"),M("p",null,"Consultez la liste de nos prochaines sorties.")],-1)),He(ed)],64))}},b4="/assets/img/inscription.jpg";async function T4(n,e){const s=(await Ek(Wh,n,e)).user;return await sm(Bp(Sa,"users",s.uid),{email:s.email,createdAt:new Date}),s}async function w4(n,e){return(await bk(Wh,n,e)).user}async function A4(){const n=new si,t=(await Hk(Wh,n)).user;return await sm(Bp(Sa,"users",t.uid),{email:t.email,displayName:t.displayName,createdAt:new Date},{merge:!0}),t}async function I4(n){await yk(Wh,n)}const C4={class:"login-page-wrapper vh-100 d-flex align-items-center justify-content-center"},S4={class:"login-card-container d-flex shadow-lg"},R4={class:"login-form-section p-4 d-flex flex-column justify-content-center align-items-center text-center"},P4={class:"form-group mb-3 text-start"},O4={class:"form-group mb-3 text-start"},D4={class:"form-group mb-3 text-start"},N4={class:"form-group mb-3 text-start"},k4={class:"form-group mb-3 text-start"},x4={class:"form-group mb-4 text-start"},L4={class:"d-flex justify-content-center w-100 mt-4 small-links"},V4={class:"login-image-section d-none d-md-flex align-items-center justify-content-center p-0"},M4={__name:"Inscription",setup(n){const e=At(""),t=At(""),s=At(""),i=At(""),r=At(""),o=At(""),l=zE();async function u(){try{const h=await T4(e.value,t.value);if(h&&h.uid)await sm(Bp(Sa,"users",h.uid),{email:e.value,username:s.value,firstname:i.value,birthdate:r.value,country:o.value,createdAt:new Date},{merge:!0}),alert("Compte cr avec succs !"),l.push("/");else throw new Error("L'utilisateur n'a pas t cr correctement par Firebase.")}catch(h){alert("Erreur lors de l'inscription : "+h.message)}}return(h,f)=>{const g=Eh("router-link");return Ye(),Qe("div",C4,[M("div",S4,[M("div",R4,[f[14]||(f[14]=M("h2",{class:"login-title mb-4 text-white"},"inscription",-1)),M("form",{onSubmit:gf(u,["prevent"]),class:"w-100"},[M("div",P4,[f[6]||(f[6]=M("label",{for:"email",class:"form-label text-uppercase text-white-50"},"Email",-1)),Rs(M("input",{id:"email","onUpdate:modelValue":f[0]||(f[0]=v=>e.value=v),type:"email",class:"form-control login-input",required:"","aria-label":"Email"},null,512),[[Ui,e.value]])]),M("div",O4,[f[7]||(f[7]=M("label",{for:"password",class:"form-label text-uppercase text-white-50"},"Mot de passe",-1)),Rs(M("input",{id:"password","onUpdate:modelValue":f[1]||(f[1]=v=>t.value=v),type:"password",class:"form-control login-input",required:"","aria-label":"Mot de passe"},null,512),[[Ui,t.value]])]),M("div",D4,[f[8]||(f[8]=M("label",{for:"username",class:"form-label text-uppercase text-white-50"},"Nom",-1)),Rs(M("input",{id:"username","onUpdate:modelValue":f[2]||(f[2]=v=>s.value=v),type:"text",class:"form-control login-input",required:"","aria-label":"Nom d'utilisateur"},null,512),[[Ui,s.value]])]),M("div",N4,[f[9]||(f[9]=M("label",{for:"firstname",class:"form-label text-uppercase text-white-50"},"Prnom",-1)),Rs(M("input",{id:"firstname","onUpdate:modelValue":f[3]||(f[3]=v=>i.value=v),type:"text",class:"form-control login-input",required:"","aria-label":"Prnom"},null,512),[[Ui,i.value]])]),M("div",k4,[f[10]||(f[10]=M("label",{for:"birthdate",class:"form-label text-uppercase text-white-50"},"Date de naissance",-1)),Rs(M("input",{id:"birthdate","onUpdate:modelValue":f[4]||(f[4]=v=>r.value=v),type:"date",class:"form-control login-input",required:"","aria-label":"Date de naissance"},null,512),[[Ui,r.value]])]),M("div",x4,[f[11]||(f[11]=M("label",{for:"country",class:"form-label text-uppercase text-white-50"},"Pays",-1)),Rs(M("input",{id:"country","onUpdate:modelValue":f[5]||(f[5]=v=>o.value=v),type:"text",class:"form-control login-input",required:"","aria-label":"Pays"},null,512),[[Ui,o.value]])]),f[12]||(f[12]=M("button",{type:"submit",class:"btn login-btn w-100"},"valider",-1))],32),M("div",L4,[He(g,{to:"/connexion",class:"text-decoration-none text-white-50"},{default:cs(()=>f[13]||(f[13]=[M("i",{class:"bi bi-arrow-left me-2"},null,-1),Go(" RETOUR ")])),_:1})])]),M("div",V4,[He(g,{to:"/",class:"close-button","aria-label":"Retour  l'accueil"},{default:cs(()=>f[15]||(f[15]=[M("i",{class:"bi bi-x-lg"},null,-1)])),_:1}),f[16]||(f[16]=M("img",{src:b4,alt:"Illustration de jeux vido pour l'inscription",class:"img-fluid login-background-image"},null,-1))])])])}}},$4=js(M4,[["__scopeId","data-v-826e79dc"]]),F4="/assets/img/connexion.jpg",U4={class:"login-page-wrapper vh-100 d-flex align-items-center justify-content-center"},j4={class:"login-card-container d-flex shadow-lg"},B4={class:"login-form-section p-4 d-flex flex-column justify-content-center align-items-center text-center"},H4={class:"form-group mb-3 text-start"},q4={class:"form-group mb-4 text-start"},W4={class:"d-flex justify-content-between w-100 mt-3 small-links"},z4={class:"login-image-section d-none d-md-flex align-items-center justify-content-center p-0"},K4={__name:"Connexion",setup(n){const e=At(""),t=At(""),s=zE();async function i(){try{await w4(e.value,t.value),alert("Connexion russie !"),s.push("/")}catch(l){alert("Erreur lors de la connexion : "+l.message)}}async function r(){try{await A4(),alert("Connexion Google russie !"),s.push("/")}catch(l){alert("Erreur avec Google : "+l.message)}}async function o(){if(!e.value){alert('Veuillez entrer votre adresse email dans le champ "Email" pour rinitialiser votre mot de passe.');return}try{await I4(e.value),alert("Un e-mail de rinitialisation de mot de passe a t envoy  "+e.value+". Veuillez vrifier votre bote de rception.")}catch(l){alert("Erreur lors de l'envoi de l'e-mail de rinitialisation : "+l.message)}}return(l,u)=>{const h=Eh("router-link");return Ye(),Qe("div",U4,[M("div",j4,[M("div",B4,[u[9]||(u[9]=M("h2",{class:"login-title mb-4"},"Se connecter",-1)),M("div",{class:"social-icons d-flex justify-content-center w-100 mb-4"},[M("button",{onClick:r,class:"btn social-icon-btn google-btn me-3","aria-label":"Se connecter avec Google"},u[2]||(u[2]=[M("i",{class:"bi bi-google"},null,-1)])),u[3]||(u[3]=M("button",{class:"btn social-icon-btn discord-btn me-3","aria-label":"Se connecter avec Discord"},[M("i",{class:"bi bi-discord"})],-1)),u[4]||(u[4]=M("button",{class:"btn social-icon-btn facebook-btn","aria-label":"Se connecter avec Facebook"},[M("i",{class:"bi bi-facebook"})],-1))]),u[10]||(u[10]=M("div",{class:"social-login-separator my-3"}," ou ",-1)),M("form",{onSubmit:gf(i,["prevent"]),class:"w-100"},[M("div",H4,[u[5]||(u[5]=M("label",{for:"email",class:"form-label text-uppercase"},"Email",-1)),Rs(M("input",{id:"email","onUpdate:modelValue":u[0]||(u[0]=f=>e.value=f),type:"email",class:"form-control login-input",required:"","aria-label":"Email"},null,512),[[Ui,e.value]])]),M("div",q4,[u[6]||(u[6]=M("label",{for:"password",class:"form-label text-uppercase"},"Mot de passe",-1)),Rs(M("input",{id:"password","onUpdate:modelValue":u[1]||(u[1]=f=>t.value=f),type:"password",class:"form-control login-input",required:"","aria-label":"Mot de passe"},null,512),[[Ui,t.value]])]),u[7]||(u[7]=M("button",{type:"submit",class:"btn login-btn w-100"},"Se connecter",-1))],32),M("div",W4,[He(h,{to:"/inscription",class:"text-decoration-none"},{default:cs(()=>u[8]||(u[8]=[Go(" J'ai besoin de compte ? ")])),_:1}),M("a",{href:"#",onClick:gf(o,["prevent"]),class:"text-decoration-none"}," Mot de passe oubli ? ")])]),M("div",z4,[He(h,{to:"/",class:"close-button","aria-label":"Retour  l'accueil"},{default:cs(()=>u[11]||(u[11]=[M("i",{class:"bi bi-x-lg"},null,-1)])),_:1}),u[12]||(u[12]=M("img",{src:F4,alt:"Illustration de jeux vido",class:"img-fluid login-background-image"},null,-1))])])])}}},G4=js(K4,[["__scopeId","data-v-6422ba25"]]),Y4=pR({history:HS("/"),routes:[{path:"/",name:"accueil",component:o4},{path:"/nouveautes",name:"nouveautes",component:a4},{path:"/precommandes",name:"precommandes",component:y4},{path:"/prochaines-sorties",name:"prochaines-sorties",component:E4},{path:"/inscription",name:"inscription",component:$4},{path:"/connexion",name:"connexion",component:G4}],linkActiveClass:"active"}),EA=aS(dS);EA.use(Y4);EA.mount("#app");
